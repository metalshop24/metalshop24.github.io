!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/_build/",n(n.s=18)}([,,,function(e,t,n){"use strict";t.getCookie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=("; "+document.cookie).split("; "+e+"=");return 2==n.length?n.pop().split(";").shift():t},t.setCookie=function(e,t,n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var i="expires="+o.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"};var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document;return[].slice.call(t.querySelectorAll(e))};t.dom={$$:o,exists:function(e){return o(e).length>0}},t.removeHTMLAttribute=function(e){var t=new RegExp(e+"=(\\\"|')[^(\\\"|')].*?(\\\"|')","gi");return function(e){return e.replace(t,"")}},t.removeHTMLTag=function(e){var t=new RegExp("<"+e+"([\\s\\S]+?)<\\/"+e+">","gi");return function(e){return e.replace(t,"")}},t.cleaner=function(e){return function(t){return function(n){return t.map(function(t){return e(t)}).reduce(function(e,t){return t(e)},n)}}};var i=function(e){return"[object Object]"===Object.prototype.toString.call(e)};t.debounce=function(e,t,n){var o;return function(){var i=this,r=arguments,a=n&&!o;clearTimeout(o),o=setTimeout(function(){o=null,n||e.apply(i,r)},t),a&&e.apply(i,r)}},t.removePartOfString=function(e){return function t(n){return i(n)?Object.keys(n).reduce(function(o,r){return Array.isArray(n[r])?o[r]=n[r].map(function(e){return t(e)}):i(n[r])?o[r]=t(n[r]):"string"==typeof r&&/^(href|url|path|hreflang)$/.test(r)?n[r]&&(o[r]=n[r].replace(e,"")):o[r]=n[r],o},{}):Array.isArray(n)?n.map(function(e){return t(e)}):n}};t.getParameterByName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t||(t=window.location.href),e=e.replace(/[[]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null};t.hasParameter=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t||(t=window.location.href),new RegExp("[\\?|\\&]"+r(encodeURIComponent(e))+"\\b").test(t)};var r=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(3);var r=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.contents=t,this.pageLength=n,this.currentPage=o,this.length=Math.ceil(t.length/n),this.page=this.buildPage(),this.pager=this.buildPager(),this.pager)for(var i=this.pager.querySelectorAll("a"),r=0;r<i.length;r++)i[r].addEventListener("click",this.setToPage),i[r].pager=this;this.setPage()}return o(e,[{key:"buildPager",value:function(){if(1==this.length)return null;var e=document.createElement("div");e.classList.add("pager"),e.appendChild(n("prev","<<"));for(var t=0;t<this.length;t++)e.appendChild(n(t+1,t+1));return e.appendChild(n("next",">>")),e;function n(e,t){var n=document.createElement("a");return n.classList.add("pager-link"),n.innerHTML=t,n.setAttribute("data-page",e),n}}},{key:"buildPage",value:function(){var e=document.createElement("div");return e.classList.add("page"),e}},{key:"setToPage",value:function(e){var t=e.target.pager,n=e.target.getAttribute("data-page");(n="next"===n?t.currentPage+1:"prev"===n?t.currentPage-1:parseInt(n)-1)>=0&&n<t.length&&(t.currentPage=n,t.setPage())}},{key:"setPage",value:function(){var e=this,t=document.getElementById("sort"),n=[],o=this;this.page.innerHTML="";for(var i=this.contents.slice(this.currentPage*this.pageLength,(this.currentPage+1)*this.pageLength),r=function(e){a.getCommentInfo({streamId:i[e].streamId,categoryId:i[e].categoryId}).then(function(t){if(0==t.errorCode){var r=new Date(t.streamInfo.createDate),a=t.streamInfo.streamTitle;a&&a.length>70&&(a=a.substring(0,70)+"..."),n.push({date:r,url:t.streamInfo.streamURL,title:a,dateCreated:t.streamInfo.createDate}),o.page.innerHTML+='<div class="comment"><span class="comment-date">'+r.toUTCString().substring(0,16)+'</span><div class="comment-change" style="display: none"><span class="comment-ellipsis"></span><div class="comment-edit"><a class="comment-view" href="'+t.streamInfo.streamURL+'#comments" target="_blank">View</a><a class="comment-delete" data-stream-id="'+t.streamInfo.streamID+'" data-comment-id="'+i[e].ID+'" href="#">Delete</a></div></div><a href="'+t.streamInfo.streamURL+'#comments" target="_blank" class="message-anchor"><span class="comment-title">'+a+'</span><span class="message">'+i[e].commentText+"</span></a></div>"}}).catch(function(e){console.log(e)})},s=0;s<i.length;s++)r(s);n&&t&&t.addEventListener("click",function(t){t.preventDefault(),n.sort(function(e,t){return new Date(e.dateCreated)<new Date(t.dateCreated)}),e.page.innerHTML="";for(var r=0;r<n.length;r++)o.page.innerHTML+='<div class="comment"><span class="comment-date">'+n[r].date.toUTCString().substring(0,16)+'</span><div class="comment-change" style="display: none"><span class="comment-ellipsis"></span><div class="comment-edit"><a class="comment-view" href="#">View</a><a class="comment-delete" href="#">Delete</a></div></div><a href="'+n[r].url+'#comments" target="_blank" class="message-anchor"><span class="comment-title">'+n[r].title+'</span><span class="message">'+i[r].commentText+"</span></a></div>"}),this.setPager()}},{key:"setPager",value:function(){if(this.pager){var e=this.currentPage+1;this.pager.querySelector(".disabled")&&this.pager.querySelector(".disabled").classList.remove("disabled"),this.pager.querySelector(".active")&&this.pager.querySelector(".active").classList.remove("active"),0===this.currentPage?this.pager.querySelector('[data-page="prev"]').classList.add("disabled"):this.currentPage===this.length-1&&this.pager.querySelector('[data-page="next"]').classList.add("disabled"),this.pager.querySelector('[data-page="'+e+'"]')&&this.pager.querySelector('[data-page="'+e+'"]').classList.add("active")}}},{key:"getPage",value:function(){return this.page}},{key:"getPager",value:function(){return this.pager}}]),e}(),a={queueGigya:[],getUserInfoPath:"/internal-api/gigya-user",getUserCommentsPath:"/internal-api/user-comments?__amp_source_origin="+window.location.origin,updateProfilePath:"/internal-api/profile-update",uploadPhotoPath:"/internal-api/profile-photo-upload",getCommentInfoPath:"/internal-api/get-comment-info?__amp_source_origin="+window.location.origin,getUserInfo:function(){var e="?__amp_source_origin="+window.location.protocol+"//"+window.location.hostname;return fetch(this.getUserInfoPath+e,{credentials:"include"}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})})},getUserComments:function(e){return fetch(this.getUserCommentsPath+(e?"&minds=true":""),{credentials:"include"}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})})},updateProfile:function(e){return fetch(this.updateProfilePath,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})})},uploadPhoto:function(e){return fetch(this.uploadPhotoPath,{method:"post",credentials:"include",body:e}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})})},getCommentInfo:function(e){return fetch(this.getCommentInfoPath,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})})},tryGetUserInfo:function(){var e=this,t=5,n=function n(o,i){e.getUserInfo().then(function(e){e.errorMessage?--t>=0?(console.log("attemp to get user info...."+t),setTimeout(function(){n(o,i)},1e3)):i("User is not logged in."):o(e)})};return new Promise(n)},initSocialLogin:function(e,t){var n=this,o=Object.assign({version:2,width:250,height:100,containerID:e,buttonsStyle:"fullLogoColored",enabledProviders:"facebook, twitter, googleplus",showTermsLink:!1,onLogin:n.handleSocialLogin,onError:n.handleSocialError},t);"undefined"!=typeof gigya?gigya.socialize.showLoginUI(o):(n.queueGigya.push([e,o]),window.onGigyaServiceReady=function(){n.queueGigya.forEach(function(e){return n.initSocialLogin(e[0],e[1])})})},handleSocialError:function(e){var t=e.response,n=document.forms["gigya-social-login-form"];n&&(n.elements.UID.value=t.UID,n.elements.UIDSignature.value=t.UIDSignature,n.elements.regToken.value=t.regToken,n.elements.responseCode.value=t.errorCode,n.dispatchEvent(new Event("submit")))},handleSocialLogin:function(e){var t=e.response,n=e.user,o=document.forms["gigya-social-login-form"];o&&(o.elements.email.value=n.email,o.elements.UID.value=t.UID,o.elements.UIDSignature.value=t.UIDSignature,o.elements.signatureTimestamp.value=t.signatureTimestamp,o.elements.nickname.value=n.nickname,o.elements.regToken.value=t.regToken,o.elements.responseCode.value=t.errorCode,o.dispatchEvent(new Event("submit")))},getAccountInfo:function(){},handleRedirectSocialLogin:function(e){var t=e.user,n=document.forms["gigya-social-login-form"];n&&(n.elements.UID.value=e.UID,n.elements.UIDSignature.value=e.UIDSignature,n.elements.nickname.value=t.nickname,n.elements.responseCode.value=0,n.dispatchEvent(new Event("submit")))},initRedirectSocialLogin:function(){var e=this,t=(0,i.getParameterByName)("social"),n=(0,i.getParameterByName)("errorCode"),o=(0,i.getParameterByName)("email"),r={UID:(0,i.getParameterByName)("UID"),UIDSignature:(0,i.getParameterByName)("UIDSignature"),user:{email:o,nickname:(0,i.getParameterByName)("nickname")}},a=window.location.href;"undefined"!=typeof gigya&&t&&"0"!==n?gigya.socialize.login({provider:t,authFlow:"redirect",redirectURL:a,pendingRegistration:!0,callback:this.handleSocialLogin}):"0"===n?this.handleRedirectSocialLogin(r):window.onGigyaServiceReady=function(){e.initRedirectSocialLogin()}},initProfilePhotoUpload:function(e){var t=e.querySelector('input[type="file"]'),n=e.querySelector("label span"),o=e.querySelector(".profile-photo img"),i=this;t.addEventListener("change",function(e){n.innerHTML="Uploading...";var t=e.target.files[0];if(t.type.match("image.*")){var r=new FormData;r.append("file",t),i.uploadPhoto(r).then(function(e){n.innerHTML="Update photo",e&&e.profile&&(e.profile.thumbnailURL?o.src=e.profile.thumbnailURL:e.profile.photoURL&&(o.src=e.profile.photoURL))}).catch(function(e){n.innerHTML="Update photo",console.log(e)})}})},initProfileComments:function(e,t){this.getUserComments(t).then(function(t){var n=t.comments?t.comments:[];if(n.length>0){var o=new r(n,10);e.appendChild(o.getPage());var i=o.getPager();i&&e.appendChild(i)}else e.innerHTML="<h3>You have not commented on any of our live articles yet</h3>"}).catch(function(e){console.log(e)})},initLogout:function(){window.opener?window.location.href="/logout?returnUrl="+encodeURIComponent("/popup-close?refresh"):window.location.href="/logout?returnUrl="+encodeURIComponent(window.location.pathname+window.location.search)},initLogin:function(){this.initPopup("/login?noframe=1","LoginWindow")},initPopup:function(e,t){!function(e,t,n,o){var i=void 0!=window.screenLeft?window.screenLeft:screen.left,r=void 0!=window.screenTop?window.screenTop:screen.top,a=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-n/2+i,s=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-o/2+r,l=window.open(e,t,"scrollbars=yes, width="+n+", height="+o+", top="+s+", left="+a);window.focus&&l.focus()}(e,t,850,650)},flagComment:function(){if("undefined"!=typeof gigya){var e={};document.querySelectorAll("#flag-fieldset input").forEach(function(t){return e[t.name]=t.value}),gigya.comments.flagComment(e)}},init:function(){this.getUserInfo().then(function(e){!e.errorMessage&&window.document.querySelector("image.kruxUser")}).catch(function(){})}};t.default=a},,,,function(e,t,n){"use strict";t.once=function(e){var t=null;return function(){return t?void 0:(t=!0,e.apply(this,arguments))}}},function(e,t,n){"use strict";var o=n(3),i=function(){var e=document.documentElement;return{getX:function(){return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getY:function(){return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}}};e.exports={initPersistentPlayer:function(){var e=document.querySelector("#amp-container"),t=2e4;(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<620&&(t=1e4);var n=void 0,o=void 0,r=void 0,a=void 0,s=void 0,l=void 0;if(e){var c=e.shadowRoot||e;n=c.querySelector(".hero-video"),o=c.querySelector("#top-container-wrapper"),r=c.querySelector(".top-container.video"),a=c.querySelector("#video-popout-close"),null===o&&(o=c.querySelector("#full-article")),null===r&&(r=c.querySelector(".hero-wrap-video")),s=c.querySelector(".hero-wrapper"),l=c.querySelector(".hero .caption")}else n=document.querySelector(".hero-video"),o=document.querySelector("#top-container-wrapper"),r=document.querySelector(".top-container.video"),a=document.querySelector("#video-popout-close"),null===o&&(o=document.querySelector("#full-article")),null===r&&(r=document.querySelector(".hero-wrap-video")),s=document.querySelector(".hero-wrapper"),l=document.querySelector(".hero .caption");var d=!1,u=void 0,g=i().getY,p=750;u=n.clientHeight;var m=document.querySelector(".hero-video");m&&(p=m.getBoundingClientRect().top+Math.round(u/3)),googletag.cmd=googletag.cmd||[],googletag.cmd.push(function(){googletag.pubads().addEventListener("slotRenderEnded",function(e){switch(e.slot.getSlotElementId()){case"leaderboard":p=m.getBoundingClientRect().top+Math.round(u/3)}})}),window.addEventListener("scroll",function(){d=!0;var e=g();r.classList.contains("closed")||(u||(u=n.clientHeight),p<603&&(p=603),e>=p?(o.setAttribute("style","margin-top: "+(u+60)+"px;"),r.classList.add("sticky"),s.style.maxWidth=o.clientWidth+"px",l&&(l.style.visibility="hidden"),"1000px"==s.style.maxWidth&&(s.style.marginLeft="-50px",s.style.marginRight="-50px",s.style.paddingLeft="0")):e<p&&(o.setAttribute("style","margin-top: 0;"),r.classList.remove("sticky"),l&&(l.style.visibility="visible"),s.style.marginLeft="auto",s.style.marginRight="auto"))});var f=setInterval(function(){d&&(d=!1)},100);a&&(a.addEventListener("click",function(){clearInterval(f),o.setAttribute("style","margin-top: 0;"),r.classList.add("closed"),l&&(l.style.visibility="visible")}),a.classList.contains("sensitive")?a.classList.add("shown"):setTimeout(function(){a.classList.add("shown")},t))},viewportPos:i,getElementViewportOffset:function(e){return e.getBoundingClientRect()},initDockingPlayer:function(e,t){var n=2e4;(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<620&&(n=1e4);var i=void 0;i=document.querySelector("#video-popout-close");var r=!1,a=750,s=(0,o.debounce)(l,50);function l(n){var o=e.querySelector(".sticky-video");if(t){var i=e.getBoundingClientRect(),s=i.height,l=i.top;a=l+s,r=!0,t.classList.contains("closed")||(a<=95?(e&&(e.style.height=e.clientHeight+"px"),!t.classList.contains("sticky")&&t.classList.add("sticky")):(e.style.height=null,t.classList.contains("sticky")&&t.classList.remove("sticky"),e.querySelector(".sticky-video").style.setProperty("top",null),n?o.style.setProperty("top",n+"px"):o.style.setProperty("top",null)))}}window.addEventListener("scroll",function(){return s()}),window.addEventListener("sticky.esi.leaderboard",function(e){var t=e.detail.leaderboardElem.getBoundingClientRect(),n=t.top,o=t.height;return s(n+o)}),window.addEventListener("unsticky.esi.leaderboard",function(){return s()}),l();var c=setInterval(function(){r&&(r=!1)},100);return i&&(i.addEventListener("click",function(){clearInterval(c),t.classList.add("closed")}),i.classList.contains("sensitive")?i.classList.add("shown"):setTimeout(function(){i.classList.add("shown")},n)),{dispose:function(){window.removeEventListener("scroll",s),t.classList.remove("sticky")}}},initSlideDockingPlayer:function(){var e=document.querySelector(".video-hero-lb-wrap"),t=document.querySelector(".highlights-wrapper"),n=document.querySelector("body"),o=document.querySelector("#main"),i=document.querySelector("#live-list-update-btn"),r=function(){if(window.matchMedia("(min-width: 930px)").matches)if(e.getBoundingClientRect().top+window.scrollY<=window.scrollY+95){if(n.classList.contains("sticky-video"))return;var r=o.getBoundingClientRect().x;n.classList.add("sticky-video"),t&&(t.style.left=r+"px"),n.classList.contains("sticky-video")&&i.classList.contains("amp-active")&&(t.style.left=r+"px"),n.classList.contains("sticky-video")&&i.classList.contains("amp-hidden")&&(t.style.left=r+"px")}else{if(!n.classList.contains("sticky-video"))return;n.classList.remove("sticky-video"),t&&(t.style.left="0")}};return window.addEventListener("scroll",r),window.addEventListener("orientationchange",r),r(),{dispose:function(){n.classList.remove("sticky-video"),window.removeEventListener("orientationchange",r)}}},initScrollToVideo:function(){var e=document.querySelector(".scroll-to-video"),t=document.querySelector("h1.headline"),n=document.querySelector(".hero-wrapper").getBoundingClientRect(),o=0,i=void 0;window.addEventListener("scroll",function(){var n=t.getBoundingClientRect().top;window.scrollY<o&&n<0&&(clearTimeout(i),e.classList.add("shown"),i=setTimeout(function(){e.classList.remove("shown")},2500)),o=window.scrollY}),e&&document.querySelector(".scroll-to-video a").addEventListener("click",function(e){window.scrollTo(0,n.y),e.preventDefault()})}}},,function(e,t,n){"use strict";var o=n(10),i=n(3),r=n(9),a={},s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l="gtr",c="gtl",d=["leaderboard","thirdparty01","teadsib","znaptag","outofpageslot","mpu0ArticleSidebar","mpu0ArticleBody","mpu0Section",l,c,"stickyFooter"],u=void 0;t.ST_MPU0="st_mpu0",t.ST_MPU1="st_mpu1",t.ST_MPU2="st_mpu2",t.MPU5="mpu5";var g=(0,r.once)(function(e,t,n){console.log("inside attach event listener function");var o=window.location.href;googletag.pubads().addEventListener("slotOnload",function(e){switch(e.slot.getSlotElementId()){case"leaderboard":!function(e){var t=document.getElementById(e.slot.getSlotElementId());t.classList.add("loaded");var n=document.querySelector(".hero"),o=!1;if(n&&(o=n.classList.contains("hero-video")),!o){var i=document.getElementById("sticky-leaderboard-positioner");t.classList.add("sticky");var r=t.offsetHeight+parseFloat(getComputedStyle(t).marginBottom)+parseFloat(getComputedStyle(t).marginTop);i.style.marginTop=r+"px",window.dispatchEvent(new CustomEvent("sticky.esi.leaderboard",{detail:{leaderboardElem:t}})),setTimeout(function(){i.style.marginTop=null,t.classList.remove("sticky"),window.dispatchEvent(new CustomEvent("unsticky.esi.leaderboard",{detail:{leaderboardElem:t}}))},5e3)}}(e)}}),googletag.pubads().addEventListener("slotRenderEnded",function(i){var r=document.querySelector("#body"),d=document.querySelector(".leaderboard");if(339189045===i.lineItemId&&(r.classList.add("takeover-loaded"),d.classList.add("sticky"),setTimeout(function(){d.classList.remove("sticky")},5e3)),"stickyFooter"===i.slot.getSlotElementId()){var u=document.querySelector(".sticky-ad-close-button-press");1==i.size[0]&&1==i.size[1]?(u.classList.add("sticky-ad-close-button-press"),document.querySelector("#stickyFooter").classList.add("sticky-ad-close-button-press")):(u.classList.remove("sticky-ad-close-button-press"),u.classList.add("sticky-ad-close-button"))}if(!i.isEmpty&&-1===o.indexOf("/insider")){var g=document.querySelector("#gtr"),p=document.querySelector("#gtl"),m=document.querySelector("#body");switch(i.slot.getSlotElementId()){case"mpu0Section":if(i.size[1]<600&&m.classList.contains("section")&&s>=728)document.querySelector("#"+i.slot.getSlotElementId()).classList.add("has-sharethough"),googletag.cmd.push(function(){a.st_mpu0=googletag.defineSlot(e,[300,260],"st_mpu0").setCollapseEmptyDiv(!0).setTargeting("tile","st_mpu0").setTargeting("tg",t).setTargeting("docFormat","pwa").setTargeting("share",n.shareMPU0).addService(googletag.pubads()),googletag.display("st_mpu0"),googletag.pubads().refresh([a.st_mpu0],{changeCorrelator:!1})});break;case"mpu1":if(i.size[1]<600&&m.classList.contains("section")&&s>=728)document.querySelector("#"+i.slot.getSlotElementId()).classList.add("has-sharethough"),googletag.cmd.push(function(){a.st_mpu1=googletag.defineSlot(e,[300,261],"st_mpu1").setCollapseEmptyDiv(!0).setTargeting("tile","st_mpu1").setTargeting("tg",t).setTargeting("docFormat","pwa").setTargeting("share",n.shareMPU1).addService(googletag.pubads()),googletag.display("st_mpu1"),googletag.pubads().refresh([a.st_mpu1],{changeCorrelator:!1})});break;case"mpu2":if(i.size[1]<600&&m.classList.contains("section")&&s>=728)document.querySelector("#"+i.slot.getSlotElementId()).classList.add("has-sharethough"),googletag.cmd.push(function(){a.st_mpu2=googletag.defineSlot(e,[300,262],"st_mpu2").setCollapseEmptyDiv(!0).setTargeting("tile","st_mpu2").setTargeting("tg",t).setTargeting("docFormat","pwa").setTargeting("share",n.shareMPU2).addService(googletag.pubads()),googletag.display("st_mpu2"),googletag.pubads().refresh([a.st_mpu2],{changeCorrelator:!1})});break;case c:i.size[0]>=300?p.classList.add("gtl-dmpu"):i.size[0]>=160?p.classList.add("gtl-ssky"):i.size[0]>=120&&p.classList.add("gtl-sky"),i.size[0]>=120&&(m.classList.add("wrapped_by_ads"),m.classList.add("takeover-loaded"));break;case l:i.size[0]>=300?g.classList.add("gtr-dmpu"):i.size[0]>=160?g.classList.add("gtr-ssky"):i.size[0]>=120&&g.classList.add("gtr-sky");break;case"st_mpu0":case"st_mpu1":case"st_mpu2":console.log("Sharethrough loaded. Size: "+i.size[0]+"x"+i.size[1])}}})}),p=function(){var e=[],t=function t(){if(0===e.length)return window.removeEventListener("scroll",t),void window.removeEventListener("resize",t);e=e.map(function(e){return(0,o.getElementViewportOffset)(document.getElementById(e)).top<1e3?(googletag.display(e),googletag.pubads().refresh([a[e]],{changeCorrelator:!1}),null):e}).filter(function(e){return null!==e})};e=Object.keys(a).filter(function(e){return null!==document.getElementById(e)&&!(-1!==d.indexOf(e))}),window.addEventListener("scroll",t),window.addEventListener("resize",t),t()};t.prebidInit=function(e){window.googletag=window.googletag||{cmd:[]},googletag.cmd.push(function(){googletag.pubads().disableInitialLoad()}),window.googletag=googletag;var t=[{code:"leaderboard",sizes:[[728,90],[970,250]],bids:[{bidder:"indexExchange",params:{id:"1",siteID:"236901"}},{bidder:"openx",params:{unit:"539580870",delDomain:"esimedia-d.openx.net"}},{bidder:"rubicon",params:{accountId:"17292",siteId:"163642",zoneId:"785158"}},{bidder:"criteo",params:{zoneId:"1114879"}}]},{code:"mpu0",sizes:[[300,250],[300,600]],bids:[{bidder:"indexExchange",params:{id:"2",siteID:"240585"}},{bidder:"openx",params:{unit:"539580872",delDomain:"esimedia-d.openx.net"}},{bidder:"pubmatic",params:{publisherId:"153141",adSlot:"independent@300x250"}},{bidder:"rubicon",params:{accountId:"17292",siteId:"163642",zoneId:"785160"}},{bidder:"criteo",params:{zoneId:"1114878"}}]},{code:"mpu1",sizes:[[300,250],[300,600]],bids:[{bidder:"indexExchange",params:{id:"3",siteID:"240586"}},{bidder:"openx",params:{unit:"539580874",delDomain:"esimedia-d.openx.net"}},{bidder:"rubicon",params:{accountId:"17292",siteId:"163642",zoneId:"785162"}},{bidder:"criteo",params:{zoneId:"1114880"}}]},{code:"mpu2",sizes:[[300,250],[300,600]],bids:[{bidder:"indexExchange",params:{id:"4",siteID:"240587"}},{bidder:"openx",params:{unit:"539580876",delDomain:"esimedia-d.openx.net"}},{bidder:"rubicon",params:{accountId:"17292",siteId:"163642",zoneId:"785164"}},{bidder:"criteo",params:{zoneId:"1114881"}}]},{code:"mpu3",sizes:[[300,250]],bids:[{bidder:"indexExchange",params:{id:"5",siteID:"240588"}},{bidder:"openx",params:{unit:"539580879",delDomain:"esimedia-d.openx.net"}},{bidder:"rubicon",params:{accountId:"17292",siteId:"163642",zoneId:"785166"}},{bidder:"criteo",params:{zoneId:"1114882"}}]},{code:"mpu4",sizes:[[300,250]],bids:[{bidder:"openx",params:{unit:"539580880",delDomain:"esimedia-d.openx.net"}},{bidder:"criteo",params:{zoneId:"1114883"}}]},{code:"mpu5",sizes:[[300,250]],bids:[{bidder:"indexExchange",params:{id:"6",siteID:"240589"}},{bidder:"openx",params:{unit:"539580882",delDomain:"esimedia-d.openx.net"}},{bidder:"rubicon",params:{accountId:"17292",siteId:"163642",zoneId:"785184"}},{bidder:"criteo",params:{zoneId:"1114884"}}]}],n=window.pbjs||{};function o(){n.adserverRequestSent||(n.adserverRequestSent=!0,googletag.cmd.push(function(){n.que.push(function(){n.setTargetingForGPTAsync(),e()})}))}n.que=n.que||[],n.que.push(function(){n.enableSendAllBids()}),n.que.push(function(){n.enableAnalytics({provider:"ga",options:{global:"ga",enableDistribution:!1}})}),n.que.push(function(){n.addAdUnits(t),n.requestBids({bidsBackHandler:o})}),window.pbjs=n,function(){var e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src="//www.independent.co.uk/profiles/ines/modules/ines_commercial/ines_commercial_ads/js/commercial.prebid.0.34.0.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),setTimeout(function(){o()},1e3)},window.location.href.indexOf("/service/")>-1&&document.body.classList.add("service");var m=!1;t.loadAds=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!m){m=!0;var r="no",h=window.location.href;(u=document.querySelector("#leaderboard"))&&u.classList.remove("loaded");var y=void 0,v=void 0,b=void 0,w=void 0,S=void 0,k=void 0,L=void 0,E=void 0,x=void 0,T=void 0;s>=970?(y=[[728,90],[970,250]],v=[[728,91],[970,251]],b=-1!==h.indexOf("/insider")?[[728,90],[970,250]]:[[300,600],[300,250]],w=-1!==h.indexOf("/insider")?[[728,90],[970,250]]:[[300,601],[300,251]],S=-1!==h.indexOf("/insider")?[[728,90],[970,250]]:[[300,602],[300,252]],L=[[120,607],[160,607],[300,257],[300,607]]):s>=750?(y=[728,90],v=[728,91],b=-1!==h.indexOf("/insider")?[728,90]:[[300,600],[300,250]],w=-1!==h.indexOf("/insider")?[728,90]:[[300,601],[300,251]],S=-1!==h.indexOf("/insider")?[728,90]:[[300,602],[300,252]],L=[[120,607],[160,607],[300,257],[300,607]]):(b=[300,250],w=[300,251],v=[300,251],S=[300,252],L=[300,257],T=[320,50]),k=o?[300,259]:[300,254],x=!0,s>=1650?E=[[120,609],[160,609],[300,609]]:s>=1320?E=[[120,609],[160,609]]:s>=1280?E=[[120,609]]:(E=[],x=!1),s>=1280&&null==document.querySelector(".h-video")&&null==document.querySelector("body.inskin-disabled")&&(r="yes"),googletag.cmd=googletag.cmd||[],googletag.cmd.push(function(){var o,u="",m=window.location.href;if(o=[[300,250],[300,600]],n){!function(e,t,n,o,i,r,a){function s(n,o){t[e]._Q.push([n,o])}t[e]||(t[e]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(r=n.createElement(o)).async=!0,r.src="//c.amazon-adsystem.com/aax2/apstag.js",(a=n.getElementsByTagName(o)[0]).parentNode.insertBefore(r,a))}("apstag",window,document,"script"),u=window.apstag;var h=void 0;h=s>=930?[300,255]:[320,51],u.init({pubID:"3579",adServer:"googletag",bidTimeout:2e3});var _=[["leaderboard",y,i.dom.exists("#leaderboard")],["leaderboard1",v,i.dom.exists("#leaderboard1")],["mpu0Section",b,i.dom.exists("#mpu0Section")],["mpu0ArticleSidebar",b,i.dom.exists("#mpu0ArticleSidebar")],["mpu0ArticleBody",o,i.dom.exists("#mpu0ArticleBody")],["mpu1",w,i.dom.exists("#mpu1")],["mpu2",S,i.dom.exists("#mpu2")],["mpu3",[[300,253]],i.dom.exists("#mpu3")],["mpu4",k,i.dom.exists("#mpu4")],["mpu5",h,i.dom.exists(".grid-mod-gallery")],["mpu7",L,i.dom.exists("#mpu7")],["gtl",E,i.dom.exists("#gtl")],["gtr",E,i.dom.exists("#gtr")],["stickyFooter",T,i.dom.exists("#stickyFooter")]].filter(function(e){return e[2]}).reduce(function(t,n){return t.push({slotID:n[0],slotName:e.gpt,sizes:n[1]}),t},[]);u.fetchBids({slots:_})}s>=930&&(a.leaderboard=googletag.defineSlot(e.gpt,y,"leaderboard").setCollapseEmptyDiv(!0).setTargeting("tile","leaderboard").setTargeting("tg",e.tg).setTargeting("docFormat","pwa").setTargeting("inskin",r).addService(googletag.pubads())),a.leaderboard1=googletag.defineSlot(e.gpt,v,"leaderboard1").setCollapseEmptyDiv(!0).setTargeting("tile","leaderboard1").setTargeting("tg",e.tg).setTargeting("docFormat","pwa").setTargeting("inskin",r).addService(googletag.pubads()),a.thirdparty01=googletag.defineSlot(e.gpt,[3,3],"thirdparty01").setCollapseEmptyDiv(!0).setTargeting("tile","thirdparty01").setTargeting("tg",e.tg).setTargeting("docFormat","pwa").addService(googletag.pubads()),a.teadsib=googletag.defineSlot(e.gpt,[4,4],"teadsib").setCollapseEmptyDiv(!0).setTargeting("tile","teadsib").setTargeting("tg",e.tg).setTargeting("docFormat","pwa").setTargeting("inskin",r).addService(googletag.pubads()),a.znaptag=googletag.defineSlot(e.gpt,[9,9],"znaptag").setCollapseEmptyDiv(!0).setTargeting("tile","znaptag").setTargeting("tg",e.tg).setTargeting("docFormat","pwa").addService(googletag.pubads()),a.outofpageslot=googletag.defineOutOfPageSlot(e.gpt,"outofpageslot").setCollapseEmptyDiv(!0).setTargeting("tile","outofpageslot").setTargeting("tg",e.tg).setTargeting("docFormat","pwa").addService(googletag.pubads());var A=f(s,e.contentType);if(s<750&&-1!==A.indexOf("#stickyFooter")&&(a.stickyFooter=googletag.defineSlot(e.gpt,T,"stickyFooter").setCollapseEmptyDiv(!0).setTargeting("tile","stickyFooter").setTargeting("tg",e.tg).setTargeting("docFormat","pwa").addService(googletag.pubads())),-1!==A.indexOf("#mpu0ArticleSidebar")&&(a.mpu0ArticleSidebar=googletag.defineSlot(e.gpt,[[300,250],[300,600]],"mpu0ArticleSidebar").setCollapseEmptyDiv(!0).setTargeting("tile","mpu0ArticleSidebar").setTargeting("tg",e.tg).setTargeting("docFormat","pwa").setTargeting("share",e.gptIds.shareMPU).addService(googletag.pubads())),-1!==A.indexOf("#mpu0ArticleBody")&&(a.mpu0ArticleBody=googletag.defineSlot(e.gpt,o,"mpu0ArticleBody").setCollapseEmptyDiv(!0).setTargeting("tile","mpu0ArticleBody").setTargeting("tg",e.tg).setTargeting("docFormat","pwa").setTargeting("share",e.gptIds.shareMPU).addService(googletag.pubads())),-1!==A.indexOf("#mpu0Section")&&(a.mpu0Section=googletag.defineSlot(e.gpt,b,"mpu0Section").setCollapseEmptyDiv(!0).setTargeting("tile","mpu0Section").setTargeting("tg",e.tg).setTargeting("docFormat","pwa").setTargeting("share",e.gptIds.shareMPU).addService(googletag.pubads())),-1!==A.indexOf("#mpu1")&&(a.mpu1=googletag.defineSlot(e.gpt,w,"mpu1").setCollapseEmptyDiv(!0).setTargeting("tile","mpu1").setTargeting("tg",e.tg).setTargeting("docFormat","pwa").addService(googletag.pubads())),-1!==A.indexOf("#mpu2")&&(a.mpu2=googletag.defineSlot(e.gpt,S,"mpu2").setCollapseEmptyDiv(!0).setTargeting("tile","mpu2").setTargeting("tg",e.tg).setTargeting("docFormat","pwa").addService(googletag.pubads())),-1!==A.indexOf("#mpu3")&&(a.mpu3=googletag.defineSlot(e.gpt,[300,253],"mpu3").setCollapseEmptyDiv(!0).setTargeting("tile","mpu3").setTargeting("tg",e.tg).setTargeting("docFormat","pwa").addService(googletag.pubads())),-1!==A.indexOf("#mpu4")&&(a.mpu4=googletag.defineSlot(e.gpt,k,"mpu4").setCollapseEmptyDiv(!0).setTargeting("tile","mpu4").setTargeting("tg",e.tg).setTargeting("docFormat","pwa").setTargeting("share",e.gptIds.shareMPU4).addService(googletag.pubads())),-1!==A.indexOf("#mpu7")&&(a.mpu7=googletag.defineSlot(e.gpt,L,"mpu7").setCollapseEmptyDiv(!0).setTargeting("tile","mpu7").setTargeting("tg",e.tg).setTargeting("docFormat","pwa").addService(googletag.pubads())),-1!==A.indexOf("#partner1")&&s>=930&&(a.partner1=googletag.defineSlot(e.gpt,[245,210],"partner1").setCollapseEmptyDiv(!0).setTargeting("tile","partner1").setTargeting("tg",e.tg).setTargeting("docFormat","pwa").addService(googletag.pubads())),-1!==A.indexOf("#partner2")&&s>=930&&(a.partner2=googletag.defineSlot(e.gpt,[245,210],"partner2").setCollapseEmptyDiv(!0).setTargeting("tile","partner2").setTargeting("tg",e.tg).setTargeting("docFormat","pwa").addService(googletag.pubads())),x&&(-1!==A.indexOf("#gtr")&&(a.gtr=googletag.defineSlot(e.gpt,E,l).setCollapseEmptyDiv(!0).setTargeting("tile",l).setTargeting("tg",e.tg).setTargeting("docFormat","pwa").addService(googletag.pubads())),-1!==A.indexOf("#gtl")&&(a.gtl=googletag.defineSlot(e.gpt,E,c).setCollapseEmptyDiv(!0).setTargeting("tile",c).setTargeting("tg",e.tg).setTargeting("docFormat","pwa").addService(googletag.pubads()))),0==googletag.pubads().getTargeting("permutive").length){var I=localStorage.getItem("_pdfps");googletag.pubads().setTargeting("permutive",I?JSON.parse(I):[])}var P=-1!==m.indexOf("CMP=ILC-refresh")?"yes":"no";googletag.pubads().setTargeting("autorefresh",P);for(var q=0;q<t.length;q++)googletag.pubads().setTargeting(t[q].key,t[q].value);googletag.pubads().setTargeting("gdpr",(0,i.getCookie)("gdpr",1)),googletag.pubads().setTargeting("gdpr_consent",(0,i.getCookie)("euconsent","none")),googletag.pubads().disableInitialLoad(),googletag.pubads().enableSingleRequest(),googletag.enableServices();var C=Object.keys(a).filter(function(e){return-1!==d.indexOf(e)}).map(function(e){return googletag.display(e),a[e]});n?setTimeout(function(){googletag.cmd.push(function(){u.setDisplayBids(),googletag.pubads().refresh(C,{changeCorrelator:!1})})},1500):googletag.cmd.push(function(){return googletag.pubads().refresh(C,{changeCorrelator:!1})}),g(e.gpt,e.tg,e.gptIds),setTimeout(p)})}},t.destroyAds=function(){var e=document.querySelector("#body"),t=document.querySelector(".ism-frame"),n=document.getElementById("ClickWrap");t&&"function"==typeof window.unloadPageskin&&window.unloadPageskin(),e.classList.remove("wrapped_by_ads"),e.classList.remove("inskin-loaded"),e.classList.remove("takeover-loaded"),null!==n&&n.parentNode.removeChild(n),e.removeAttribute("style"),googletag&&"function"==typeof googletag.destroySlots&&googletag.destroySlots()},t.loadGalleryAd=function(e,t,n,o){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=void 0,l=void 0,c=void 0;r=s>=620?i?[[300,255],[300,605]]:[300,255]:[320,51],s>=620&&(l=o.id.substring(5),googletag.pubads().addEventListener("slotRenderEnded",function(e){if(!e.isEmpty){var t=document.querySelector("#gallery-lightbox-"+l);switch(e.slot.getSlotElementId()){case o.id:c=e.size[1],console.log("adSize",c),c>255?t.classList.add("dmpu-loaded"):t.classList.remove("dmpu-loaded")}}})),googletag.cmd.push(function(){a[o.id]=googletag.defineSlot(e,r,o.id).setCollapseEmptyDiv(!0).setTargeting("tile","mpu5").setTargeting("tg","stream5").addService(googletag.pubads()),googletag.display(o.id),googletag.pubads().refresh([a[o.id]])})},t.refreshAd=function(e){googletag.cmd.push(function(){googletag.pubads().refresh([a[e]])})};var f=function(e,t){var n=[];return"section"==t&&(n.push("#mpu0"),n.push("#mpu0Section"),n.push("#mpu1"),n.push("#mpu2"),n.push("#mpu3"),n.push("#mpu4"),n.push("#gtr"),n.push("#gtl"),n.push("#stickyFooter")),"article"==t&&(e>=930?(n.push("#partner1"),n.push("#partner2"),n.push("#mpu0ArticleSidebar"),n.push("#mpu4"),n.push("#mpu7"),n.push("#gtr"),n.push("#gtl")):(n.push("#mpu0ArticleBody"),n.push("#stickyFooter"))),n};t.getAdElements=f},function(e,t,n){"use strict";e.exports={quantcastChoice:function(){window.esi_loader||(window.esi_loader=function(e,t,n,o){if("undefined"!=typeof Promise){var i=e.map(function(e){return new Promise(function(t,n){var i=document.createElement("script");i.onload=t,i.onerror=n,o&&"undefined"!==o&&(i.id=o),i.async="async",i.src=e,document.head.appendChild(i)})});return Promise.all(i).then(t,n)}});var e=(new Date).getTime(),t=window.location.hostname,n="https://quantcast.mgr.consensu.org".concat("/choice/","jAJ_WUYAnDzxn","/",t,"/choice.js").concat("?timestamp=",e);return window.esi_loader([n]).then(null,function(){return window.esi_loader(["https://quantcast.mgr.consensu.org/choice.js"])})}}},function(e,t,n){"use strict";t.init=function(){return new Promise(function(e,t){var n,o,i,r,a,s;void 0!==window.ga&&e(),globals.site_name&&(n=window,o=document,i="script",r="ga",n.GoogleAnalyticsObject=r,n.ga=n.ga||function(){(n.ga.q=n.ga.q||[]).push(arguments)},n.ga.l=1*new Date,a=o.createElement(i),s=o.getElementsByTagName(i)[0],a.async=1,a.src="https://www.google-analytics.com/analytics.js",s.parentNode.insertBefore(a,s),ga("create",globals.site_name,"auto",{useAmpClientId:!0}),e()),t("No GA id is found")})},t.trackingEvents=function(){window.tp=window.tp||[],window.tp.push(["addHandler","checkoutCustomEvent",function(e){if(e&&e.eventName)switch(e.eventName){case"click-im":case"im-monthly":case"im-yearly":localStorage.setItem("mindsOfferType","im");break;case"click-tide":case"tide-monthly":case"tide-yearly":localStorage.setItem("mindsOfferType","tide");break;case"click-im-jellyfish":localStorage.setItem("mindsOfferType","imjellyfish");break;case"click-tide-jellyfish":localStorage.setItem("mindsOfferType","tidejellyfish")}}]),window.addEventListener("message",function(e){switch(e.data){case"journalist-prev":ga("send","event","journalist-carousel","prev");break;case"journalist-next":ga("send","event","journalist-carousel","next");break;case"toggle-yearly":ga("send","event","toggle-price","yearly");break;case"toggle-monthly":ga("send","event","toggle-price","monthly");break;case"toggle-yearly-student":ga("send","event","toggle-price-student","yearly");break;case"toggle-monthly-student":ga("send","event","toggle-price-student","monthly");break;case"toggle-yearly-jellyfish":ga("send","event","toggle-price-jellyfish","yearly");break;case"toggle-monthly-jellyfish":ga("send","event","toggle-price-jellyfish","monthly")}}),window.tp.push(["addHandler","checkoutComplete",function(e){fetch("/subscriber/check-access").catch(function(){return console.error("Unable to complete subscription check.")});var t=localStorage.getItem("mindsOfferType");if(ga("send","event","registration-completed",e.uid,t||""),ga("send","pageview","independent-minds/registration/virtual/"+(t?t+"/":"")+"completed",e.uid),t){var n=document.createElement("IMG");n.src="//trc.taboola.com/1036135/log/3/unip?en=complete_registration"+("im"===t?"3":""),n.width=0,n.height=0,n.style.display="none",document.querySelector("body").appendChild(n)}localStorage.removeItem("mindsOfferType")}])},t.trackingPremiumArticles=function(){window.tp=window.tp||[],window.tp.push(["addHandler","meterActive",function(){ga("send","event","meterActive",location.pathname)}]),window.tp.push(["addHandler","meterExpired",function(){ga("send","event","meterExpired",location.pathname)}])}},,,function(e,t,n){"use strict";t.isValidTextParagraph=function(e,t){var n=t.querySelectorAll("aside");return"P"===e.nodeName&&e.textContent.length>=100&&!(-1!==e.innerHTML.indexOf("iframe"))&&!o(e,n)};t.isValidParagraph=function(e,t){var n=t.querySelectorAll("aside");return!("P"!==e.nodeName||-1!==e.innerHTML.indexOf("iframe")||o(e,n))};var o=function(e,t){return Array.from(t).some(function(t){return i(e,t)})},i=function(e,t){return e.offsetTop<=t.offsetTop+t.clientHeight&&t.offsetTop<=e.offsetTop+e.clientHeight};t.createLine=function(e){var t=document.createElement("div");return t.style.borderBottomWidth="2px",t.style.borderBottomColor=e,t.style.borderBottomStyle="solid",t.style.margin=0,t};t.calculateParagraphHeight=function(e){var t=e.style.width;e.style.width=.75*e.clientWidth-20+"px";var n=e.clientHeight;return e.style.width=t,n};t.createCoverDiv=function(e,t){var n=document.createElement("div");return n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.height="100%",n.style.width=t+"px",n.style.backgroundColor=e,n.style.opacity=.3,n.style.padding="3px 12px;",n.style.fontFamily="sans-serif",n.style.fontWeight="bold",n.style.fontSize="12px",n};t.createCornerDiv=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=document.createElement("div");return i.textContent=e,i.style.cssText="\n    position: absolute;\n    padding: 3px 12px;\n    background-color: "+t+";\n    color: #fff;\n    font-family: sans-serif;\n    font-size: 20px;\n    font-weight: bold;\n    line-height: 28px;\n  ",n?i.style.left=0:i.style.right=0,o?i.style.top=0:i.style.bottom=0,i};t.isDesktop=function(){return r()>929};var r=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}},function(e,t,n){"use strict";var o=n(19);n(20),n(21),n(22);var i=n(12),r=q(n(23)),a=q(n(24)),s=q(n(25)),l=n(26),c=n(28),d=n(10),u=n(29),g=n(30),p=n(3),m=q(n(5)),f=n(31),h=q(n(32)),y=n(33),v=n(34),b=q(n(35)),w=n(36),S=q(n(13)),k=n(37),L=n(38),E=n(9),x=q(n(14)),T=q(n(39)),_=n(40),A=n(41),I=n(42),P=q(n(43));function q(e){return e&&e.__esModule?e:{default:e}}var C=window.globals||{},D=document.querySelector("#body"),B=(0,p.getCookie)("lgd_n"),U=D.classList.contains("section");window._esi_piano={init:(0,E.once)(L.initPiano),pianoTracking:L.pianoTracking},B?D.classList.add("user-logged-in"):D.classList.remove("user-logged-in"),(0,g.initSearch)("006663403660930254993:oxhge2zf1ro"),(0,o.initQuickMenu)(),(0,w.subnavMenu)();var j=[];C.pagetype&&j.push({key:"pagetype",value:C.pagetype}),C.gsChannels&&j.push({key:"gs_channels",value:C.gsChannels}),C.topictags&&j.push({key:"topictags",value:C.topictags}),C.articleNid&&j.push({key:"article",value:C.articleNid}),C.realtime&&j.push({key:"realtime",value:C.realtime});var O=!1;"US"===(0,p.getCookie)("Locale")&&0!=window.location.pathname.indexOf("/voices")&&(O=!0);var R=!1;function M(){if(C.gpt&&C.tg&&C.contentType&&!C.subscriber){var e=!1,t=function(){e||(e=!e,(0,i.loadAds)({gpt:C.gpt,tg:C.tg,contentType:C.contentType,gptIds:C.gptIds},j,!1,O,R))};"US"===(0,p.getCookie)("Locale")&&(0==window.location.pathname.indexOf("/news")?(0,i.prebidInit)(t):0==window.location.pathname.indexOf("/voices")&&(0,i.prebidInit)(t)),t()}}"US"===(0,p.getCookie)("Locale")&&U&&(R=!0),document.cookie.split(";").filter(function(e){return 0==e.trim().indexOf("googlepersonalization=")}).length||M(),document.addEventListener("DOMContentLoaded",function(){S.default.quantcastChoice().then(function(){__cmp("getGooglePersonalization",function(e,t){t&&(window.googletag=window.googletag||{cmd:[]},e.googlePersonalizationData.consentValue?(googletag.cmd.push(function(){return googletag.pubads().setRequestNonPersonalizedAds(0)}),M(),console.log("Personalised ads")):(googletag.cmd.push(function(){return googletag.pubads().setRequestNonPersonalizedAds(1)}),M(),console.log("Non personalised ads")))})},function(){googletag.cmd.push(function(){return googletag.pubads().setRequestNonPersonalizedAds(1)}),M(),console.log("Non personalised ads")})}),h.default.appendAttributeData(),C.subscriber||C.pageNoAds||(r.default.add(a.default.adObject),r.default.init(),s.default.init()),p.dom.$$(".inline-image-gallery-trigger").forEach(function(e){var t=p.dom.$$("#mpu5-inline-image-gallery");e.addEventListener("click",(0,l.galleryListener)(t[0],"#inline-image-gallery",C,j))}),p.dom.$$(".gallery-btn").forEach(function(e){var t=e.getAttribute("on");if("string"==typeof t){var n=t.match(/[0-9]+$/);if(null!==n&&n[0]){var o=n[0],i=document.querySelector("#mpu5-"+o);i&&e.addEventListener("click",(0,l.galleryListener)(i,"#gallery-lightbox-"+o,C,j))}}});for(var N=document.querySelectorAll(".gallery-lightbox:not(.inline-gallery-lightbox)"),z=function(e){var t=N[e].querySelector(".lightbox-toggle"),n=t.getAttribute("on").replace(".close","");t.addEventListener("click",function(){document.querySelector("html").classList.remove("i-amphtml-scroll-disabled"),N[e].classList.remove("i-amphtml-layout"),N[e].setAttribute("style","display:none;");for(var t=document.querySelectorAll('[on="'+n+'"]'),o=0;o<t.length;o++)t[o].addEventListener("click",function(){N[e].classList.add("i-amphtml-layout"),N[e].removeAttribute("style")})})},F=0;F<N.length;F++)z(F);if(C.refresh&&C.refresh>0&&(0,y.autoRefresh)(C.refresh),"article"===C.contentType&&C.url&&!C.subscriber&&((0,c.loadTaboolaIndy)(C.url),(0,f.loadAdBlockDetect)()),"explainer"===C.articleType&&C.url){var H=document.querySelector(".explainer-open"),W=document.querySelectorAll(".explainer-close"),$=document.querySelector("#explainer-questions"),G=document.querySelector("#top-container-wrapper .share-bar");H&&H.addEventListener("click",function(){$.classList.add("open")}),W.forEach(function(e){e.addEventListener("click",function(){$.classList.remove("open")})}),window.addEventListener("scroll",function(){var e=G.getBoundingClientRect().top+window.scrollY;window.scrollY>e-81?H.classList.add("fixed"):H.classList.remove("fixed")})}if("video"===C.heroType){var V=document.querySelector(".video-hero-lb");if(C.subscriber&&V){var J=void 0,Y=function(){window.matchMedia("(min-width: 1000px)").matches?J=(0,d.initSlideDockingPlayer)():J&&J.dispose()};window.addEventListener("orientationchange",Y),window.addEventListener("resize",(0,p.debounce)(Y,100)),Y()}else if(V){var X=document.querySelector(".video-hero-lb-wrap");(0,d.initDockingPlayer)(X,X)}else if(C.subscriber)(0,d.initScrollToVideo)();else{var K=document.querySelector(".top-container.video");null===K&&(K=document.querySelector(".hero-wrap-video"));var Q=document.querySelector(".hero-wrapper");(0,d.initDockingPlayer)(Q,K)}}var Z=document.querySelector("#competition");Z&&(0,u.initCompetition)(Z),document.addEventListener("click",function(e){e.target.pathname&&"/login"===e.target.pathname&&(m.default.initLogin(),e.preventDefault()),e.target.pathname&&"/logout"===e.target.pathname&&(m.default.initLogout(),e.preventDefault())});var ee=document.querySelector("#newsletter-component");ee&&(0,v.premiumNewsletterSignup)(ee),document.querySelectorAll("#share-count")&&(0,k.loadShareCount)();var te=document.querySelector(".register-link");te&&te.addEventListener("click",function(){localStorage.setItem("regReturnUrl",window.location.href+"#comments")});var ne=document.querySelector(".sticky-ad-close-button-press");ne&&ne.addEventListener("click",function(){ne.classList.add("sticky-ad-close-button-press"),document.querySelector("#stickyFooter").classList.add("sticky-ad-close-button-press")});var oe=document.querySelectorAll("[id^=jwplayer]");oe.length>0&&esi_loader(["https://cdn.jwplayer.com/libraries/XLzx33eA.js"],function(){oe.forEach(function(e){(0,P.default)(e.getAttribute("id"),e.getAttribute("data-media-id"))})}),(0,b.default)();var ie=document.querySelector("#live-list-update-btn");if(ie&&ie.classList.contains("amp-active")&&ie.click(),document.querySelectorAll("#gigya-social-login-sidebar")&&m.default.initSocialLogin("gigya-social-login-sidebar",{buttonsStyle:"standard",buttonSize:50,height:87,enabledProviders:"facebook, googleplus, twitter",width:"100%"}),"section"===C.contentType&&C.cbSections){var re=C.cbSections.split(",").slice(0,2);1===re.length&&"news"===re.toLocaleString()&&(re[0]="Home_page"),localStorage.setItem("regSourceSection",re.toString())}else if("article"===C.contentType){var ae=C.hierarchy.map(function(e){return e.name}).slice(0,2);localStorage.setItem("regSourceSection",ae.toString())}document.addEventListener("click",function(e){var t=e.target;t&&t.classList.contains("flag-submit")&&(e.preventDefault(),m.default.flagComment()),t&&"A"!==t.tagName&&(t=t.closest("a")),t&&"A"===t.tagName&&t.href&&-1!==t.href.indexOf("/subscribe")&&localStorage.setItem("regSourceMethod",t.getAttribute("data-source")),t&&-1!==t.href.indexOf("/subscribe")&&(document.cookie="ref_url="+window.location.origin+window.location.pathname+"; path=/;")}),(0,I.initAylLazyLoad)(),x.default.init().then(function(){x.default.trackingPremiumArticles(),x.default.trackingEvents(),T.default.trackingEvents()}).catch(function(e){return console.error(e)}),(0,_.bookmarks)(),(0,A.thankyou)()},function(e,t,n){"use strict";var o=n(10),i=n(3);t.initQuickMenu=function(){var e=document.getElementById("body"),t=document.getElementById("toggle-full-menu"),n=document.querySelectorAll(".quick-searchresults"),r=function(){n.length>0&&n.forEach(function(e){var t=window.innerHeight-(0,o.getElementViewportOffset)(e).top;e.style.maxHeight=t+"px"})};i.dom.$$(".dropdown-toggle").forEach(function(e){e.addEventListener("click",function(){this.nextElementSibling&&(this.nextElementSibling.classList.toggle("expanded"),this.nextElementSibling.classList.contains("expanded")?(this.classList.add("active"),r(),window.addEventListener("resize",r)):(this.classList.remove("active"),window.removeEventListener("resize",r)))})}),t&&t.addEventListener("click",function(){e.classList.toggle("full-menu-visible")})}},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=function(e){return e&&DataView.prototype.isPrototypeOf(e)},i=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};d.prototype.append=function(e,t){e=s(e),t=l(t);var n=this.map[e];this.map[e]=n?n+","+t:t},d.prototype.delete=function(e){delete this.map[s(e)]},d.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},d.prototype.set=function(e,t){this.map[s(e)]=l(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),c(e)},d.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},d.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),c(e)},t.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var r=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},f.call(h.prototype),f.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];v.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.Headers=d,e.Request=h,e.Response=v,e.fetch=function(e,n){return new Promise(function(o,i){var r=new h(e,n),a=new XMLHttpRequest;a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new d,e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),o=n.shift().trim();if(o){var i=n.join(":").trim();t.append(o,i)}}),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;o(new v(i,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(r.method,r.url,!0),"include"===r.credentials&&(a.withCredentials=!0),"responseType"in a&&t.blob&&(a.responseType="blob"),r.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===r._bodyInit?null:r._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function d(e){this.map={},e instanceof d?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function u(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function p(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&o(e))this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!i(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=m(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e,t,n,o=u(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=g(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(e,t){var n,o,i=(t=t||{}).body;if(e instanceof h){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(n=t.method||this.method||"GET",o=n.toUpperCase(),r.indexOf(o)>-1?o:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),o=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(i))}}),t}function v(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";for(var o=n(3),i=document.querySelectorAll("#full-menu .toggle"),r=0;r<i.length;r++)i[r].addEventListener("click",function(){this.parentNode.parentNode.classList.toggle("expanded")});for(var a=document.querySelectorAll("#full-menu .menu-link"),s=0;s<a.length;s++)a[s].addEventListener("click",function(){document.querySelector("#body").classList.remove("full-menu-visible")});var l,c=document.querySelector(".main-menu-go"),d=document.querySelector(".main-menu-toggle"),u=(l=c,function(e){return o.dom.$$(e,l)});if(d){d.addEventListener("click",function(){return c.classList.toggle("expanded"),d.classList.toggle("expanded-main-menu")});var g=u("ul.menu > li"),p=g.length,m=Math.ceil(p/2);g.forEach(function(e,t){return e.classList.add((t<m?"first":"last")+"-half")}),u("li").forEach(function(e){return e.addEventListener("click",function(e){var t=e.target;"A"!==t.tagName&&(u("ul:first-child > li").filter(function(e){return!e.contains(t)}).forEach(function(e){return e.classList.remove("expanded")}),e.preventDefault(),e.stopPropagation(),function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}(t,"has-children").classList.toggle("expanded"))})})}},function(e,t,n){"use strict";var o=null,i=0,r={},a={},s=["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dec"],l=(new Date).getMonth(),c=document.getElementById("review-calendar"),d=document.getElementById("review-calendar-footer-text"),u=document.getElementById("review-calendar-footer-btn"),g=document.getElementById("review-buy-btn"),p=document.getElementById("review-calendar-select"),m=document.getElementById("review-calendar-cal-dates-date"),f=document.getElementById("review-calendar-cal-dates-icon-left"),h=document.getElementById("review-calendar-cal-dates-icon-right");if(c){var y=c.querySelectorAll("[data-callink]"),v=c.querySelectorAll(".review-calendar-tbody");window.onload=function(){v[0].classList.add("active"),l=new Date(m.getAttribute("data-calDate")).getMonth(),m.innerHTML=s[l]};for(var b=0;b<v.length;b++){var w=v[b].getAttribute("data-cals");a[w]=v[b]}for(var S=0;S<y.length;S++){var k=y[S].getAttribute("data-callink");r[k]=y[S],y[S].addEventListener("click",function(e){var t=p.options[p.selectedIndex].value,n=e.target.parentNode.getAttribute("data-callink"),o=e.target.parentNode.getAttribute("data-bookingDate"),i=e.target.parentNode.getAttribute("data-showId"),r=e.target.parentNode.getAttribute("data-venueId"),a=e.target.parentNode.getAttribute("data-slotTime"),s=e.target.parentNode.getAttribute("data-minPrice");T(n),E(t,o,a,s),L(i,r,t,o,a)})}f.addEventListener("click",function(){x("back")}),h.addEventListener("click",function(){x("forward")})}function L(e,t,n,o,i){var r="https://www.eveningstandardtickets.co.uk/booking#/seating-plan?product_id="+e+"&product_type=show&venue_id="+t+"&qt="+n+"&date='"+o+"'&slot="+i;console.log(r),u.href=r}function E(e,t,n,o){var i="<p>"+e+" tickets for "+new Date(t).toDateString().toString()+" at "+n+" - from <strong>£"+o+"</strong></p>";d.innerHTML=i}function x(e){h.classList.remove("hidden"),f.classList.remove("hidden");var t=i;"back"===e&&i>=1?(i-=1,l-=1):"forward"===e&&i<Object.keys(a).length-1&&(i+=1,l+=1),l>=12?l=0:l<0&&(l=11),m.innerHTML=s[l],i<1?f.classList.add("hidden"):i>=Object.keys(a).length-1&&h.classList.add("hidden"),a[t]&&a[i]&&(a[t].classList.remove("active"),a[i].classList.add("active"))}function T(e){g.disabled=!1,e!==o&&(r[o]&&r[o].classList.remove("active"),r[e]&&r[e].classList.add("active"),o=e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),i=(0,n(3).hasParameter)("AD_DEBUG"),r=[],a={init:function(){s()},add:function(e){e&&r.push(e)}},s=function(){var e=document.querySelector(".full-article .main-content .body-content");if(e||(e=document.querySelector(".full-article .main-content-column .body-content")),e){var t=void 0;(0,o.isDesktop)()?(t=m(e),d(t.splice(0)),l()):c(),i&&(console.log("adObjects data:"),console.log(r)),r.forEach(function(e){return e.callback()})}},l=function(){r.forEach(function(e){var t=e.desktopAdContainer||null;t&&t.appendChild(e.adElement)})},c=function(){r.forEach(function(e){var t=e.mobileAdContainer||null;t&&t.appendChild(e.adElement)})},d=function(e){e.splice(0,1),i&&console.log(e),r.forEach(function(t){return u(e,t)})},u=function(e,t){var n=!1;i&&console.log("Find available chunk for "+t.name),"aside"===t.type&&(n=g(Object.assign({chunks:e},t))),"div"===t.type&&(n=p(Object.assign({chunks:e},t))),n&&(t._ready=!0),i&&n&&console.log("Place placeholder of "+t.name+" successfully"),i&&console.log(e)},g=function(e){var t=e.chunks,n=e.desktopAdContainer,i=e.size,r=e.before,a=void 0===r?1:r,s=e.after,l=void 0===s?1:s,c=!1;e:for(var d=0;d<t.length;d++){var u=t[d];if(!(u.length<3))for(var g=0,p=0,m=0,f=0,h=null,y=0;y<u.length;y++){var v=u[y];if(g<a&&v.textContent.length>100)g++;else if(h||(h=y),h&&m<i)m+=(0,o.calculateParagraphHeight)(v),f++;else if(p<l&&v.textContent.length>100)p++;else if(p==l){var b=u[h],w=u.slice(0,h);b.parentNode.insertBefore(n,b),u.splice(0,h+f),t.splice(d,0,w),c=!0;break e}}}return c},p=function(e){var t=e.chunks,n=e.desktopAdContainer,o=e.before,i=void 0===o?1:o,r=e.after,a=void 0===r?1:r,s=!1;e:for(var l=0;l<t.length;l++){var c=t[l];if(!(c.length<2))for(var d=0,u=0,g=0,p=0;p<c.length;p++){var m=c[p];if(d<i&&m.textContent.length>100)d++;else if(g||(g=p),u<a&&m.textContent.length>100)u++;else if(u==a){var f=c[g],h=c.slice(0,g);f.parentNode.insertBefore(n,f),c.splice(0,g),t.splice(l,0,h),s=!0;break e}}}return s},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Array.from(e.children),r=0,a=[],s=[];return n.forEach(function(l,c){var d=(0,o.isValidParagraph)(l,e),u=f(l,t);if(i){"P"===l.nodeName&&r++;var g={index:c,nodeName:l.nodeName,id:l.id,classArray:Array.from(l.classList),textCount:l.textContent.length,counter:r,newHeight:d?(0,o.calculateParagraphHeight)(l):0,valid:d,visibility:u};h(g);var p=(0,o.createCornerDiv)(c,"red",!1);l.style.position="relative",l.appendChild(p)}d&&s.push(l),(!d&&u||n.length==c+1)&&(s.length&&a.push(s),s=[])}),a},f=function(e,t){return t||!e.classList.contains("ad-wrapper--mobile")},h=function(e){var t=e.index,n=void 0===t?0:t,o=e.nodeName,i=void 0===o?"":o,r=e.id,a=void 0===r?"":r,s=e.classArray,l=void 0===s?[]:s,c=e.textCount,d=void 0===c?0:c,u=e.counter,g=void 0===u?0:u,p=e.newHeight,m=void 0===p?0:p,f=e.valid,h=void 0!==f&&f,y=e.visibility,v=void 0===y||y,b=l.length?"."+l.join("."):"",w=n+": %c "+i;if("P"===i&&(w+=" ("+g+")"),a.length&&(w+="#"+a),b.length&&(w+=b),w+=" ",h)console.log(w+"%c %c count:"+d+" %c %c height:"+m+" ","border-radius: 4px; background-color: green; color: #fff","","border-radius: 4px; background-color: grey;","","border-radius: 4px; background-color: grey;");else{var S=v?"border-radius: 4px; background-color: red; color: #fff;":"";console.log(w,S)}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i,r=window.globals||{},a=r.apesterToken||"",s={},l=function(){return"article"===r.articleType},c=function(e){return null!=e.querySelector(".ad-wrapper--apester.ad-wrapper--editor")};s.adObject=((i=document.querySelector(".full-article .main-content .body-content"))||(i=document.querySelector(".full-article .main-content-column .body-content")),l()&&a.length>0&&!c(i)?{name:"Inline Apester",type:"div",adElement:(o=document.createElement("div"),o.classList.add("apester-media"),o.dataset.token=a,o),desktopAdContainer:function(){var e=document.createElement("div");return e.classList.add("inline-block","ad-wrapper","ad-wrapper--apester","ad-wrapper--desktop"),e}(),mobileAdContainer:document.querySelector(".js-mobile-placeholder--apester"),callback:function(){var e=document.createElement("script");e.setAttribute("src","//static.apester.com/js/sdk/v2.0/apester-javascript-sdk.min.js"),document.body.appendChild(e)}}:null),t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),i=(window.globals||{}).performCode||"",r=function(e){var t=g(e.parentElement);t&&!s(e)&&e.classList.add("ad-perform--flyover"),!t&&s(e)&&e.classList.remove("ad-perform--flyover")},a=function(e,t,n){e.style[t]=n},s=function(e){return e.classList.contains("ad-perform--flyover")},l=function(e){var t=c();e.appendChild(t);var n=setInterval(function(){e.querySelector("iframe")&&(e.dispatchEvent(new Event("performReady")),clearInterval(n))},200)},c=function(){var e="//player.performgroup.com/eplayer.js#"+i+"$s=1",t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("async",""),t},d=function(){return u()?document.querySelector(".sidebar .js-ad-placeholder--perform"):document.querySelector(".body-content .js-ad-placeholder--perform")},u=function(){return(0,o.isDesktop)()},g=function(e){var t=e.getBoundingClientRect(),n=t.top<0,o=t.bottom>(window.innerHeight||document.documentElement.clientHeight);return n||o};t.default={init:function(){var e=d();e&&(u()?(e.classList.add("ad-perform--desktop"),e.addEventListener("performReady",function(){var t=e.querySelector("iframe").getAttribute("height")+"px";a(e.parentElement,"height",t),a(e.parentElement,"position","relative"),e.classList.add("ad-perform--loaded"),window.addEventListener("scroll",function(){r(e)})})):(e.classList.add("ad-perform--mobile"),e.classList.add("ad-perform--flyover")),l(e))}}},function(e,t,n){"use strict";var o=n(27),i=n(12),r=n(3);e.exports={galleryListener:function(e,t,n,a){return function(){setTimeout(function(){var o=window.location.href,r=document.querySelector(t),s=!(-1!==o.indexOf("/insider"))&&r.clientHeight>850&&r.clientWidth>1e3;(0,i.loadGalleryAd)(n.gpt,n.tg,a,e,s),s&&document.querySelector(t).classList.add("dmpu-ready")});var s=0;r.dom.$$(t+" .amp-carousel-button").forEach(function(t){t.addEventListener("click",function(){++s%3==0&&n.gpt&&n.tg&&(0,i.refreshAd)(e.id);var t=n.shortHeadline||n.title;(0,o.trackGalleryView)(location.pathname,t)})})}}}},function(e,t,n){"use strict";t.trackGalleryView=function(e,t){_sf_async_config.sections=_sf_async_config.sections.replace("non-gallery","gallery"),pSUPERFLY.virtualPage(e,t)}},function(e,t,n){"use strict";t.loadTaboola=function(e){var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;window._taboola=window._taboola||[],_taboola.push({article:"auto",url:e}),_taboola.push({mode:"thumbnails-l",container:"taboola-below-article-1",placement:"Below Article Thumbnails - PWAMP 5",target_type:"mix"}),_taboola.push({mode:"organic-thumbnails-l",container:"taboola-below-article-2",placement:"Below Article Thumbnails 2nd - PWAMP 5",target_type:"mix"}),t>=930&&_taboola.push({mode:"thumbnails-k-amp",container:"taboola-right-rail",placement:"Right Rail Thumbnails - PWAMP 5",target_type:"mix"}),_taboola.push({flush:!0})},t.loadTaboolaIndy=function(e){window._taboola=window._taboola||[],_taboola.push({article:"auto",url:e});var t=document.querySelector(".footer-prompt");_taboola.push({listenTo:"visible",handler:function(e){e.detail.placement.indexOf("Below Article Thumbnails | Card 19")>-1&&t.classList.add("hidden")}}),_taboola.push({mode:"thumbnails-d1",container:"taboola-below-article-1",placement:"Below Article Thumbnails",target_type:"mix"}),_taboola.push({mode:"organic-thumbnails-d",container:"taboola-below-article-2",placement:"taboola-below-article-thumbnails-2nd",target_type:"mix"}),_taboola.push({mode:"thumbnails-k1",container:"taboola-right-rail",placement:"Right Rail Thumbnails",target_type:"mix"}),_taboola.push({flush:!0})},t.loadTaboolaHNP=function(e){window._taboola=window._taboola||[],_taboola.push({article:"auto",url:e}),_taboola.push({mode:"thumbnails-e",container:"taboola-below-article-1",placement:"Below Article Thumbnails",target_type:"mix"}),_taboola.push({mode:"organic-thumbnails-d",container:"taboola-below-article-2",placement:"taboola-below-article-thumbnails-2nd",target_type:"mix"}),_taboola.push({mode:"thumbnails-k",container:"taboola-right-rail",placement:"Right Rail Thumbnails",target_type:"mix"}),_taboola.push({flush:!0})}},function(e,t,n){"use strict";var o,i=n(5),r=(o=i)&&o.__esModule?o:{default:o};t.initCompetition=function(e){var t=e.querySelector(".login-notice"),n=t.querySelector(".register-link"),o=e.querySelector(".loading");t.style.display="none";var i=e.getAttribute("data-competition"),a=document.createElement("script");a.src="https://s.wayin.com/ui/ngx.embed.min.js";var s=document.createElement("iframe");s.src="https://xd.wayin.com/display/container/dc/"+i,s.id="ngxFrame"+i,s.setAttribute("class","hidden"),s.setAttribute("width",500),s.setAttribute("height",500),s.setAttribute("frameborder",0),s.setAttribute("scrolling","no"),a.onload=function(){var e=!1;setTimeout(function(){e||(t.style.display="none",s.style.display="block",o.style.display="none")},2e3),s.style.display="none",o.style.display="block",NGX.Embed.registerEventHandler("auth:ready",function(){e=!0,r.default.tryGetUserInfo().then(function(e){var n=e.providerUID,i=e.firstName,r=e.lastName,a=e.email,l=e.provider;NGX.Embed.getUser(function(e){e.id=n,e.firstName=i,e.lastName=r,e.email=a,e.network=l,NGX.Embed.loginUser(e,function(){t.style.display="none",o.style.display="none",s.style.display="block"},function(){throw new Error("Failed to logged in the user.")})})}).catch(function(e){t.style.display="block",s.style.display="none",o.style.display="none",console.error(e)})}),n&&n.addEventListener("click",function(e){e.preventDefault(),localStorage.setItem("regReturnUrl",window.location.href);var t=n.href;window.location.href=t})},e.appendChild(a),e.appendChild(s)}},function(e,t,n){"use strict";t.initSearch=function(e){if(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://cse.google.com/cse.js?cx="+e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);var o=function(){google.search.cse.element.render({div:"searchBox0",tag:"searchbox",gname:"searchbox-only0"},{div:"quickSearchresults0",tag:"searchresults-only",gname:"searchbox-only0"}),google.search.cse.element.render({div:"searchBox1",tag:"searchbox",gname:"searchbox-only1"},{div:"quickSearchresults1",tag:"searchresults-only",gname:"searchbox-only1"}),google.search.cse.element.render({div:"searchBox2",tag:"searchbox",gname:"searchbox-only2"},{div:"quickSearchresults2",tag:"searchresults-only",gname:"searchbox-only2"})};window.__gcse={parsetags:"explicit",callback:function(){void 0!==document.getElementById("searchBox0")?o():google.setOnLoadCallback(o,!0)}}}}},function(e,t,n){"use strict";t.loadAdBlockDetect=function(){var e="standard",t=document.createElement("div");function n(){document.body.appendChild(t),0===t.offsetHeight&&(document.body.classList.add("adblock"),window._taboola=window._taboola||[],_taboola.push({mode:"thumbnails-f-abp1",container:"leaderboard",placement:"Above Article Thumbnails - ABP",target_type:"mix"}),"independent"===e&&(window._taboola=window._taboola||[],_taboola.push({mode:"thumbnails-rr31",container:"mpu0ArticleSidebar",placement:"IAB Thumbnails ABP",target_type:"mix"})),"standard"===e&&(window._taboola=window._taboola||[],_taboola.push({mode:"thumbnails-rr",container:"mpu0ArticleSidebar",placement:"IAB Thumbnails ABP",target_type:"mix"}))),t.remove()}t.innerHTML="&nbsp;",t.className="adsbox";var o=window.onload;window.onload="function"!=typeof window.onload?n:function(){o(),n()}}},function(e,t,n){"use strict";var o=n(3);t.appendAttributeData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.document;o.dom.$$("amp-brightcove",e).forEach(function(e){var t="data-param-custom-params",n=e.getAttribute(t);/(^|&)gdpr=/.test(n)||(n+="&gdpr="+(0,o.getCookie)("gdpr","none")),/(^|&)gdpr_consent=/.test(n)||(n+="&gdpr_consent="+(0,o.getCookie)("euconsent","none")),e.setAttribute(t,n)})}},function(e,t,n){"use strict";t.autoRefresh=function(e){var t=1e3*e,n=void 0;function o(){clearInterval(n),n=setTimeout(function(){window.location.href.indexOf("CMP=ILC-refresh")>=0?window.location.href=location.href:window.location.href=function(e,t,n){n||(n=window.location.href);var o,i=new RegExp("([?&])"+e+"=.*?(&|#|$)(.*)","gi");if(i.test(n))return void 0!==t&&null!==t?n.replace(i,"$1"+e+"="+t+"$2$3"):(n=(o=n.split("#"))[0].replace(i,"$1$3").replace(/(&|\?)$/,""),void 0!==o[1]&&null!==o[1]&&(n+="#"+o[1]),n);if(void 0!==t&&null!==t){var r=-1!==n.indexOf("?")?"&":"?";return n=(o=n.split("#"))[0]+r+e+"="+t,void 0!==o[1]&&null!==o[1]&&(n+="#"+o[1]),n}return n}("CMP","ILC-refresh",window.location.href)},t)}document.addEventListener("keypress",o),document.addEventListener("click",o),document.addEventListener("mousemove",o),document.addEventListener("scroll",o),o()}},function(e,t,n){"use strict";var o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(5),s=(o=a)&&o.__esModule?o:{default:o};var l=function(e){if(c())return d(e);var t=new FormData(e);return Array.from(t,function(e){var t=r(e,2);return t[0]+"="+t[1]}).filter(function(e){return e.length>0}).join("&")},c=function(){return window.navigator.vendor.indexOf("Apple")>-1&&window.navigator.userAgent.indexOf("Safari")>-1},d=function(e){var t,n,o=[];if("object"==(void 0===e?"undefined":i(e))&&"FORM"==e.nodeName)for(var r=e.elements.length,a=0;a<r;a++)if((t=e.elements[a]).name&&!t.disabled&&"file"!=t.type&&"reset"!=t.type&&"submit"!=t.type&&"button"!=t.type)if("select-multiple"==t.type){n=e.elements[a].options.length;for(var s=0;s<n;s++)t.options[s].selected&&(o[o.length]=encodeURIComponent(t.name)+"="+encodeURIComponent(t.options[s].value))}else("checkbox"!=t.type&&"radio"!=t.type||t.checked)&&(o[o.length]=encodeURIComponent(t.name)+"="+encodeURIComponent(t.value));return o.join("&").replace(/%20/g,"+")};t.newsletterSignup=function(e){var t=e.getElementsByTagName("form")[0];t.querySelectorAll(".form-submit")[0].addEventListener("click",function(e){e.preventDefault();var n=document.createEvent("Event");n.initEvent("submit",!0,!0),t.dispatchEvent(n),e.target.disable=!0;var o=setInterval(function(){if(t.classList.contains("amp-form-submit-success")){var n=l(t);void 0!=n&&""!=n.length&&(n=d(t));var i="/register?noframe=1&"+n;s.default.initPopup(i,"LoginWindow"),clearInterval(o),e.target.disable=!1}},300)});for(var n=e.querySelectorAll("#gigya-newsletter-social .icon-link"),o=function(e){n[e].addEventListener("click",function(o){o.preventDefault();var i=n[e].getAttribute("data-social"),a=new FormData(t),l=Array.from(a,function(e){var t=r(e,2);return t[0]+"="+t[1]}).filter(function(e){return e.length>0}),c=window.location.origin+"/register-redirect?noframe&social="+i+"&"+l.join("&");s.default.initPopup(c,"LoginWindow")})},i=0;i<n.length;i++)o(i)},t.premiumNewsletterSignup=function(e){var t=e.querySelector(".newsletter-form"),n=t.querySelector(".form-submit"),o=t.querySelector('[name="email"]'),i=t.querySelector(".animation"),r=e.querySelectorAll("#gigya-newsletter-social .icon-link");n.addEventListener("click",function(e){if(e.preventDefault(),o.classList.contains("user-valid")&&i.classList.contains("valid-btn")){var n=l(t);n&&(n=d(t));var r="/register?noframe=1&"+n;s.default.initPopup(r,"LoginWindow")}});for(var a=function(e){r[e].addEventListener("click",function(n){n.preventDefault();var o=r[e].getAttribute("data-social"),i=l(t);i&&(i=d(t));var a=window.location.origin+"/register-redirect?noframe&social="+o+"&"+i;s.default.initPopup(a,"LoginWindow")})},c=0;c<r.length;c++)a(c)}},function(e,t,n){"use strict";var o=n(3),i=o.dom,r=o.setCookie;e.exports=function(){i.$$("[data-edition]").forEach(function(e){e.addEventListener("click",function(e){var t=e.target.getAttribute("data-edition");if("string"==typeof t&&/^(US|UK)$/i.test(t)){if(e.preventDefault(),r("Locale",t,365),"UK"===t.toUpperCase()&&"/us"==location.pathname)return location.href="/";if("US"===t.toUpperCase()&&"/"==location.pathname)return location.href="/us";location.reload()}})})}},function(e,t,n){"use strict";t.subnavMenu=function(){var e=document.querySelector("#subnav-menu"),t=document.querySelector("#subnav-menu > .toggle"),n=document.querySelectorAll("#subnav-menu > ul .toggle");e&&t.addEventListener("click",function(){e.classList.toggle("expanded")});for(var o=0;o<n.length;o++)n[o].addEventListener("click",function(){this.parentNode.classList.toggle("expanded")})}},function(e,t,n){"use strict";e.exports={loadShareCount:function(){var e=document.querySelectorAll("#share-count"),t=document.querySelector(".meta");if(e.length){var n=e[0].getAttribute("data-url");fetch("https://graph.facebook.com/?id="+n).then(function(e){return e.json()}).then(function(n){var o=Math.round(n.share.share_count),i="";o>=1e3&&o<1e6&&(i=Math.round(o/100)/10+"K"),o>=1e6&&o<1e9&&(i=Math.round(o/1e5)/10+"M"),o>=1e9&&o<1e12&&(i=Math.round(o/1e8)/10+"B");for(var r=0;r<e.length;r++)o>49&&o<1e3?e[r].innerHTML='<span class="count">'+o+"</span>shares":o>=1e3?e[r].innerHTML='<span class="count">'+i+"</span>shares":t.lastElementChild.previousElementSibling.classList.add("no-pipe")}).catch(function(e){console.log("Unable to fetch share count",e)})}}}},function(e,t,n){"use strict";t.pianoTracking=function(){},e.exports.initPiano=function(){}},function(e,t,n){"use strict";t.trackingEvents=function(){ga(function(){window.tp=window.tp||[],window.tp.push(["addHandler","checkoutComplete",function(e){void 0!=window.fbq&&fbq("track","Purchase",{value:e.chargeAmount,currency:e.chargeCurrency,contents:[{id:e.uid,quantity:1,domain:e.cookie_domain,email:e.email,promotionId:e.promotionId}],content_type:"product"})}])})}},function(e,t,n){"use strict";e.exports.bookmarks=function(){var e=document.getElementById("bookmarkNotification"),t="ignore-bookmark-notification";if(localStorage.getItem(t)&&e&&e.classList.add(t),e){var n=void 0;document.querySelector("[name="+t+"]").addEventListener("click",function(o){clearTimeout(n);var i=o.target;n=setTimeout(function(){i.checked&&(e.classList.add("remove-notification"),localStorage.setItem(t,"true"))},3e3)});var o=e.querySelector(".remove-notification");o&&o.addEventListener("click",function(){e.classList.add("remove-notification")})}}},function(e,t,n){"use strict";e.exports.thankyou=function(){var e=document.querySelector(".return-button"),t=document.querySelectorAll(".logout");e&&e.addEventListener("click",function(e){e.preventDefault();var t=localStorage.getItem("regReturnUrl");window.opener?(window.opener.location.reload(),window.close()):window.location.href=t||"/register-premium-redirect",localStorage.removeItem("regReturnUrl")}),t.forEach(function(e){e.addEventListener("click",function(){window.opener&&window.opener.location.reload()})})}},function(e,t,n){"use strict";t.initAylLazyLoad=function(){if("undefined"!=typeof globals&&"section"===globals.contentType){var e=document.querySelector("#ayl-wrapper");if(null!==e){var t=(n=e,function(){(function(e){var t=e.getBoundingClientRect(),n=t.top,o=t.bottom;return n<window.innerHeight&&o>=0})(n)&&(window.removeEventListener("scroll",t),window.esi_loader&&esi_loader(["//fo-api.omnitagjs.com/fo-api/ot.js"]))});window.addEventListener("scroll",t)}}var n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n,o,i="https://cdn.jwplayer.com/v2/media/"+t,r=JSON.parse((m=i,f="",null!=(h=new XMLHttpRequest)&&(h.open("GET",m,!1),h.send(null),f=h.responseText),f)),a=r.title,s=r.playlist[0].tags,l=r.playlist[0].description,c=r.playlist[0].image,d=r.playlist[0].duration,u=Math.floor(d/4),g=[],p="https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/71347885/_main_independent/in_news&impl=s&gdfp_req=1&ad_rule=1&env=vp&output=vmap&unviewed_position_start=1&url=__page-url__&description_url=__page-url__&correlator=__timestamp__&cust_params=";var m,f,h;function y(e,t){return-1===g.indexOf(t)&&Math.floor(e)==t&&(g.push(t),!0)}window.permutive.readyWithTimeout=function(e,t,n){var o=!1,i=function(){o||(e(),o=!0)};(n=n||1/0)!==1/0&&window.setTimeout(i,n),permutive.ready(i,t)},permutive.readyWithTimeout(function(){var i,r,g,m=new Date;console.log("JW/Permutive: retrieving segments from local storage"),n=encodeURIComponent("permutive="+encodeURIComponent(JSON.parse(localStorage._pdfps||"[]").slice(0,250).join(","))),p=p.replace(/(cust_params[^&]+)/,"$1"+n),console.log("JW/Permutive: callback finished executing - Segments identified: "+n),(o=jwplayer(e).setup({file:"https://cdn.jwplayer.com/manifests/"+t+".m3u8",mediaid:t,title:a,image:c,advertising:{client:"googima",tag:p,adscheduleid:"RGbNgl6A"}})).on("time",function(e){(y(e.position,u)||y(e.position,2*u)||y(e.position,3*u)||y(e.position,d))&&window.permutive.track("VideoProgress",{seeked:!1,progress:e.position,video:{duration:e.duration,name:a,custom_fields:[],video_id:t,description:l,tags:[s],watch_count:1,created_at:m,published_at:m},client:{url:window.location.href,type:"web",domain:window.location.hostname,user_agent:navigator.userAgent},play_id:"4da6bdb2-5ed7-4a73-b03a-b145d8c69be8"})}),o.on("adImpression",function(e){i=e.adtitle,r=e.clickThroughUrl,g=e.adsystem}),o.on("adClick",function(){window.permutive.track("VideoAdClick",{ad:{duration:30,advertiser_name:"",ad_system:g,description:"Ad",universal_ad_id_registry:"GDFP",creative_id:"138258853456",ad_id:"4941262963",min_suggested_duration:17,title:i,universal_ad_id:"138258853456",deal_id:""},video:{name:i,custom_fields:[],video_id:"5995706",description:r,tags:[],watch_count:1,created_at:"2019-01-29T08:06:02.697Z",published_at:m},client:{url:window.location.href,type:"web",domain:window.location.hostname,user_agent:navigator.userAgent},play_id:"abc-xyz"})})},"realtime",1500)}}]);
//# sourceMappingURL=dirty-amp.85e24b587f5b66500ddd.js.map