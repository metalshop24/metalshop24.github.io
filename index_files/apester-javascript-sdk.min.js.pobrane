try {
(function(){

 !function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="https://static.apester.com/",t(t.s=128)}([function(e,t,n){"use strict";function i(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}function r(){var e=i(navigator.userAgent||navigator.vendor||window.opera),t=(0,v.isWebview)(navigator.userAgent||navigator.vendor||window.opera);return((e?"mobile":"desktop")+(t?"-webview":"")).toLowerCase()}function o(){return _||(_=(new Date).getSeconds()),_}function a(e,t){var n=t.createElement("link");n.setAttribute("rel","preconnect"),n.setAttribute("href",e),n.setAttribute("crossorigin",""),t.getElementsByTagName("head")[0].appendChild(n)}function s(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}function u(){return(0,v.getMobileOperatingSystem)(navigator.userAgent||navigator.vendor||window.opera)}function c(){var e=window.document.location&&window.document.location.origin||"";return e.match(/(renderer.stg.apester.com)|(renderer.apester.com)|(renderer.qmerce.com)|(renderer.apester.local.com)|(player.apester.local.com)/)?encodeURIComponent(window.document.referrer):encodeURIComponent(""+e+(window.document.location&&window.document.location.pathname))}function l(){return y||(y=s())}function d(e){var t=b?Math.min(350,.8*document.body.clientWidth):400;return{width:t,height:Math.ceil(t*e)}}function p(e){return e&&(e.hasAttribute("preview")||e.hasAttribute("data-preview"))}function f(e,t,n){var i=e.clientWidth;if(b){var r=i;return{width:r,height:Math.ceil(r*n)}}var o="story"===t?400:600,a=i<o?i:o;return{width:a,height:Math.ceil(a*n)}}function h(e){var t=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),i=n.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}function m(){return{trackingEnabled:"true"===h("trackingEnabled")||!0,advertisingId:h("advertisingId")||"",bundleId:h("bundleId")||"",appName:h("appName")||"",appStoreUrl:h("appStoreUrl")||""}}Object.defineProperty(t,"__esModule",{value:!0}),t.isApesterInapp=t.isTimeDomain=t.isMobile=void 0,t.getPlatform=r,t.getSessionSeconds=o,t.preconnect=a,t.createUuid=s,t.getOS=u,t.getPageUrl=c,t.getSessionId=l,t.getFloatingAdSize=d,t.isPreviewMode=p,t.getCompanionVideoAdSize=f,t.getUrlParameterByName=h,t.getMobileParams=m;var v=n(33),g=["www.nme.com"],y=void 0,b=t.isMobile=i(),_=void 0;t.isTimeDomain=function(e){return g.includes&&g.includes(e)},t.isApesterInapp=function(){return(window.location.href||"").match(new RegExp("https://faststrip.apester.com","g"))}()},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){return{consumerSessionId:U,language:e.navigator.userLanguage||e.navigator.language,referrer:encodeURIComponent(e.document.location.href),screenHeight:""+e.screen.height,screenWidth:""+e.screen.width}}function o(e){e&&e.data&&"ape_sessionId"===e.data.type&&(j=e.data.sessionId,window.removeEventListener("message",o))}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r(window),i=arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6,a=R({},t,{sdkVersion:"3.7.27",sdkType:"s",canonicalUrl:N}),s={sessionId:j,event:e,properties:a,metadata:n};return M.eventDispatcher.dispatch(s,i,o).catch(function(e){})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return JSON.stringify(e&&e.map(function(e){return{article_tag:e}}))}function u(e){if(!e)return null;var t=new Date(e).getTime();return Math.round(t/1e3).toString()}function c(e){a("player_mon_viewable_start",e)}function l(e){a("player_mon_viewable_complete",e)}function d(e){a("player_mon_viewable_unmeasureable",e)}function p(){var e=(0,V.isArticlePage)(),t={isArticle:e.toString()};if(e){var n=(0,V.extractTags)();n&&n.length>0&&(t.articleTags=s(n)),t.articleImage=(0,V.extractImage)(),t.articleTitle=(0,V.extractTitle)(),t.articleDescription=(0,V.extractDescription)();var i=(0,V.extractPublishedTime)(),r=(0,V.extractModifiedTime)();t.articlePublishedTime=u(i),t.articleModifiedTime=u(r)}a("apester_sdk_loaded",t,void 0,!1)}function f(){a("apester_sdk_strip_timeout",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},void 0,!0)}function h(e){a("apester_sdk_display_ready",{embedType:e.embedType,interactionId:e.interactionId,publisherId:e.publisherId,creatorId:e.userId,engine:e.layout&&e.layout.directive},void 0,!0)}function m(e){a("apester_sdk_media_seen",{interactionId:e.interactionId,publisherId:e.publisherId,embedType:e.embedType,iframeType:e.iframeType})}function v(e,t){var n,r=e.closest("body")?e.closest("body"):e.closest("html"),o=e.getBoundingClientRect(),a=t||e.classList.contains("apester-strip");return n={screenHeight:window.screen.height.toString(),screenWidth:window.screen.width.toString(),pageHeight:r.getBoundingClientRect().height.toString(),pageWidth:r.getBoundingClientRect().width.toString(),pixelsLeft:o.left.toString(),pixelsTop:(o.top-r.getBoundingClientRect().top).toString(),isStrip:a.toString()},i(n,a?"stripHeight":"unitHeight",o.height.toString()),i(n,a?"stripWidth":"unitWidth",o.width.toString()),n}function g(e,t){var n=v(e,!0);(n=R({},n,{channelToken:t,consumerSessionId:U}))&&a("apester_component_position",n)}function y(e,t){var n={};t?(n.channelToken=e,n.embedType="playlist"):(n.interactionId=e,n.embedType="editorial"),a("apester_sdk_display_failed",n,void 0,!1)}function b(){a("article_exclude",{})}function _(e,t,n){a("player_mon_stopped",{publisherId:e,companionCampaignId:t,monType:n,isStrip:!0,reason:"SKIP",monProvider:"co"})}function w(e,t,n,i,r,o){var s={interactionId:r,publisherId:n,companionCampaignId:i,monProvider:"co",monType:e,monTriggerType:t};a("player_mon_impression_pending",o?R({},s,v(o)):s)}function I(e,t,n,i,r,o,s,u){var c={interactionId:o,publisherId:n,companionCampaignId:i,companionCustomParam:""+r,monProvider:"co",monType:e,monTriggerType:t,monBidder:""+s};a("player_mon_impression",u?R({},c,v(u)):c)}function E(e,t,n,i,r,o,s){var u={monProvider:e,interactionId:r,publisherId:i,campaignId:n,monType:t,monTriggerType:o};a("player_mon_impression",s?R({},u,v(s)):u)}function k(e,t,n,i,r,o,s){var u={monProvider:e,interactionId:r,publisherId:i,campaignId:n,monType:t,monTriggerType:o};a("player_mon_playing",s?R({},u,v(s)):u)}function T(e,t,n,i,r,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},u=arguments[7],c={monProvider:e,interactionId:r,publisherId:i,campaignId:n,monType:t,monTriggerType:o,monBidder:s.bidder,displayCustomParamFloat:""+s.cpm};a("player_mon_impression",u?R({},c,v(u)):c)}function A(e,t,n,i,r,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},u=arguments[7],c={monProvider:e,interactionId:r,publisherId:i,campaignId:n,monType:t,monTriggerType:o,monBidder:s.bidder,displayCustomParamFloat:""+s.cpm};a("player_mon_playing",u?R({},c,v(u)):c)}function C(e,t,n,i,r){a("tpe_ad_start",{thirdParty:e,interactionId:t,videoCustomParam:n,referrer:B,campaignId:i,publisherId:r})}function O(e,t,n,i,r){a("player_mon_loading_failed",{interactionId:r,publisherId:n,companionCampaignId:i,monProvider:"co",monType:e,monTriggerType:t})}function S(e){a("GDPR_timeout",{publisherId:e},!0)}function P(e){a("GDPR_success",{publisherId:e},!0)}function x(e){a("GDPR_failure",{publisherId:e},!0)}Object.defineProperty(t,"__esModule",{value:!0});var R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.metadataFactory=r,t.trackViewabilityMeasurmentStart=c,t.trackViewabilityMeasurmentCompleted=l,t.trackViewabilityMeasurmentUnmeasureable=d,t.sendLoadedEvent=p,t.sendStripTimeout=f,t.sendDisplayReadyEvent=h,t.sendMediaSeen=m,t.getPositionProperties=v,t.sendPositionLog=g,t.sendDisplayFailedEvent=y,t.sendArticeExclude=b,t.slidingAdSkipped=_,t.companionImpressionPending=w,t.companionImpression=I,t.externalVideoImpression=E,t.externalVideoPlaying=k,t.externalDisplayImpression=T,t.externalDisplayPlaying=A,t.companionTpeAdStart=C,t.companionLoadingFailed=O,t.trackGdprTimeout=S,t.trackGdprSuccess=P,t.trackGdprFailure=x;var M=n(23),L=n(7),D=n(0),V=n(83),j=void 0,U=(0,D.getSessionId)(),N=(0,L.extractCanonicalUrl)(),B=(0,D.getPageUrl)();window.addEventListener("message",o)},function(e,t,n){(function(t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function i(e){return"function"==typeof e}function r(e){F=e}function o(e){z=e}function a(){return void 0!==B?function(){B(u)}:s()}function s(){var e=setTimeout;return function(){return e(u,1)}}function u(){for(var e=0;e<N;e+=2){(0,Y[e])(Y[e+1]),Y[e]=void 0,Y[e+1]=void 0}N=0}function c(e,t){var n=this,i=new this.constructor(d);void 0===i[Z]&&S(i);var r=n._state;if(r){var o=arguments[r-1];z(function(){return A(r,i,o,n._result)})}else E(n,i,e,t);return i}function l(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(d);return b(n,e),n}function d(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function f(){return new TypeError("A promises callback cannot return that same promise.")}function h(e){try{return e.then}catch(e){return ee.error=e,ee}}function m(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}function v(e,t,n){z(function(e){var i=!1,r=m(n,t,function(n){i||(i=!0,t!==n?b(e,n):w(e,n))},function(t){i||(i=!0,I(e,t))},"Settle: "+(e._label||" unknown promise"));!i&&r&&(i=!0,I(e,r))},e)}function g(e,t){t._state===X?w(e,t._result):t._state===$?I(e,t._result):E(t,void 0,function(t){return b(e,t)},function(t){return I(e,t)})}function y(e,t,n){t.constructor===e.constructor&&n===c&&t.constructor.resolve===l?g(e,t):n===ee?(I(e,ee.error),ee.error=null):void 0===n?w(e,t):i(n)?v(e,t,n):w(e,t)}function b(t,n){t===n?I(t,p()):e(n)?y(t,n,h(n)):w(t,n)}function _(e){e._onerror&&e._onerror(e._result),k(e)}function w(e,t){e._state===Q&&(e._result=t,e._state=X,0!==e._subscribers.length&&z(k,e))}function I(e,t){e._state===Q&&(e._state=$,e._result=t,z(_,e))}function E(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+X]=n,r[o+$]=i,0===o&&e._state&&z(k,e)}function k(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,o=e._result,a=0;a<t.length;a+=3)i=t[a],r=t[a+n],i?A(n,i,r,o):r(o);e._subscribers.length=0}}function T(e,t){try{return e(t)}catch(e){return ee.error=e,ee}}function A(e,t,n,r){var o=i(n),a=void 0,s=void 0,u=void 0,c=void 0;if(o){if(a=T(n,r),a===ee?(c=!0,s=a.error,a.error=null):u=!0,t===a)return void I(t,f())}else a=r,u=!0;t._state!==Q||(o&&u?b(t,a):c?I(t,s):e===X?w(t,a):e===$&&I(t,a))}function C(e,t){try{t(function(t){b(e,t)},function(t){I(e,t)})}catch(t){I(e,t)}}function O(){return te++}function S(e){e[Z]=te++,e._state=void 0,e._result=void 0,e._subscribers=[]}function P(){return new Error("Array Methods must be provided an Array")}function x(e){return new ne(this,e).promise}function R(e){var t=this;return new t(U(e)?function(n,i){for(var r=e.length,o=0;o<r;o++)t.resolve(e[o]).then(n,i)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function M(e){var t=this,n=new t(d);return I(n,e),n}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function D(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function V(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===i&&!t.cast)return}e.Promise=ie}var j=void 0;j=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var U=j,N=0,B=void 0,F=void 0,z=function(e,t){Y[N]=e,Y[N+1]=t,2===(N+=2)&&(F?F(u):K())},W="undefined"!=typeof window?window:void 0,q=W||{},H=q.MutationObserver||q.WebKitMutationObserver,G="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),J="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Y=new Array(1e3),K=void 0;K=G?function(){return function(){return t.nextTick(u)}}():H?function(){var e=0,t=new H(u),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():J?function(){var e=new MessageChannel;return e.port1.onmessage=u,function(){return e.port2.postMessage(0)}}():void 0===W?function(){try{var e=Function("return this")().require("vertx");return B=e.runOnLoop||e.runOnContext,a()}catch(e){return s()}}():s();var Z=Math.random().toString(36).substring(2),Q=void 0,X=1,$=2,ee={error:null},te=0,ne=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(d),this.promise[Z]||S(this.promise),U(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&w(this.promise,this._result))):I(this.promise,P())}return e.prototype._enumerate=function(e){for(var t=0;this._state===Q&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===l){var r=h(e);if(r===c&&e._state!==Q)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===ie){var o=new n(d);y(o,e,r),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},e.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===Q&&(this._remaining--,e===$?I(i,n):this._result[t]=n),0===this._remaining&&w(i,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;E(e,void 0,function(e){return n._settledAt(X,t,e)},function(e){return n._settledAt($,t,e)})},e}(),ie=function(){function e(t){this[Z]=O(),this._result=this._state=void 0,this._subscribers=[],d!==t&&("function"!=typeof t&&L(),this instanceof e?C(this,t):D())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this,n=t.constructor;return i(e)?t.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):t.then(e,e)},e}();return ie.prototype.then=c,ie.all=x,ie.race=R,ie.resolve=l,ie.reject=M,ie._setScheduler=r,ie._setAsap=o,ie._asap=z,ie.polyfill=V,ie.Promise=ie,ie})}).call(t,n(56),n(20))},function(e,t,n){"use strict";function i(e,t,n,i){var r=i||!1;return e.addEventListener(t,n,r),function(){e&&e.removeEventListener(t,n,r),n=null,e=null}}function r(e,t,n,i){var r=i||!1,o=void 0,a=function(e){n(e),o()};return o=function(){e&&e.removeEventListener(t,a,r),e=null,a=null,n=null},e.addEventListener(t,a,r),o}function o(e,t,n,i){var o=void 0;return c(new h(function(i,a){o=r(e,t,i,n)}),o,void 0,i)}function a(e){return e.complete||"complete"==e.readyState}function s(e,t){var n=void 0,i=void 0;if(a(e))return h.resolve(e);var o=new h(function(t,o){n=r(e,"load",t),i=r(e,"error",o)});return o=o.then(l,u),c(o,n,i,t)}function u(e){throw new Error("Failed HTTP request for "+e.target)}function c(e,t,n,i){var r=void 0;return r=void 0===i?e:p(i||0,e),t&&r.then(t,t),n&&r.then(n,n),r}function l(e){return e.target||e.testTarget}function d(e){return new h(function(t){setTimeout(t,e)})}function p(e,t){return h.race([t,d(e).then(function(){throw new Error("Operation timed out")})])}function f(e,t,n){var i=this;return new h(function(r,o){var a=e.document.createElement("script");a.src=t,a.onload=r.bind(i,a),a.onerror=o.bind(i,a),n?n.appendChild(a):e.document.body.appendChild(a)})}Object.defineProperty(t,"__esModule",{value:!0}),t.listen=i,t.listenOnce=r,t.listenOncePromise=o,t.loadPromise=s,t.loadScript=f;var h="undefined"==typeof Promise?n(2).Promise:Promise},function(e,t,n){(function(t){var n="object",i=function(e){return e&&e.Math==Math&&e};e.exports=i(typeof globalThis==n&&globalThis)||i(typeof window==n&&window)||i(typeof self==n&&self)||i(typeof t==n&&t)||Function("return this")()}).call(t,n(20))},function(e,t,n){"use strict";function i(e,t){if("undefined"==typeof IntersectionObserver)return function(){};var n="rtk"===t.monType||"gpt"===t.monType,i=s.isMobile?c:l;n&&(i=u);var r=new o.default,d=[o.default.MeasurementTechniques.IntersectionObserver],p=o.default.Strategies.StrategyFactory(!0,d,i);return r.measureElement(e,p).onViewableStart(function(e){(0,a.trackViewabilityMeasurmentStart)(t)}).onViewableComplete(function(e){(0,a.trackViewabilityMeasurmentCompleted)(t)}).onUnmeasureable(function(){(0,a.trackViewabilityMeasurmentUnmeasureable)(t)}),function(){if(r)try{r._technique.observer.unobserve(e),r._technique.observer.disconnect(e)}catch(e){}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(123),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(1),s=n(0),u={inViewThreshold:.5,timeInView:1e3},c={inViewThreshold:.8,timeInView:5e3},l={inViewThreshold:.5,timeInView:2e3}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(122),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=n(93),u=n(60),c=n(9),l=n(1),d="undefined"==typeof Promise?n(2).Promise:Promise,p=new Uint16Array([u.CONSENT_PARAMS.APESTER_CONSENT_VENDOR_ID]),f={gdpr:void 0,gdprString:void 0,gdpr_consent:void 0,gdprVendorMeta:void 0},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.CONSENT_PARAMS.CONSENT_RETRIVING_TIMEOUT;try{return d.race([e,new d(function(e){return setTimeout(function(){return e({})},t)})])}catch(e){return d.resolve({})}},m=function(){return new d(function(e){var t=a.default.get(u.CONSENT_COOKIENAMES.euconsent)||a.default.get(u.CONSENT_COOKIENAMES.EuConsent)||a.default.get(u.CONSENT_COOKIENAMES.euConsent);if(t){var n=new s.ConsentString(t),i=n.isVendorAllowed(u.CONSENT_PARAMS.APESTER_CONSENT_VENDOR_ID),r=n.isPurposeAllowed(u.CONSENT_PARAMS.PERSONALIZATION_CONSENT_ID);return e({gdprString:t,gdpr_consent:Number(i&&r)})}return e({})})},v=function(e){return new d(function(t){e("getConsentData",null,function(e,n){if(n&&e){var i=e.consentData;return t({gdprString:i})}return t({})})})},g=function(e){return new d(function(t){e("getVendorConsents",p,function(e,n){if(n&&e){e.vendorConsents=e.vendorConsents||{},e.purposeConsents=e.purposeConsents||{};var i=Number(Boolean(e.gdprApplies)&&"false"!==e.gdprApplies.toString()),r=e.vendorConsents[u.CONSENT_PARAMS.APESTER_CONSENT_VENDOR_ID],o=e.purposeConsents[u.CONSENT_PARAMS.PERSONALIZATION_CONSENT_ID],a=Number(Boolean(r)&&Boolean(o)),s=e.metadata;return t({gdpr:i,gdpr_consent:a,gdprVendorMeta:s})}return t({})})})},y=void 0,b=function(e,t){return new d(function(n){var o=h(m()),a=e?h(v(e)):d.resolve({}),s=e?h(g(e)):d.resolve({});d.all([o,a,s]).then(function(e){var o=r(e,3),a=o[0],s=void 0===a?{}:a,u=o[1],d=void 0===u?{}:u,p=o[2],h=void 0===p?{}:p;(0,c.isEmpty)(d)||(0,c.isEmpty)(h)?(0,l.trackGdprFailure)(t):(0,l.trackGdprSuccess)(t);var m=window.APESTER.userConsent_,v=d.gdprString||h.gdprVendorMeta||s.gdprString,g=i({},f,s,h,{gdprString:v});void 0===m||m||(g.gdpr_consent=0),y=g,n(g)}).catch(function(){y=f,n(f)})})},_=u.CONSENT_PARAMS.MAX_CMP_RETRIES,w=function e(t){if(y)return d.resolve(y);var n=window.__cmp;if(n||_<=0)return _<=0&&(0,l.trackGdprTimeout)(t),b(n,t);var i=_===u.CONSENT_PARAMS.MAX_CMP_RETRIES;return new d(function(e){return setTimeout(e,i?0:250)}).then(function(){return _-=1,e()})};t.default=w},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/(<([^>]+)>)/gi," ").replace(/\s\s+/g," ").trim()}function o(){return document.querySelector("link[rel='canonical']")?document.querySelector("link[rel='canonical']").getAttribute("href"):document.location.href}function a(e){return{answer:e.answer,id:e.id,options:(0,C.map)(function(e){return e.value})(e.options||[]),title:r((e.title||{}).value)}}function s(e){return/^http[s]?:\/\//gi.test(e)}function u(e,t,n){var i=""+n;return s(n)||(i=e+"//"+t+"/"+n),i}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":",t=arguments[1],n={},i=/.*:(.*)/gi,r=i.exec(e);if(r&&t){var o=r[1];switch(e){case"twitter:url":case"twitter:title":case"twitter:image":case"og:locale":case"og:description":case"article:tag":case"article:published_time":case"article:modified_time":case"article:expiration_time":case"article:author":case"article:section":case"og:title":case"og:image":case"og:url":t.length>0&&(n[o]=t)}}return n}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n={};if(t)switch(e){case"NEWS_KEYWORDS":case"news_keywords":case"keywords":n.tag=t;break;case"author":case"description":case"subject":case"topic":case"category":case"medium":n[e]=t}return n}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n={};if(t)switch(e){case"image_src":n.image=t;break;case"canonical":n.url=t}return n}function p(e){var t={};return e.title&&e.title.length>0&&(t.title=e.title),e.location.href&&(t.url=e.location.href),e.documentElement.lang&&(t.locale=e.documentElement.lang),t}function f(){var e=document.getElementsByTagName("link"),t=(0,C.map)(function(e){return d(e.getAttribute("rel"),e.getAttribute("href"))})(e);return(0,C.flattenObject)(t)}function h(){var e=document.getElementsByTagName("meta"),t=(0,C.map)(function(e){var t=e.getAttribute("property"),n=e.getAttribute("content"),i=e.getAttribute("name"),r=c(t,n),o=l(i,n);return A({},r,o)})(e);return(0,C.reduce)(function(e,t){return Object.keys(t).forEach(function(n){e[n]=e[n]?e[n]+","+t[n]:t[n]}),e},{})(t)}function m(){return p(window.document)}function v(){var e=h(),t=f(),n=m();return A({},n,e,t)}function g(e){var t={};if(e){var n=((0,C.map)(function(e){return a(e)})(e.data.slides),"");e.publishingOptions&&e.publishingOptions.endDate&&(n=e.publishingOptions.endDate),t={created:e.created,interactionId:e.interactionId,language:e.language,layout:e.layout.name,publisherId:e.publisherId,title:r(e.title),updated:e.updated,tags:e.tags||[],expires:n,sessionId:e.sessionId,userId:e.userId}}return t}function y(e){var t=(0,C.map)(function(t){var n=e.getElementsByTagName(t);return(0,C.toArray)(n)})(["interaction","apester-media"]);return(0,C.filter)(function(e){return e.length})(t)}function b(e){var t=(0,C.map)(function(t){var n=e.getElementsByClassName(t);return(0,C.toArray)(n)})(["apester-media"]);return(0,C.filter)(function(e){return e.length})(t)}function _(e){var t=y(e),n=b(e),i=(0,C.concat)(n)(t);return(0,C.flattenArray)(i)}function w(e){var t=e.getElementsByClassName("apester-strip");return(0,C.toArray)(t)}function I(e){return w(e)}function E(e){return document.querySelector(e)}function k(){return document.querySelectorAll("interaction[data-token], div[data-token].apester-media")[0]}Object.defineProperty(t,"__esModule",{value:!0});var T=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.stripTags=r,t.extractCanonicalUrl=o,t.getInteractionElements=_,t.getStripElements=I,t.findInjectionPoint=E,t.findPlaylistInjectionLocation=k;var C=n(9),O=(Object.prototype.hasOwnProperty,function(){function e(){i(this,e),this.canonicalUrl_=void 0,this.documentData_=null}return T(e,[{key:"exportMediaData",value:function(e){var t=g(e);this.media_=e;var n={mediaChannelId:t.publisherId,mediaUserId:t.userId,mediaTitle:r(t.title),mediaTags:t.tag,mediaCreationDate:t.created,mediaContext:t.slides,mediaUpdateDate:t.updated,mediaExpirationDate:t.expires,mediaLanguage:t.language,mediaLayoutEngine:t.layout},i=(0,C.objectSafeAccess)("data.size.height".split("."),e);return{metadata:n,properties:{interactionId:t.interactionId,mediaHeight:i?i.toString():void 0}}}},{key:"toAbsolutePathConverter",value:function(e){var t=void 0;return e&&(t=u(location.protocol,location.host,e)),t}},{key:"exportDocumentData",value:function(){var e=this.documentData,t={destinationLanguage:e.locale,destinationTitle:e.title,destinationDescription:e.description,destinationContext:e.tag,destinationPreview:this.toAbsolutePathConverter(e.image),destinationPublishDate:e.published_time,destinationUpdateDate:e.modified_time,destinationExpirationDate:e.expiration_time,destinationAuthor:e.author,destinationSection:e.section};return{properties:{destinationUri:this.toAbsolutePathConverter(e.url)},metadata:t}}},{key:"exportCompleteData",value:function(e){var t=this.exportDocumentData(),n=this.exportMediaData(e);return{metadata:A({},t.metadata,n.metadata),properties:A({},t.properties,n.properties)}}},{key:"documentData",get:function(){return this.documentData_||v()}},{key:"canonicalUrl",get:function(){return this.canonicalUrl_||o()}}]),e}());t.default=O},function(e,t,n){"use strict";e.exports={START:"start",REFRESH:"refresh"}},function(e,t,n){"use strict";function i(e){return function(t){return Array.prototype.map.call(t,e)}}function r(e){return function(t){return Array.prototype.filter.call(t,e)}}function o(e,t){return function(n){return Array.prototype.reduce.call(n,e,t)}}function a(e){return function(t){return Array.prototype.concat.call(t,e)}}function s(e){return function(t){return Array.prototype.some.call(t,function(t){return t===e})}}function u(e){return function(t){return Array.prototype.filter.call(e,function(e){return!s(e)(t)})}}function c(e){return o(function(e,t){return h({},e,t)},{})(e)}function l(e){return o(function(e,t){return e.concat(Array.isArray(t)?l(t):t)},[])(e)}function d(e){return Array.prototype.slice.call(e)}function p(e,t){return o(function(e,t){return e&&e[t]?e[t]:null},t)(e)}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===Object.keys(e).length}Object.defineProperty(t,"__esModule",{value:!0});var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.map=i,t.filter=r,t.reduce=o,t.concat=a,t.includes=s,t.diff=u,t.flattenObject=c,t.flattenArray=l,t.toArray=d,t.objectSafeAccess=p,t.isEmpty=f},function(e,t,n){var i=n(11);e.exports=!i(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var i=n(10),r=n(27),o=n(40);e.exports=i?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";function i(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function r(){return i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i()}Object.defineProperty(t,"__esModule",{value:!0}),t.s4=i,t.guid=r},function(e,t,n){"use strict";function i(){var e=window.performance,t=-1;return e&&(t=e.now()),t}function r(e){return{event:"apester_sdk_perf_monitor",metadata:(0,a.metadataFactory)(window),properties:o({sdkVersion:"3.7.27",sdkType:"s"},e,{performanceTimestamp:""+i(),readyState:document.readyState,canonicalUrl:l})}}Object.defineProperty(t,"__esModule",{value:!0}),t.sendPerformanceLog=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(1),s=n(23),u=n(15),c=n(7),l=(0,c.extractCanonicalUrl)();t.sendPerformanceLog=function(){var e=(0,u.guid)(),t=function(){};return(0,s.passThrottle)(!0)&&(t=function(t,n){var i=r(o({logSessionId:e,action:t},n));return s.eventDispatcher.dispatch(i,!1).catch(function(e){})}),t}()},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a="undefined"==typeof Promise?n(2).Promise:Promise,s=function(){function e(t){i(this,e),this.events={READY_STATE_CHANGE:"readystatechange",LOAD_START:"loadstart",PROGRESS:"progress",ABORT:"abort",ERROR:"error",LOAD:"load",TIMEOUT:"timeout",LOAD_END:"loadend"},this.opts=t}return o(e,[{key:"send",value:function(e,t,n,i){var r=this;return new a(function(o,a){var s=new XMLHttpRequest,u=i||{},c=t||"GET";if(s.open(c,e),void 0!==u.disableContentType&&u.disableContentType||s.setRequestHeader("Content-Type",r.opts.contentType||"application/json;charset=UTF-8"),r.opts.headers)for(var l in r.opts.headers){var d=r.opts.headers[l];s.setRequestHeader(l,d)}s.withCredentials=(i||{}).withCredentials||!1,n=n?r.parseData(n):null,s.addEventListener(r.events.LOAD,function(){if(200==s.status||0==s.status){var e="";s.responseText&&(e=r.opts.json?JSON.parse(s.responseText):s.responseText),o(e,s)}else a(r.reject(s))}),s.addEventListener(r.events.ABORT,function(){return a(r.reject(s))}),s.addEventListener(r.events.ERROR,function(){return a(r.reject(s))}),s.addEventListener(r.events.TIMEOUT,function(){return a(r.reject(s))}),n?s.send(n):s.send()})}},{key:"reject",value:function(e){var t="";return e.responseText&&(t=this.opts.json?JSON.parse(e.responseText):e.responseText),t}},{key:"parseData",value:function(e){if("application/json"==this.opts.contentType)return JSON.stringify(e);var t=[];if("string"==(void 0===e?"undefined":r(e)).toLowerCase()||"number"==(void 0===e?"undefined":r(e)).toLowerCase())t.push(e);else for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}},{key:"get",value:function(e,t){return this.send(e,"GET",null,t)}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{withCredentials:!0};return this.send(e,"POST",t,n)}},{key:"delete",value:function(e){return this.send(e,"DELETE")}},{key:"put",value:function(e,t){return this.send(e,"PUT",t)}}]),e}();t.xhr=new s({})},function(e,t,n){var i=n(14);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var i=n(4),r=n(28),o=n(106),a=i["__core-js_shared__"]||r("__core-js_shared__",{});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.2.1",mode:o?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.BaseElement=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),a="undefined"==typeof Promise?n(2).Promise:Promise;t.BaseElement=function(){function e(t,n){i(this,e),this.layer=t,this.params=n,this.abstractType=n.type,this.type=n.provider.type,this.version=n.provider.version,this.options=n.provider.options,this.isMobile=o.isMobile,this.element=t.element,this.layoutWidth_=-1,this.inViewport_=!1,this.win=this.element.ownerDocument.defaultView,this.preconnect=null,this.config=null,this.resources_=null}return r(e,[{key:"closeUnit",value:function(){}},{key:"getResources",value:function(){return this.resources_}},{key:"getLayoutWidth",value:function(){return this.layoutWidth_}},{key:"isInViewport",value:function(){return this.inViewport_}},{key:"createdCallback",value:function(){}},{key:"firstAttachedCallback",value:function(){this.parent=this.element.parentElement}},{key:"buildCallback",value:function(){}},{key:"preconnectCallback",value:function(e){return a.resolve()}},{key:"detachedCallback",value:function(){}},{key:"createPlaceholderCallback",value:function(){return null}},{key:"layoutCallback",value:function(){return a.resolve()}},{key:"firstLayoutCompleted",value:function(){this.togglePlaceholder(!1)}},{key:"viewportCallback",value:function(e){}},{key:"pauseCallback",value:function(){}},{key:"resumeCallback",value:function(){}},{key:"playCallback",value:function(){return a.resolve()}},{key:"engagementCallback",value:function(){return a.reject()}},{key:"unlayoutCallback",value:function(){return!1}},{key:"loadPromise",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){return loadPromise(e,t)})},{key:"getPlaceholder",value:function(){return this.element.getPlaceholder()}},{key:"togglePlaceholder",value:function(e){}},{key:"getFallback",value:function(){return this.element.getFallback()}},{key:"remove",value:function(){this.element.remove()}},{key:"toggleFallback",value:function(e){this.element.toggleFallback(e)}},{key:"registerEvent",value:function(e,t){}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=c(e);return function(e){function n(e){return r(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return a(n,e),d(n,[{key:"elementName",value:function(){return t}}]),n}(n)}function u(e,t){var n=e.createElement("img");switch(t){case"strip":v.isMobile&&(n.src=m.default,n.classList.add("strip-loader-mobile")),n.classList.add("strip-loader");break;case"interaction":default:n.src=f.default,n.classList.add("interaction-loader")}return n}function c(e){if(e.APESTER.BaseCustomElementClass)return e.APESTER.BaseCustomElementClass;var t=function(){function t(n){r(this,t),this.params=n,this.element=e.document.createElement("apester-layer"),this.createdCallback()}return d(t,[{key:"createdCallback",value:function(){this.built_=!1,this.readyState="loading",this.resources_=null,this.layout_=null,this.layoutWidth_=-1,this.layoutCount_=0,this.isFirstLayoutCompleted_=!0,this.isInViewport_=!1,this.loadingState_=void 0,this.loadingContainer_=null,this.loadingElement_=null;var e=g[this.elementName()];this.implementation_=new e(this,this.params),this.implementation_.createdCallback(),this.actionQueue_=[]}},{key:"getAbstractType",value:function(){return this.implementation_.abstractType}},{key:"getType",value:function(){return this.implementation_.type}},{key:"getVersion",value:function(){return this.implementation_.version}},{key:"elementName",value:function(){}},{key:"getResources",value:function(){return this.resources_}},{key:"isBuilt",value:function(){return this.built_}},{key:"build",value:function(){if(!this.isBuilt()){try{this.implementation_.buildCallback(),this.preconnect(!1),this.built_=!0,this.element.classList.add("apester-layer")}catch(e){return}this.built_&&this.isInViewport_&&this.updateInViewport_(!0)}}},{key:"preconnect",value:function(e){e&&this.implementation_.preconnectCallback(e)}},{key:"updateLayoutBox",value:function(e){this.layoutWidth_=e.width,this.isLoadingEnabled_()&&(this.isInViewport_&&this.toggleLoading_(!0),this.prepareLoading_())}},{key:"connectedCallback",value:function(){this.implementation_.firstAttachedCallback()}},{key:"disconnectedCallback",value:function(){this.implementation_.detachedCallback()}},{key:"dispatchCustomEvent",value:function(e,t){var n=t||{},i=this.element.ownerDocument.defaultView,r=i.document.createEvent("Event");r.data=n,r.initEvent(e,!0,!0),this.element.dispatchEvent(r)}},{key:"createPlaceholder",value:function(){return this.implementation_.createPlaceholderCallback()}},{key:"getLayoutBox",value:function(){}},{key:"getResourceId",value:function(){}},{key:"layoutCallback",value:function(){var e=this;if(this.isBuilt()){var t=this.implementation_.layoutCallback();return this.preconnect(!0),this.element.classList.add("apester-layout"),t.then(function(){e.readyState="complete",e.layoutCount_++,e.toggleLoading_(!1,!0),e.isFirstLayoutCompleted_&&(e.implementation_.firstLayoutCompleted(),e.isFirstLayoutCompleted_=!1)},function(t){throw e.layoutCount_++,e.toggleLoading_(!1,!0),t})}}},{key:"viewportCallback",value:function(e){this.isInViewport_=e,0==this.layoutCount_&&(e||this.toggleLoading_(!1)),this.isBuilt()&&this.updateInViewport_(e)}},{key:"updateInViewport_",value:function(e){this.implementation_.inViewport_=e,this.implementation_.viewportCallback(e)}},{key:"pauseCallback",value:function(){this.isBuilt()&&this.implementation_.pauseCallback()}},{key:"resumeCallback",value:function(){this.isBuilt()&&this.implementation_.resumeCallback()}},{key:"playCallback",value:function(){return this.implementation_.playCallback()}},{key:"engagementCallback",value:function(){return this.implementation_.engagementCallback()}},{key:"unlayoutCallback",value:function(){if(!this.isBuilt())return!1;var e=this.implementation_.unlayoutCallback();return e&&(this.layoutCount_=0,this.isFirstLayoutCompleted_=!0),e}},{key:"unlayoutOnPause",value:function(){return this.implementation_.unlayoutOnPause()}},{key:"enqueAction",value:function(e){assertNotTemplate(this),this.isBuilt()?this.executionAction_(e,!1):dev().assert(this.actionQueue_).push(e)}},{key:"dequeueActions_",value:function(){var e=this;if(this.actionQueue_){var t=dev().assert(this.actionQueue_);this.actionQueue_=null,t.forEach(function(t){e.executionAction_(t,!0)})}}},{key:"executionAction_",value:function(e,t){try{this.implementation_.executeAction(e,t)}catch(t){rethrowAsync("Action execution failed:",t,e.target.tagName,e.method)}}},{key:"getPlaceholder",value:function(){return parent.lastElementChild}},{key:"togglePlaceholder",value:function(e){if(assertNotTemplate(this),e){var t=this.getPlaceholder();t&&t.classList.remove("apester-hidden")}else for(var n=dom.childElementsByAttr(this,"placeholder"),i=0;i<n.length;i++)n[i].classList.add("apester-hidden")}},{key:"isLoadingEnabled_",value:function(){return!(this.layoutWidth_<100||this.layoutCount_<0||"stripPWA"===this.params.provider.type)}},{key:"prepareLoading_",value:function(){if(!this.loadingContainer_){var e=this.element.ownerDocument,t=-1!==window.location.href.indexOf("7days"),n=e.createElement("div");n.classList.add("apester-loading-container");var i="";i=t?e.createElement("span"):u(e,this.params.type),v.isMobile&&(n.classList.add("apester-loading-container-mobile"),n.appendChild(i)),this.element.appendChild(n),this.loadingContainer_=n,this.loadingElement_=i}}},{key:"toggleLoading_",value:function(e,t){var n=this;if(this.loadingState_=e,e||this.loadingContainer_){if(e&&!this.isLoadingEnabled_())return void(this.loadingState_=!1);!function(){var e=n.loadingState_;if(e&&!n.isLoadingEnabled_()&&(e=!1),e&&n.prepareLoading_(),n.loadingContainer_&&(n.loadingContainer_.classList.toggle("apester-hidden",!e),n.loadingElement_.classList.toggle("apester-active",e),!e&&t)){n.loadingContainer_;n.loadingContainer_=null,n.loadingElement_=null}}()}}},{key:"registerEvent",value:function(e,t){this.implementation_.registerEvent(e,t)}},{key:"closeUnit",value:function(){this.implementation_.closeUnit()}},{key:"remove",value:function(){this.implementation_.remove()}}]),t}();return e.APESTER.BaseCustomElementClass=t,e.APESTER.BaseCustomElementClass}function l(e,t,n){g[t]=n;var i=s(e,t);window.APESTER[t]=i}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.registerElement=l;var p=n(87),f=i(p),h=n(88),m=i(h),v=n(0),g={}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){return t&&null!=t&&void 0!==t&&0!=t.length&&"undefined"!==t?t:void 0}function o(e){return p.reject(e)}function a(e){var t=JSON.stringify(e,r);return l.xhr.post("https://events.apester.com/event",t)}function s(e){return a(e)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=(0,d.getSessionSeconds)();return!e||n%t==0}Object.defineProperty(t,"__esModule",{value:!0}),t.eventDispatcher=t.EventDispatcher=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.passThrottle=u;var l=n(17),d=n(0),p="undefined"==typeof Promise?n(2).Promise:Promise,f=t.EventDispatcher=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i(this,e),this.enabled_=t}return c(e,[{key:"dispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,i=void 0;if(this.enabled_){i=u(t,n)?s(e):o("THROTTLE: event not send to save resources.")}else i=o("not sending event on preview mode");return i}},{key:"enabled",get:function(){return this.enabled_},set:function(e){"boolean"==typeof e&&(this.enabled_=e)}}]),e}();t.eventDispatcher=new f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.syncAdBelowOpen=function(e,t){window.postMessage({type:"apester_ad_open",size:{width:e,height:t}},"*")},t.syncAdBelowClosed=function(){window.postMessage({type:"apester_ad_closed"},"*")}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){e.exports={}},function(e,t,n){var i=n(10),r=n(44),o=n(18),a=n(52),s=Object.defineProperty;t.f=i?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(4),r=n(13);e.exports=function(e,t){try{r(i,e,t)}catch(n){i[e]=t}return t}},function(e,t,n){var i=n(45),r=n(48);e.exports=function(e){return i(r(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(0);t.default=function(e,t,n){var i=e.interactionId,a=e.publisherId,s=e.publisher;return(0,r.default)(a).then(function(e){var r=e.gdprString,u=e.gdpr,c=e.gdpr_consent,l={param1:i,param2:a,param3:(0,o.getSessionId)(),param6:t,page_url:(0,o.getPageUrl)()};return r&&(l.param4=r),void 0!==u&&(l.gdpr=u),void 0!==c&&(l.user_consent=c),n&&(l.width=n.width,l.height=n.height),s&&s.groupId&&(l.param7="apester.com:"+s.groupId,l.schain="1.0,1!apester.com,"+s.groupId+",1,,,"),l})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(new Date).getTime();t.lockedCallbackFactory=function(e,t){return function(){var n=(new Date).getTime();n-i>=t&&(i=n,e())}},t.setRefreshListeners=function(e,t){window.addEventListener("message",function(n){n.data.type===e&&"function"==typeof t&&t(n.data)})}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){(0,l.registerElement)(e,"RENDERER",O)}Object.defineProperty(t,"__esModule",{value:!0}),t.renderer=t.rendererEventsNames=t.getInteractionLoadedPixelParameters=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=a;var c=n(21),l=n(22),d=n(7),p=n(17),f=n(16),h=n(9),m=n(0),v=n(33),g=function(e){return e&&e.__esModule?e:{default:e}}(v),y="undefined"==typeof Promise?n(2).Promise:Promise,b=(0,g.default)(navigator.userAgent),_=function(e){if(m.isMobile){var t=e.getElementsByClassName("apester-fill-content")[0];t&&(t.style.minHeight=window.innerHeight+"px")}e.classList.add("fullscreen");var n=e.parentElement&&e.parentElement.getAttribute("data-manual-top");!m.isMobile&&n&&(e.style.top=n+"px",e.style.height="calc(100% - "+n+"px")},w=(0,m.getSessionId)(),I=function(e){if(m.isMobile){var t=e.getElementsByClassName("apester-fill-content")[0];t&&(t.style.minHeight=0)}e.classList.remove("fullscreen"),m.isMobile||(e.style.top=0,e.style.height="100%")},E=function(e,t){e.setAttribute("height",t)},k=function(e,t){e.style["max-width"]=t+"px"},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map(function(t){return t+"="+e[t]}).join("&")},A=t.getInteractionLoadedPixelParameters=function(e,t){if(e){var n=e.publisherId,i=e.trackingPixel;return i&&i.affiliateId?{offer_id:2,aff_id:i.affiliateId,aff_sub:n,aff_sub2:t}:null}return null},C=t.rendererEventsNames={SET_FULL_SCREEN:"fullscreen_on",REMOVE_FULL_SCREEN:"fullscreen_off",RESIZE_UNIT:"apester_resize_unit",REDIRECT_URL_LINK:"redirect_url_link"},O=t.renderer=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"buildCallback",value:function(){var e=this;this.rendererBaseUrl_="https://renderer.apester.com",this.playerBaseUrl_="http://renderer.apester.com",this.displayBaseUrl_="https://display.apester.com",this.interactionId_=this.options.interactionId,this.iframe_=null,this.iframePromise_=null,this.seen_=!1,this.ready_=!1,this.engaged_=!1,this.registerEvent(C.SET_FULL_SCREEN,function(t){b||e.interactionId_!==t.id||"596737045cc7ece51b3602fd"===t.id||"59bbba559debe10001a82451"===t.id||_(e.element)}),this.registerEvent(C.REMOVE_FULL_SCREEN,function(t){b||e.interactionId_!==t.id||"596737045cc7ece51b3602fd"===t.id||"59bbba559debe10001a82451"===t.id||I(e.element)}),this.registerEvent(C.RESIZE_UNIT,function(t){e.interactionId_===t.id&&t.height&&E(e.iframe_,t.height),e.interactionId_===t.id&&t.width&&k(e.iframe_,t.width)}),this.registerEvent(C.REDIRECT_URL_LINK,function(e){e.redirectUrl&&(window.location.href=e.redirectUrl)})}},{key:"closeUnit",value:function(){I(this.element);var e={type:"fullscreen_off"};this.iframe_.contentWindow.postMessage(e,"*")}},{key:"createPerformanceLog",value:function(){return{interactionId:this.options.interactionId,publisherId:this.options.channelId,iframeType:this.options.iframeType}}},{key:"firstLayoutCompleted",value:function(){this.viewportCallback(this.isInViewport())}},{key:"constructUrlFromMedia_",value:function(e){var t=this.options.newPlayer?this.rendererBaseUrl_+"/v2":this.rendererBaseUrl_+"/interaction",n=this.options.monetized?"&channelId="+this.options.channelId:"",i=this.options.type?"&type="+encodeURIComponent(this.options.type):"",r=this.options.iframeType?"&iframeType="+this.options.iframeType:"",o=this.options.isContextualMatch?"&isContextualMatch="+this.options.isContextualMatch:"",a="&platform="+(0,m.getPlatform)(),s=this.options.isResultsScreen?"&preview=true&results=true":"",u=(0,d.extractCanonicalUrl)(),c=this.options.evergreen?"&evergreen=true":"",l=this.options.autoFullscreen?"&autoFullscreen=true":"";return t+"/"+encodeURIComponent(e)+"?sdk=3.7.27s&canonicalUrl="+encodeURIComponent(u)+n+i+r+a+o+c+l+s}},{key:"constructIframe_",value:function(e,t){var n=this.element.ownerDocument.createElement("iframe");n.setAttribute("title","Apester - Interactive content"),n.setAttribute("frameborder","0"),n.setAttribute("allowtransparency","true"),n.setAttribute("scrolling","no"),n.setAttribute("allow","autoplay"),n.setAttribute("data-interaction-id",this.interactionId_),n.name=/wpcomwidgets/.test(document.location.href)?document.referrer:document.location.href,n.classList.add("apester-fill-content");var i=e.split("?");n.originalUrlParams=i.length>1?"?"+i[1]:"",n.strip=this.options.strip,n.instanceId=this.options.instanceId,n.stripItems=this.options.stripItems,n.matchedTags=this.options.matchedTags,n.clickMacro=this.options.clickMacro,n.consent=this.options.consent,n.src="friendlyIframe"===this.options.iframeType?"about:blank":this.getIframeSrc();var r=this.options.iosDeviceInfo;return n.extensionData={featureFlags:this.options.featureFlags,sessionId:w,consumerId:t},this.options.campaignData&&s(n.extensionData,s({},this.options.campaignData,{iosDeviceInfo:r})),n}},{key:"getIframeSrc",value:function(){var e=this.options.isResultsScreen?"?preview=true&results=true":"";return this.options.newPlayer?this.rendererBaseUrl_+"/v2/"+this.interactionId_+e:this.rendererBaseUrl_+"/interaction/"+this.interactionId_+e}},{key:"getFriendlyIframePromise_",value:function(e){var t=this;(0,f.sendPerformanceLog)("renderer_pending",this.createPerformanceLog());return function(){return t.params.provider.content?y.resolve(t.params.provider.content):p.xhr.get(e)}().then(function(e){return t.iframe_.contentWindow.document.open("text/html","replace"),t.iframe_.contentDocument.write(e),t.iframe_.contentDocument.close(),t.loadRenderer().then(function(){return t.ready_=!0,(0,f.sendPerformanceLog)("renderer_fulfilled",t.createPerformanceLog()),t.iframe_},function(){return y.reject(t.id)})},function(){return y.reject(t.id)})}},{key:"getIframePromise_",value:function(e){var t=this;return(0,f.sendPerformanceLog)("renderer_pending",this.createPerformanceLog()),this.loadRenderer().then(function(){t.ready_=!0,(0,f.sendPerformanceLog)("renderer_fulfilled",t.createPerformanceLog());var n={type:"campaigns",data:s({},t.options.campaignData,{sessionId:w,consumerId:e})};return t.iframe_.contentWindow.postMessage(n,"*"),t.iframe_},function(){return y.reject(t.id)})}},{key:"isFallbackCampaign",value:function(){return!(!this.options.campaignData||!this.options.campaignData.videoCampaignOptions)&&this.options.campaignData.videoCampaignOptions.isFallback}},{key:"isStripRenderer",value:function(){return this.options.stripItems&&this.options.stripItems.length}},{key:"layoutCallback",value:function(){var e=this;this.options.iframeType=this.isFallbackCampaign()&&!this.isStripRenderer()?"iframe":"friendlyIframe";var t=this.constructUrlFromMedia_(this.interactionId_);return window.APESTER.sessionPromise.then(function(n){var i=n.consumerId;e.iframe_=e.constructIframe_(t,i),e.element.appendChild(e.iframe_),e.iframePromise_="iframe"===e.options.iframeType?e.getIframePromise_(i):e.getFriendlyIframePromise_(t)}).then(function(){return e.iframePromise_})}},{key:"viewportCallback",value:function(e){if(this.iframe_&&this.ready_){var t={type:"sdkViewChange",inViewport:e};this.iframe_.contentWindow.postMessage(t,"*")}}},{key:"engagementCallback",value:function(){var e=this;return new y(function(t){e.engaged_&&t();var n=function(){document.activeElement===e.iframe_&&(e.engaged_=!0,t(),setTimeout(i,0))},i=function(){window.removeEventListener("blur",n)};window.addEventListener("blur",n)})}},{key:"loadRenderer",value:function(){var e=this;return new y(function(t,n){var i=void 0,r=void 0,o=function(n){var i=!1;if("apester_interaction_loaded"===(0,h.objectSafeAccess)(["data","type"],n)){t(),i=!0;var r=A(e.options.publisher,window.location.hostname);if(r){var o=e.win.document.createElement("img");o.setAttribute("height","1"),o.setAttribute("width","1"),o.setAttribute("src","https://apester.go2cloud.org/aff_i?"+T(r)),e.win.document.body.appendChild(o)}}return i};r=function(e){o(e)&&i()},i=function(){window.removeEventListener("message",r),r=null,o=null},window.addEventListener("message",r)})}},{key:"registerEvent",value:function(e,t){window.addEventListener("message",function(n){n.data.type===e&&t(n.data)})}}]),t}(c.BaseElement)},function(e,t,n){"use strict";function i(e){return!!e.match(a)}function r(e){return/android/i.test(e)?"android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"ios":"unknown"}Object.defineProperty(t,"__esModule",{value:!0}),t.isWebview=i,t.getMobileOperatingSystem=r;var o=["WebView","(iPhone|iPod|iPad)(?!.*Safari)","Android.*(wv|.0.0.0)","Linux; U; Android"],a=new RegExp("("+o.join("|")+")","ig");t.default=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t,n,i){return{left:e,top:t,width:n,height:i,bottom:t+i,right:e+n}}function s(e){return e.getAttribute("data-fallback")}function u(){var e=document.querySelectorAll(".field--name-field-tags > .field__items > .field__item");return(0,X.reduce)(function(e,t){var n=t&&t.textContent;return n&&n.trim()?e.concat(n.trim()):e},[])(e)}function c(e){return function(){var t=e.getAttribute("data-tags");return t?t.split(",").map(function(e){return e.trim()})||[]:[]}}function l(){var e=document.querySelectorAll("a.entry-tag");return(0,X.reduce)(function(e,t){return e.concat(t.text.trim())},[])(e)}function d(){var e=document.querySelectorAll("meta[property='article:tag']");return(0,X.reduce)(function(e,t){return e.concat(t.content.split(",").map(function(e){return e.trim()}))},[])(e)}function p(){var e=document.querySelectorAll("span.tag.separated a");return(0,X.reduce)(function(e,t){return e.concat(t.text.trim())},[])(e)}function f(){var e=document.querySelectorAll("a[data-tag]");return(0,X.reduce)(function(e,t){return e.concat(t.getAttributeNode("data-tag").nodeValue)},[])(e)}function h(){var e=window.location.pathname.endsWith("/")?2:1;return window.location.pathname.split("/").reduce(function(t,n,i,r){return n&&i!==r.length-e&&!parseInt(n)&&t.push(n.replace(/[_-]/g," ")),t},[])}function m(e,t){return function(){return new oe(function(n,i){var r=void 0;e.GujAd&&e.GujAd.cmd&&e.GujAd.cmd.push?(r=setTimeout(function(){r=null,n([])},t),e.GujAd.cmd.push(function(){if(r){clearTimeout(r);var t=[];try{t=e.GujAd.getClient().getKeywords()}catch(e){}n(t)}})):n([])})}}function v(){if(window.ipcTags&&window.ipcTags.tagging){return window.ipcTags.tagging.filter(function(e){return e.includes("post_tag:")}).map(function(e){return e.substr("post_tag:".length).trim().replace(/_/g," ")})}return[]}function g(e,t,n){return n.indexOf(e)===t}function y(){var e=document.querySelectorAll('meta[name="cXenseParse:cmd-productName"], meta[name="cXenseParse:cmd-productNameShort"]');return(0,X.filter)(function(e){return e.getAttribute("content")})(e).map(function(e){return e.getAttribute("content").trim()}).filter(g)}function b(){return"undefined"!=typeof dcTags&&Array.isArray(dcTags)?(0,X.reduce)(function(e,t){return e.concat(t.split(",").map(function(e){return e.trim()}))},[])(dcTags):[]}function _(){var e=["meta[name=keywords]","meta[name=news_keywords]","meta[name=NEWS_KEYWORDS]"],t=[];return e.forEach(function(e){var n=document.querySelector(e);if(n){var i=n.getAttribute("content");if(i){var r=i.split(",").map(function(e){return e.trim()});t=t.concat(r)}}}),t}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map(function(e){return e()||[]});return oe.all(t).then(function(e){var t={};return e.forEach(function(e){e.reduce(function(e,t){return e[t.toLowerCase().trim()]=1,e},t)}),Object.keys(t)})}function I(e,t){var n=e.idOrToken,i=e.playlist,r=e.inative,o=(e.campaignId,e.distributionChannelId),a=e.fallback,s=e.renderer,u=e.sendUrl,c=e.newPlayer,l=encodeURIComponent(n),d="",p="?";r?n?(d="/inatives/"+n,p+=u?"url="+encodeURI(u)+"&":""):o&&(d="/channels/"+o+"/inatives",p+=u?"url="+encodeURI(u)+"&":""):i&&t?(t=t.map(function(e){return"tags="+encodeURIComponent(e.trim())}).join("&"),d="/tokens/"+l+"/interactions/random",p+=t?t+"&":"",p+="fallback="+!!a+"&",p+=u?"url="+encodeURI(u)+"&":""):i?(d="/tokens/"+l+"/interactions/random",p+=u?"url="+encodeURI(u)+"&":""):d="/interactions/"+l+"/display";var f=(0,ie.getPlatform)();return p+="platform="+f,p+=f&&f.match&&f.match(/mobile/)?"&os="+(0,ie.getOS)():"",p+=s?"&renderer=true":"",p+=c?"&renderer=true":"","https://display.apester.com"+d+p}function E(e){return e.getAttribute("data-channel-token")||e.getAttribute("data-random")||e.getAttribute("data-token")}function k(e){return(e.getAttribute("data-channel-tokens")||"").split(",")}function T(e){return e.getAttribute("data-media-id")||e.getAttribute("id")}function A(e){return e.getAttribute("data-campaign-id")}function C(e){return e.getAttribute("data-channel-id")}function O(e){return e.getAttribute("data-distribution-url")}function S(e){return!!(e.getAttribute("data-channel-token")||e.getAttribute("data-random")||e.getAttribute("data-token"))}function P(e){return"true"===e.getAttribute("data-inative")}function x(e){return"auto"===e.getAttribute("data-embed-mode")}function R(e){return!!e.getAttribute("data-player")&&"true"===e.getAttribute("data-player")}function M(e){var t=e.some(function(e){return!S(e)}),n=e.some(function(e){return S(e)}),i=e.some(function(e){return x(e)});return n&&(t||i)}function L(){return window.pmc_adm_gpt&&window.pmc_adm_gpt.is_direct_sold||!![].concat(o(document.querySelectorAll("div.pmc-frontend-components.badges-sponsored-content"))).find(function(e){return"branded content"===e.innerText.toLowerCase()})}function D(){return(window.location.href||"").match(/indiewire.com|variety.com|rollingstone.com|hollywoodlife.com|goldderby.com|footwearnews.com|tvline.com|qmerce.github.io|pmcqa/g)}function V(e){return e.filter(function(e){return!S(e)})}function j(e){e.filter(function(e){return S(e)}).forEach(function(e){e.parentNode.removeChild(e)})}function U(e,t){var n=JSON.parse(e),i=n.payload,r=void 0;return t?(r=Array.isArray(i)?i[Math.floor(Math.random()*i.length)]:i,r.embedType="playlist"):(r=i,r.embedType="editorial"),r}function N(e,t){return e=e||[],t=t||"",!!e.filter(function(e){return new RegExp("([\\s,\\.:!\\?\\-]|^)"+e+"([\\s,\\.:!\\?\\-]|$)","i").test(t)}).length}Object.defineProperty(t,"__esModule",{value:!0});var B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},F=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.layoutRectLtwh=a;var z=n(59),W=n(21),q=n(7),H=i(q),G=n(22),J=n(23),Y=n(32),K=i(Y),Z=n(78),Q=i(Z),X=n(9),$=n(1),ee=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}($),te=n(16),ne=n(82),ie=n(0),re=n(17),oe="undefined"==typeof Promise?n(2).Promise:Promise,ae=["Awards Spotlight","âMudboundâ Director Dee Rees","Best Actor: EW picks the best Oscar winners of all time"],se=function(){function e(t){r(this,e),this.apesterMedias={interactions:{elements:[],managers:[]},strips:{elements:[],managers:[]}},this.disableEvents=!1,this.win=t,this.eventProxy=J.eventDispatcher,this.unitsManagers_=[],this.crawler=new H.default,this.workQueue_=[],this.displayBaseUrl_="https://display.apester.com",this.registeredEvents=[],this.userConsent_=void 0,this.timeout=null}return F(e,[{key:"getSession",value:function(){return re.xhr.get(this.displayBaseUrl_+"/session",{withCredentials:!0}).catch(function(){return{consent:!0,session:"no-session"}})}},{key:"closeUnits",value:function(){this.unitsManagers_.forEach(function(e){e.closeUnits&&e.closeUnits()})}},{key:"Init",value:function(e){var t=this;(0,ie.preconnect)("https://display.apester.com",document),(0,ie.preconnect)("https://renderer.apester.com",document);var n=this.getSession().then(function(e){var n={consumerId:""};try{var i=JSON.parse(e);if(t.userConsent_=i.consent||i.payload.consent,t.consumerId=i.session||i.payload.session,!t.consumerId)return n;return{consumerId:t.consumerId.uuid?t.consumerId.uuid:t.consumerId}}catch(e){return n}});this.sessionPromise=oe.race([n,new oe(function(e){setTimeout(function(){return e("no-cookie")},400)})]),e&&(J.eventDispatcher.enabled=e.disableEvents,this.params=e);var i=document.getElementsByClassName("apester-strip")[0];return i&&(0,ie.isPreviewMode)(i)&&(J.eventDispatcher.enabled=!1),ee.sendLoadedEvent(),window.APESTER.reload=function(){t.load(),t.process()},window.APESTER.BaseElement=W.BaseElement,window.APESTER.registerElement=G.registerElement.bind(null,window),(0,K.default)(window),(0,Q.default)(window),window.apesterLateLoad||this.load(),(0,z.getAutoPlacement)(this.crawler.canonicalUrl).then(function(e){if(e){var n=e.element,i=e.model,r=new ne.ResourceManager(n,B({},i,t.params));t.initializeResourceManager(r),t.apesterMedias.interactions.elements.push(n),j(t.apesterMedias.interactions.elements)}return oe.resolve()}).catch(function(e){})}},{key:"initializeResourceManager",value:function(e){e&&(e.Initialize(),this.unitsManagers_.push(e),this.registeredEvents.forEach(function(t){e.registerEvent(t.name,t.callback)}))}},{key:"process",value:function(){var e=this;oe.all(this.workQueue_).then(function(t){(0,X.map)(function(t){e.initializeResourceManager(t)})(t)}),this.workQueue_=[]}},{key:"isAlsoDesktopStrip",value:function(e){return"false"===e.getAttribute("is-mobile-only")||"false"===e.getAttribute("data-is-mobile-only")}},{key:"load",value:function(){var e=this,t=(0,q.getInteractionElements)(document),n=(0,X.diff)(t)(this.apesterMedias.interactions.elements),i="desktop"==(0,ie.getPlatform)(),r=(0,X.filter)(function(t){return!i||e.isAlsoDesktopStrip(t)})((0,q.getStripElements)(document)||[]),o=(0,X.diff)(r)(this.apesterMedias.strips.elements);this.apesterMedias.strips.elements=(0,X.concat)(o)(this.apesterMedias.strips.elements);var a=M(t)?V(n):n;D()&&(this.pmcIntervalHandle||(this.pmcTimeoutHandle=setTimeout(function(){e.pmcIntervalHandle&&clearInterval(e.pmcIntervalHandle)},15e3),this.pmcIntervalHandle=setInterval(function(){if(L()){clearInterval(e.pmcIntervalHandle),clearTimeout(e.pmcTimeoutHandle);(0,q.getInteractionElements)(document).forEach(function(e){e.remove()}),ee.sendArticeExclude()}},500))),this.apesterMedias.interactions.elements=(0,X.concat)(n)(this.apesterMedias.interactions.elements);var s=this.render(a),u=this.renderStrips(o);this.workQueue_=this.workQueue_.concat(s,u)}},{key:"loaded",value:function(){this.load(),this.process()}},{key:"connect_",value:function(e){var t=this,n=oe.resolve([]),i={playlist:S(e),idOrToken:E(e)||T(e),inative:P(e),campaignId:A(e),distributionChannelId:C(e),renderer:!0,sendUrl:!(!O(e)||!this.crawler.canonicalUrl)&&this.crawler.canonicalUrl,newPlayer:R(e)};i.playlist&&(i.fallback=!("false"===s(e)),n=w([c(e),_,b,l,d,p,m(this.win,30),v,(window.location.href||"").match(/zerohedge.com/)?u:function(){return[]},(window.location.href||"").match(/knowyourmeme.com/)?f:function(){return[]},(window.location.href||"").match(/pcgameshardware.de|pcgames.de|buffed.de/g)?y:function(){return[]},h]));var r=i.context&&i.tags&&!i.tags.length&&!i.fallback;(0,te.sendPerformanceLog)("display_pending",{interactionId:T(e),channelToken:E(e)});var o=i.playlist&&N(ae,document.title);return o&&ee.sendArticeExclude(),n.then(function(n){return r||o?oe.resolve():re.xhr.get(I(i,n)).then(function(t){(0,te.sendPerformanceLog)("display_fulfilled",{interactionId:T(e),channelToken:E(e)});var r=U(t,i.playlist);return r.pageTags=n,ee.sendDisplayReadyEvent(r),r},ee.sendDisplayFailedEvent.bind(t,i.idOrToken,i.playlist))})}},{key:"connectStrip_",value:function(e){var t=k(e);return(0,te.sendPerformanceLog)("display_pending",{channelTokens:t}),oe.resolve({channelToken:t.join(","),isPWA:!0})}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,X.map)(function(t){return e.connect_(t).then(function(n){var i=void 0;return n&&(i=new ne.ResourceManager(t,B({},n,e.params,{consent:e.userConsent_}),"renderer")),i})})(t)}},{key:"renderStrips",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,X.map)(function(t){return e.connectStrip_(t).then(function(e){var n=void 0;return(e&&e.stripItems&&e.stripItems.length||e.isPWA)&&(n=new ne.ResourceManager(t,{isPWA:e.isPWA,interactions:e.stripItems,campaignData:e.campaignData,channelId:e.channelId,channelToken:e.channelToken},"strip")),n})})(t)}},{key:"register",value:function(e,t){this.unitsManagers_.forEach(function(n){return n.registerEvent(e,t)}),this.registeredEvents.push({name:e,callback:t})}}]),e}();t.default=se},function(e,t,n){"use strict";function i(e){var t=a(e),n=t.version,i=t.cmpId,r=t.vendorListVersion,s=t.purposeIdBitString,u=t.maxVendorId,c=t.created,l=t.lastUpdated,d=t.isRange,p=t.defaultConsent,f=t.vendorIdBitString,h=t.vendorRangeList,m=t.cmpVersion,v=t.consentScreen,g=t.consentLanguage,y={version:n,cmpId:i,vendorListVersion:r,allowedPurposeIds:o(s),maxVendorId:u,created:c,lastUpdated:l,cmpVersion:m,consentScreen:v,consentLanguage:g};if(d){var b=h.reduce(function(e,t){for(var n=t.isRange,i=t.startVendorId,r=t.endVendorId,o=n?r:i,a=i;a<=o;a+=1)e[a]=!0;return e},{});y.allowedVendorIds=[];for(var _=1;_<=u;_+=1)(p&&!b[_]||!p&&b[_])&&-1===y.allowedVendorIds.indexOf(_)&&y.allowedVendorIds.push(_)}else y.allowedVendorIds=o(f);return y}var r=n(37),o=r.decodeBitsToIds,a=r.decodeFromBase64;e.exports={decodeConsentString:i}},function(e,t,n){"use strict";function i(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n="",i=1;i<=e;i+=1)n+=-1!==t.indexOf(i)?"1":"0";return d(n,Math.max(0,e-n.length))}function r(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=0,i=0;i<e.length;i+=1)n=Math.max(n,e[i].id);for(var r=0;r<t.length;r+=1)n=Math.max(n,t[r]);for(var o="",a=1;a<=n;a+=1)o+=-1!==t.indexOf(a)?"1":"0";return o}function o(e,t){for(var n=[],i=[],r=e.map(function(e){return e.id}),o=0;o<e.length;o+=1){var a=e[o].id;if(-1!==t.indexOf(a)&&n.push(a),(-1===t.indexOf(a)||o===e.length-1||-1===r.indexOf(a+1))&&n.length){var s=n.shift(),u=n.pop();n=[],i.push({isRange:"number"==typeof u,startVendorId:s,endVendorId:u})}}return i}function a(e){var t=0;return e.forEach(function(e){e.id>t&&(t=e.id)}),t}function s(e){var t=e.maxVendorId,n=e.vendorList,s=void 0===n?{}:n,c=e.allowedPurposeIds,d=e.allowedVendorIds,p=s.vendors,f=void 0===p?[]:p,h=s.purposes,m=void 0===h?[]:h;t||(t=a(f));var v=l(u({},e,{maxVendorId:t,purposeIdBitString:r(m,c),isRange:!1,vendorIdBitString:i(t,d)})),g=o(f,d),y=l(u({},e,{maxVendorId:t,purposeIdBitString:r(m,c),isRange:!0,defaultConsent:!1,numEntries:g.length,vendorRangeList:g}));return v.length<y.length?v:y}var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c=n(37),l=c.encodeToBase64,d=c.padRight;e.exports={convertVendorsToRanges:o,encodeConsentString:s,getMaxVendorId:a,encodeVendorIdsToBits:i,encodePurposeIdsToBits:r}},function(e,t,n){"use strict";function i(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",n="",i=0;i<e;i+=1)n+=t;return n}function r(e,t){return i(Math.max(0,t))+e}function o(e,t){return e+i(Math.max(0,t))}function a(e,t){var n="";return"number"!=typeof e||isNaN(e)||(n=parseInt(e,10).toString(2)),t>=n.length&&(n=r(n,t-n.length)),n.length>t&&(n=n.substring(0,t)),n}function s(e){return a(!0===e?1:0,1)}function u(e,t){return e instanceof Date?a(e.getTime()/100,t):a(e,t)}function c(e,t){return a(e.toUpperCase().charCodeAt(0)-65,t)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return c(e.slice(0,1),t/2)+c(e.slice(1),t/2)}function d(e,t,n){return parseInt(e.substr(t,n),2)}function p(e,t,n){return new Date(100*d(e,t,n))}function f(e,t){return 1===parseInt(e.substr(t,1),2)}function h(e){var t=d(e);return String.fromCharCode(t+65).toLowerCase()}function m(e,t,n){var i=e.substr(t,n);return h(i.slice(0,n/2))+h(i.slice(n/2))}function v(e){var t=e.input,n=e.field,i=n.name,r=n.type,c=n.numBits,d=n.encoder,p=n.validator;if("function"==typeof p&&!p(t))return"";if("function"==typeof d)return d(t);var f="function"==typeof c?c(t):c,h=t[i],m=null===h||void 0===h?"":h;switch(r){case"int":return a(m,f);case"bool":return s(m);case"date":return u(m,f);case"bits":return o(m,f-m.length).substring(0,f);case"list":return m.reduce(function(e,t){return e+g({input:t,fields:n.fields})},"");case"language":return l(m,f);default:throw new Error("ConsentString - Unknown field type "+r+" for encoding")}}function g(e){var t=e.input;return e.fields.reduce(function(e,n){return e+=v({input:t,field:n})},"")}function y(e){var t=e.input,n=e.output,i=e.startPosition,r=e.field,o=r.type,a=r.numBits,s=r.decoder,u=r.validator,c=r.listCount;if("function"==typeof u&&!u(n))return{newPosition:i};if("function"==typeof s)return s(t,n,i);var l="function"==typeof a?a(n):a;switch(o){case"int":return{fieldValue:d(t,i,l)};case"bool":return{fieldValue:f(t,i)};case"date":return{fieldValue:p(t,i,l)};case"bits":return{fieldValue:t.substr(i,l)};case"list":return b(t,n,i,r,c);case"language":return{fieldValue:m(t,i,l)};default:throw new Error("ConsentString - Unknown field type "+o+" for decoding")}}function b(e,t,n,i,r){var o=0;"function"==typeof r?o=r(t):"number"==typeof r&&(o=r);for(var a=n,s=[],u=0;u<o;u+=1){var c=_({input:e,fields:i.fields,startPosition:a});a=c.newPosition,s.push(c.decodedObject)}return{fieldValue:s,newPosition:a}}function _(e){var t=e.input,n=e.fields,i=e.startPosition,r=void 0===i?0:i,o=r;return{decodedObject:n.reduce(function(e,n){var i=n.name,r=n.numBits,a=y({input:t,output:e,startPosition:o,field:n}),s=a.fieldValue,u=a.newPosition;return void 0!==s&&(e[i]=s),void 0!==u?o=u:"number"==typeof r&&(o+=r),e},{}),newPosition:o}}function w(e,t){var n=e.version;if("number"!=typeof n)throw new Error("ConsentString - No version field to encode");if(t[n]){return g({input:e,fields:t[n].fields})}throw new Error("ConsentString - No definition for version "+n)}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,n=w(e,t);if(n){for(var i=o(n,7-(n.length+7)%8),r="",a=0;a<i.length;a+=8)r+=String.fromCharCode(parseInt(i.substr(a,8),2));return A.encode(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}return null}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,n=d(e,0,O);if("number"!=typeof n)throw new Error("ConsentString - Unknown version number in the string to decode");if(!S[n])throw new Error("ConsentString - Unsupported version "+n+" in the string to decode");return _({input:e,fields:t[n].fields}).decodedObject}function k(e,t){for(var n=e;n.length%4!=0;)n+="=";n=n.replace(/-/g,"+").replace(/_/g,"/");for(var i=A.decode(n),o="",a=0;a<i.length;a+=1){var s=i.charCodeAt(a).toString(2);o+=r(s,8-s.length)}return E(o,t)}function T(e){return e.split("").reduce(function(e,t,n){return"1"===t&&-1===e.indexOf(n+1)&&e.push(n+1),e},[])}var A=n(91),C=n(38),O=C.versionNumBits,S=C.vendorVersionMap;e.exports={padRight:o,padLeft:r,encodeField:v,encodeDataToBits:w,encodeIntToBits:a,encodeBoolToBits:s,encodeDateToBits:u,encodeLanguageToBits:l,encodeLetterToBits:c,encodeToBase64:I,decodeBitsToIds:T,decodeBitsToInt:d,decodeBitsToDate:p,decodeBitsToBool:f,decodeBitsToLanguage:m,decodeBitsToLetter:h,decodeFromBase64:k}},function(e,t,n){"use strict";var i={1:{version:1,metadataFields:["version","created","lastUpdated","cmpId","cmpVersion","consentScreen","vendorListVersion"],fields:[{name:"version",type:"int",numBits:6},{name:"created",type:"date",numBits:36},{name:"lastUpdated",type:"date",numBits:36},{name:"cmpId",type:"int",numBits:12},{name:"cmpVersion",type:"int",numBits:12},{name:"consentScreen",type:"int",numBits:6},{name:"consentLanguage",type:"language",numBits:12},{name:"vendorListVersion",type:"int",numBits:12},{name:"purposeIdBitString",type:"bits",numBits:24},{name:"maxVendorId",type:"int",numBits:16},{name:"isRange",type:"bool",numBits:1},{name:"vendorIdBitString",type:"bits",numBits:function(e){return e.maxVendorId},validator:function(e){return!e.isRange}},{name:"defaultConsent",type:"bool",numBits:1,validator:function(e){return e.isRange}},{name:"numEntries",numBits:12,type:"int",validator:function(e){return e.isRange}},{name:"vendorRangeList",type:"list",listCount:function(e){return e.numEntries},validator:function(e){return e.isRange},fields:[{name:"isRange",type:"bool",numBits:1},{name:"startVendorId",type:"int",numBits:16},{name:"endVendorId",type:"int",numBits:16,validator:function(e){return e.isRange}}]}]}};e.exports={versionNumBits:6,vendorVersionMap:i}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(4),r=n(14),o=i.document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){var i=n(19);e.exports=i("native-function-to-string",Function.toString)},function(e,t,n){var i=n(116),r=n(4),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(i[e])||o(r[e]):i[e]&&i[e][t]||r[e]&&r[e][t]}},function(e,t,n){var i=n(10),r=n(11),o=n(41);e.exports=!i&&!r(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(11),r=n(39),o="".split;e.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==r(e)?o.call(e,""):Object(e)}:Object},function(e,t,n){var i=n(10),r=n(114),o=n(40),a=n(29),s=n(52),u=n(12),c=n(44),l=Object.getOwnPropertyDescriptor;t.f=i?l:function(e,t){if(e=a(e),t=s(t,!0),c)try{return l(e,t)}catch(e){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var i=n(12),r=n(29),o=n(96).indexOf,a=n(26);e.exports=function(e,t){var n,s=r(e),u=0,c=[];for(n in s)!i(a,n)&&i(s,n)&&c.push(n);for(;t.length>u;)i(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var i=n(19),r=n(53),o=i("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(50),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){var i=n(14);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},function(e,t,n){var i=n(4),r=n(19),o=n(53),a=n(107),s=i.Symbol,u=r("wks");e.exports=function(e){return u[e]||(u[e]=a&&s[e]||(a?s:o)("Symbol."+e))}},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){m&&f&&(m=!1,f.length?h=f.concat(h):v=-1,h.length&&s())}function s(){if(!m){var e=r(a);m=!0;for(var t=h.length;t;){for(f=h,h=[];++v<t;)f&&f[v].run();v=-1,t=h.length}f=null,m=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,d,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var f,h=[],m=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||m||r(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=h[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(l(i.parts[o],t))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(l(i.parts[o],t));h[i.id]={id:i.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},i=0;i<e.length;i++){var r=e[i],o=r[0],a=r[1],s=r[2],u=r[3],c={css:a,media:s,sourceMap:u};n[o]?n[o].parts.push(c):t.push(n[o]={id:o,parts:[c]})}return t}function o(e,t){var n=v(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=b[b.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",c(t,e.attrs),o(e,t),t}function u(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",c(t,e.attrs),o(e,t),t}function c(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function l(e,t){var n,i,r;if(t.singleton){var o=y++;n=g||(g=s(t)),i=d.bind(null,n,o,!1),r=d.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),i=f.bind(null,n,t),r=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),i=p.bind(null,n),r=function(){a(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}function d(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function p(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t,n){var i=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=_(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var h={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),v=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),g=null,y=0,b=[],_=n(126);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},void 0===t.singleton&&(t.singleton=m()),void 0===t.insertInto&&(t.insertInto="head"),void 0===t.insertAt&&(t.insertAt="bottom");var n=r(e);return i(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var s=n[a],u=h[s.id];u.refs--,o.push(u)}if(e){i(r(e),t)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete h[u.id]}}}};var w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";n(120);var i=n(34),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(16),a=n(0);if(n(89),n(125).polyfill(),n(121),(0,a.isTimeDomain)(window.document.domain)&&n(90),!window.APESTER){(0,o.sendPerformanceLog)("sdk_loaded"),window.APESTER=window.APESTER||new r.default(window),(0,o.sendPerformanceLog)("sdk_init");(window.apesterLoadCallback||window.APESTER.Init.bind(window.APESTER))(),function(e){if(!window.apesterLateLoad&&"complete"===document.readyState)return void e();window.addEventListener("load",function(){e()},!1)}(function(){window.APESTER.loaded()}),window.apesterLateLoad||function(e){if("loading"!==document.readyState)return void e();window.addEventListener("DOMContentLoaded",function(){e()},!1)}(function(){window.APESTER.load(),window.APESTER.process()})}},function(e,t,n){"use strict";function i(e,t){var n=e.cssSelectors?(0,o.findInjectionPoint)(e.cssSelectors[t]):(0,o.findPlaylistInjectionLocation)();if(n){var i=document.createElement("apester-media");return i.setAttribute("data-media-id",e.unitId),i.setAttribute("data-embed-mode","auto"),e.style&&i.setAttribute("style",e.style),e.channelId&&i.setAttribute("data-channel-id",e.channelId._id),n.parentNode.insertBefore(i,n.nextSibling),i}return!1}function r(e){return new c(function(t,n){e||n(new Error("No URL was given"));var r=a.isMobile?"mobile":"desktop";l(e).then(function(e){if(e){var n=JSON.parse(e);if(n.payload&&n.payload.interactionId){var o=n.payload,a=o.injection;if(((0,s.objectSafeAccess)(["cssSelectors",r],a)||void 0===a.cssSelectors)&&"active"===a.status)var c=0,l=setInterval(function(){var e=i(a,r);c+=1,(e||c>=6)&&(o.injection.injectionElement=e,o.embedType="injection",(0,u.sendDisplayReadyEvent)(o),clearInterval(l),t({element:e,model:o}))},1e3)}}else t()}).catch(function(e){n(new Error("Error contacting the injected units: ",e))})})}Object.defineProperty(t,"__esModule",{value:!0}),t.injectInteraction=i,t.getAutoPlacement=r;var o=n(7),a=n(0),s=(n(17),n(9)),u=n(1),c="undefined"==typeof Promise?n(2).Promise:Promise,l=function(e){encodeURI(e);return c.resolve()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CONSENT_COOKIENAMES={euconsent:"euconsent",EuConsent:"EuConsent",euConsent:"euroconsent"},t.CONSENT_REQUEST_TYPES={DIRECT:"DIRECT",VENDORS:"VENDORS",RAW:"RAW"},t.CONSENT_PARAMS={APESTER_CONSENT_VENDOR_ID:354,PERSONALIZATION_CONSENT_ID:2,CONSENT_RETRIVING_TIMEOUT:400,MAX_CMP_RETRIES:8}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){n?t.appendChild(e):t.parentNode.insertBefore(e,t.nextSibling)}function o(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.createElement("div");return e?t.classList.add("sliding-container"):t.classList.add("apester-companion-container"),t}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=void 0;if(e.publisher&&e.publisher.companion&&(t=t||e.publisher.companion,t=p.isMobile?t.mobile:t.desktop),e.companion&&(t=t||e.companion,t=p.isMobile?t.mobile:t.desktop),e.campaignData&&(t=e.campaignData.companionOptions)&&(t.campaignId=e.campaignData.companionCampaignOptions&&e.campaignData.companionCampaignOptions.companionCampaignId),!t||!t.attributes)return t}function s(e,t,n,i,r){var o=window.APESTER.unitsManagers_&&window.APESTER.unitsManagers_.find(function(e){return"strip"===e.type}),a=function(){return setTimeout(function(){e.load(!0),(0,h.default)(t,n,i,r)},0)};if(o&&o.isInViewport_)a();else{var s=function e(){window.removeEventListener("mediaInView",e),a()};window.addEventListener("mediaInView",s)}}function u(e,t){var n="desktop"===(0,p.getPlatform)(),i=e.stripAdPosition,r=e.enabledOnStrip;return n&&t&&r&&"slider"===i}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=void 0;if(e){var c=a(t);if(c&&c.enabled){var l=c.enabledOnStrip;if(!n||l){var p=u(c,n),f=o(p),h=e.ownerDocument.defaultView;i=d.default.getImplementation(h,c,t,n),i.init().then(function(n){f.appendChild(n),p?s(i,e,f,h,t):i.load(!0)}),r(f,e,p)}}}return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var l=n(70),d=i(l),p=n(0),f=n(71),h=i(f)},function(e,t,n){"use strict";function i(e){var t=document.createElement("div");return t.id=l+Math.random(),t.classList.add("apester-companion-video"),(0,o.isTimeDomain)(window.document.domain)&&t.classList.add("apester-element"),o.isMobile&&(t.style.width="100%"),e.parentNode.insertBefore(t,e),t}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(0),a=n(1),s=n(6),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=o.isMobile?"apester-floating-video-mobile":"apester-floating-video",l="apester-companion-video",d=o.isMobile?.6:9/16,p=void 0,f=function(e,t){return(0,u.default)(t).then(function(t){var n=t.gdprString,i=t.gdpr,r=t.gdpr_consent,o="&c1="+e;return void 0!==r&&(o+="&c4="+r),void 0!==i&&(o+="&gdpr="+i),void 0!==n&&(o+="&gdpr_consent="+n),o})},h=function(e){var t=document.createElement("div");return t.id=c,e.parentNode.insertBefore(t,e.nextSibling),t},m=function(e,t){return function(){var n=e.interactionId,i=e.publisherId,r=(0,o.getFloatingAdSize)(d);window.CEDATO&&f(n,i).then(function(e){window.CEDATO.Corner({player:{playerId:t,protocol:window.location.protocol,domain:window.location.hostname,servingDomain:"algovid.com",subId:i,extraParams:e},position:{container:c,ratio:d,width:r.width,height:r.height},control:{closeButton:!0,closeOnAdEnd:!0,closeOnContentEnd:!0,soundOnHover:!0,pauseOnHiddenTab:!0}}),document.removeEventListener("cedatoAdUnitReady",p)})}},v=function(e,t,n,i,r){return function(){var a=e.interactionId,s=e.publisherId,u=e.layout&&e.layout.directive,c=(0,o.getCompanionVideoAdSize)(i,u,d);window.CEDATO&&f(a,s).then(function(e){window.CEDATO.InContent({player:{playerId:t,protocol:window.location.protocol,domain:window.location.hostname,servingDomain:"algovid.com",subId:s,extraParams:e},position:{container:r.id,width:c.width,ratio:d},control:{closeButton:!1,closeOnAdEnd:!0,closeOnContentEnd:!1,soundOnHover:!1,playOnVisibility:!(!n.shouldForceViewability&&void 0!==n.shouldForceViewability)&&50,pauseOnVisibility:!(!n.shouldPauseWhenOutOfView&&void 0!==n.shouldPauseWhenOutOfView)&&25,pauseOnHiddenTab:!0}}),document.removeEventListener("cedatoAdUnitReady",p)})}},g=function(e,t,n,i,r,o){var s=e.interactionId,u=e.publisherId,c=i.companionCampaignId;p=("floating"===n?m:v)(e,t,i,r,o),(0,a.companionImpressionPending)("cedato","co",u,c,s,r)};t.default=function(e,t){if(t.campaignData&&t.campaignData.companionOptions&&t.campaignData.companionOptions.settings){var n=t.campaignData.companionOptions.video||{},o=n.videoTag,a=n.floating,s=n.companion,u=n.enabled,c=a||{},l=c.enabled,d=s||{},f=d.enabled,m=f?"companion":"floating";if(u&&(l||f)){var v=void 0;v="floating"===m?h(e):i(e),g(t,o,m,s,e,v),document.addEventListener("cedatoAdUnitReady",p),(0,r.loadScript)(window,"https://c.algovid.com/player/ad-units.2.1.js")}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=document.createElement("div"),r=document.createElement("div");r.id=h+Math.random(),r.classList.add("apester-companion-video"),i.appendChild(r),(0,a.isTimeDomain)(window.document.domain)&&i.classList.add("apester-element");var o=t.layout,s=o&&o.directive,u=(0,a.getCompanionVideoAdSize)(e,s,m);i.style.width=u.width+"px",i.style.margin="0 auto";var c=e;return n&&(e.style.margin="5px auto 0 auto",i.style.margin="0 auto 10px auto",c=e.nextSibling),e.parentNode.insertBefore(i,c),r}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(0),s=n(1),u=n(8),c=i(u),l=n(6),d=i(l),p=n(5),f=i(p),h="apester-companion-video",m=a.isMobile?.6:9/16,v=function(e,t,n,i,r){var o=t.interactionId,u=t.layout,l=t.publisherId||t.channelId,p=i.companionCampaignId,h=u&&u.directive,v=(0,a.getCompanionVideoAdSize)(e,h,m);return(0,d.default)(l).then(function(t){var n=t.gdprString,i=t.gdpr,u=function(){},d=(0,a.getMobileParams)();window.hiro={subExternalID:l,extDynamicParam1:o,container:r.id,width:v.width,height:v.height,adOptions:{hideControlBar:!0},hideControlBar:!0,expandOnAdReady:!0,events:{adbreakstart:{callback:function(t){(0,s.companionImpressionPending)("hiro",c.default.START,l,p,o,e)}},adimpression:{callback:function(t){var n=atob(t.data.data.cpm);(0,s.companionImpression)("hiro",c.default.START,l,p,n,o,t.data.data.campaignId,e);var i=r.firstElementChild||r;u(),u=(0,f.default)(i,{interactionId:o,publisherId:l,companionCampaignId:p,monType:"hiro",monProvider:"co"})}}},macros:{APE_PUBLISHER_ID:l,APE_INTERACTION_ID:o,APE_CAMPAIGN_ID:p,APE_THIRD_PARTY:"hr",APE_REFERRER:document.location.href,APE_SESSION_ID:(0,a.getSessionId)(),APPSTORE_URL:d.appStoreUrl,BUNDLE_ID:d.bundleId,APP_NAME:d.appName,DEV_DNT:d.trackingEnabled?0:1,IDFA:d.advertisingId}},void 0!==i&&(window.hiro.macros.GDPR_SIGNAL=i),void 0!==n&&(window.hiro.macros.GDPR_CONSENT_STR=n)})};t.default=function(e,t){if(t.campaignData&&t.campaignData.companionOptions&&t.campaignData.companionOptions.settings){var n=t.campaignData.companionCampaignOptions,i=t.campaignData.companionOptions.video||{},a=i.videoTag,u=i.floating,c=i.companion,l=i.companion_below,d=i.enabled,p=u||{},f=p.enabled,h=c||{},m=h.enabled,g=l||{},y=g.enabled;if(d&&(f||m||y)){if("floating"===(m||y?"companion":"floating"))return;var b=r(e,t,y);v(e,t,0,n,b).then(function(){(0,o.loadScript)(window,"https://c.ivdoplayer.com/main/cscripts-iv/jsunitplay.js?co=apester&externalID="+a).catch(function(e){var n=t.interactionId,i=t.publisherId,r=c.campaignId;(0,s.companionLoadingFailed)("co","hiro",i,r,n)})})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(0);t.default=function(e,t){var n=e.publisherId,i=e.publisher,a=e.campaignData.companionCampaignOptions.companionCampaignId,s=t.width,u=t.height;return(0,r.default)(n).then(function(e){var t=e.gdpr,r=e.gdpr_consent,c=e.gdprString,l={cid:n,vid:a,sid:(0,o.getSessionId)(),url:(0,o.getPageUrl)(),w:s,h:u,gdpr:t,gdpr_consent:r,gdpr_string:c};return i&&i.groupId&&(l.pchain="apester.com:"+i.groupId,l.schain="1.0,1!apester.com,"+i.groupId+",1,,,"),l})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(0);t.default=function(e,t,n){var i=e.interactionId,a=e.publisherId,s=e.publisher;return(0,r.default)(a).then(function(e){var r=e.gdprString,u=e.gdpr,c=e.gdprConsent,l={param1:i,param2:a,param3:(0,o.getSessionId)(),param5:(0,o.getPageUrl)(),campaign:t};return r&&(l.userConsentStr=r),void 0!==u&&(l.userGDPR=u),void 0!==c&&(l.userConsent=c),n&&(l.width=n.width,l.height=n.height),s&&s.groupId&&(l.param3="apester.com:"+s.groupId,l.schain={ver:"1.0",complete:1,nodes:[{asi:"apester.com",sid:""+s.groupId,hp:1}]}),l})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(0),o=n(1),a=n(64),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=r.isMobile?.6:9/16,c=function(e,t,n,i,o){var a=document.createElement("div");a.id=t,a.style.width=i.width+"px",a.style.margin="-5px auto",a.setAttribute("data-pbs-config",JSON.stringify({tracking:{macros:n}})),a.classList.add("apester-companion-video"),(0,r.isTimeDomain)(window.document.domain)&&a.classList.add("apester-element");var s=o?e.nextSibling:e;e.parentNode.insertBefore(a,s)};t.default=function(e,t){if(t.campaignData&&t.campaignData.companionOptions&&t.campaignData.companionOptions.settings){var n=t.campaignData.companionOptions.video||{},a=n.companion,l=n.companion_below,d=n.videoTag;if(n.enabled){var p=t.layout,f=p&&p.directive,h=(0,r.getCompanionVideoAdSize)(e,f,u);(0,s.default)(t,h).then(function(n){c(e,d,n,h,(l||{}).enabled);var r=t.interactionId,s=t.publisherId,u=a.campaignId;(0,o.companionImpressionPending)("co","playbuzz",s,u,r,e),(0,i.loadScript)(window,"https://stream.playbuzz.com/embed/sdk.js?embedId="+d).catch(function(e){(0,o.companionLoadingFailed)("co","playbuzz",s,u,r)})})}}}},function(e,t,n){"use strict";function i(e,t,n){var i=document.createElement("div");i.id=f+Math.random(),(0,c.isTimeDomain)(window.document.domain)&&i.classList.add("apester-element");var r=t.layout,o=r&&r.directive,a=n?(0,c.getFloatingAdSize)(g):(0,c.getCompanionVideoAdSize)(e,o,g);return i.style.height=a.height+"px",i.style.width=a.width+"px",e.parentNode.insertBefore(i,e),i}function r(e,t){var n=i(e,t,!1);return n&&(n.style.margin="0 auto -5px"),n}function o(e,t){var n=i(e,t,!0);return n&&(n.style.position="fixed",n.style.right=0,n.style.bottom=0,n.style.zIndex=100),n}function a(e,t,n,i,r,o){return function(){(0,l.companionImpression)(m,p.default.START,i,n,t,e,"",o),(0,l.companionTpeAdStart)(v,e,t,n,i)}}function s(e,t,n,i,r){var o=e.split(".")[1],s=window.APESTER.userConsent_,u=t.interactionId,l=t.layout,d=t.embedType,p=t.publisherId||t.channelId,f=l&&l.directive,m=c.isMobile?"mobile":"desktop",v=(0,c.getSessionId)(),g=n.companionCampaignId;window.Rumble("play",{video:o,div:i.id,gdpr:s?1:0,autoplay:2,resize:"full",next_timer:0,api:function(e){e.on(h,a(u,0,g,p,t,r))},refadd:"channelId="+p+"&engine="+f+"&platform="+m+"&distribution="+d+"&sessionId="+v})}Object.defineProperty(t,"__esModule",{value:!0});var u=n(3),c=n(0),l=n(1),d=n(8),p=function(e){return e&&e.__esModule?e:{default:e}}(d),f="rumble-player",h="adImpression",m="rumble",v="rm",g=c.isMobile?.6:9/16;t.default=function(e,t){if(t.campaignData&&t.campaignData.companionOptions&&t.campaignData.companionOptions.settings){var n=t.campaignData.companionCampaignOptions,i=t.campaignData.companionOptions.video||{},a=i.videoTag,c=i.floating,d=i.companion,p=i.enabled,f=c||{},h=f.enabled,v=d||{},g=v.enabled;if(p&&(h||g)){var y=void 0;y=g?r(e,t):o(e,t),(0,u.loadScript)(window,"https://rumble.com/embedJS/"+a).then(function(){s(a,t,n,y,e)}).catch(function(e){var n=t.interactionId,i=t.publisherId,r=d.campaignId;(0,l.companionLoadingFailed)("co",m,i,r,n)})}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(3),a=n(0),s=n(1),u=n(8),c=i(u),l=n(5),d=i(l),p=n(30),f=i(p),h=n(24),m=a.isMobile?"apester-floating-video-mobile":"apester-floating-video",v=a.isMobile?.6:9/16,g=function(e){var t=document.createElement("div");return t.id=m,e.parentNode.insertBefore(t,e.nextSibling),t},y=function(e,t){return t?e?[10,5]:[5,10]:[5,5]},b=function(e,t,n,i){var o=document.createElement("div");o.id="apester-companion-video"+Math.random(),o.classList.add("apester-companion-video"),(0,a.isTimeDomain)(window.document.domain)&&o.classList.add("apester-element");var s=y(n,t.stripItems),u=r(s,2),c=u[0],l=u[1];o.style.margin=c+"px auto "+l+"px",o.style.width=i.width+"px",o.style.height="0px",o.style.overflow="hidden";var d=n?e.nextSibling:e;return e.parentNode.insertBefore(o,d),o},_=function(e,t,n,i,o,a){var u=e.interactionId,l=e.publisherId,p=n.companionCampaignId;return(0,f.default)(e,p,i).then(function(n){window.srAsyncInit=function(){var f=window.SR(o.id,{playerId:t,apiKey:"5857d2ee263dc90002000001",version:"1.0",macros:n});(0,s.companionImpressionPending)("sr",c.default.START,l,p,u,a),f.then(function(t){var n=function(){};t.on("AdImpression",function(){i&&(o.style.width=i.width+"px",o.style.height=i.height+"px",t.resize());var f=y(!0,e.stripItems),m=r(f,2),v=m[0],g=m[1];(0,h.syncAdBelowOpen)(i.width||300,(i.height||250)+v+g);var b=c.default.START;(0,s.companionImpression)("sr",b,l,p,"",u,"",a);var _=o.firstElementChild||o;n(),n=(0,d.default)(_,{interactionId:u,publisherId:l,companionCampaignId:p,monType:"sr",monProvider:"co"})}),t.on("playerDone",function(){(0,h.syncAdBelowClosed)(),o.remove()})})}})};t.default=function(e,t){if(t.campaignData&&t.campaignData.companionOptions&&t.campaignData.companionOptions.settings){var n=t.campaignData.companionOptions.video||{},i=n.videoTag,r=n.floating,s=n.companion,u=n.companion_below,c=n.enabled,l=r||{},d=l.enabled,p=s||{},f=p.enabled,h=u||{},m=h.enabled,y=t.campaignData.companionCampaignOptions;if(c&&(d||f||m)){var w=t.layout,I=w&&w.directive,E=d?void 0:(0,a.getCompanionVideoAdSize)(e,I,v),k=d?g(e):b(e,t,m,E);_(t,i,y,E,k,e).then(function(){return(0,o.loadScript)(window,"https://sdk.streamrail.com/blade/sr.bladex.js")})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),r=n(3),o=n(0),a=n(1),s=n(65),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=o.isMobile?.6:9/16,l=function(e,t,n){var i=t.id,r={auto:!1,query:n,userId:"5d95ee7cd69dd000048f2e7b",el:"#"+i,playerId:""+e,macros:n,player:{skin:"https://static.vidazoo.com/basev/skins/milkshake_default/milkshake_default.js",skinParams:{hideAdSkin:!1,hideContentSkin:!1,hideOnIma:!1,hideOnVpaid:!1,hideOnVast:!1,animateClose:!0,rounded:!0,progress:!0,sound:!0,playback:!0,close:!1,adLabel:{label:"Ad",style:{top:"15px",left:"15px",color:"#ffffff",fontSize:"12px",textShadow:"0 0 3px rgba(0, 0, 0, .7)",opacity:.8}}}}};return function(){vdz.create(r,function(e,n){if(e)throw e;n.on("adStart",function(e){t.style.display="block"}),n.on("adFinish",function(e){t.style.display="none"}),n.init()})}},d=function(e,t,n,r,a){var s=document.createElement("div");s.id="vdz-"+(0,i.s4)(),s.style.display="none",s.style.width=r.width+"px",s.style.height=r.height+"px",s.style.margin="-5px auto",s.classList.add("apester-companion-video"),(0,o.isTimeDomain)(window.document.domain)&&s.classList.add("apester-element");var u=a?e.nextSibling:e;return e.parentNode.insertBefore(s,u),s};t.default=function(e,t){if(t.campaignData&&t.campaignData.companionOptions&&t.campaignData.companionOptions.settings){var n=t.campaignData.companionOptions.video||{},i=n.videoTag,s=n.companion_below;if(n.enabled){var p=t.campaignData.companionCampaignOptions.companionCampaignId,f=t.layout,h=t.interactionId,m=t.publisherId,v=f&&f.directive,g=(0,o.getCompanionVideoAdSize)(e,v,c);(0,u.default)(t,p,g).then(function(t){var n=s||{},o=n.enabled,u=d(e,0,0,g,o);(0,a.companionImpressionPending)("co","vidazoo",m,p,h),(0,r.loadScript)(window,"https://static.vidazoo.com/basev/vpt.js").then(l(i,u,t)).catch(function(e){(0,a.companionLoadingFailed)("co","vidazoo",m,p,h)})})}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(72),o=i(r),a=n(73),s=i(a);t.default={getImplementation:function(e,t,n,i){switch(t.settings.bannerAdProvider){case"rtk":return new s.default(e,t,n,i);case"gdt":case"gpt":default:return new o.default(e,t,n,i)}}}},function(e,t,n){"use strict";function i(e,t,n){t.classList.remove(d),t.classList.add(l),setTimeout(function(){if(t.parentNode==e){e.removeChild(t);var i=n.campaignData.companionOptions||{},r=i.settings&&i.settings.bannerAdProvider;(0,s.slidingAdSkipped)(n.channelId,i.campaignId,r)}},c)}function r(e,t,n){setTimeout(function(){i(e,t,n)},u),t.classList.add(d)}function o(e,t,n,i,o){return function a(s){"rtk"===i?(s.type===p&&r(e,t,o),f.forEach(function(e){return n.removeEventListener(e,a)})):s.isEmpty||r(e,t,o)}}function a(e,t,n,r){var a=document.createElement("div");a.classList.add("close-btn"),a.onclick=function(){i(e,t,r)},t.appendChild(a);var s=r.campaignData.companionOptions||{},u=s.settings&&s.settings.bannerAdProvider,c=o(e,t,n,u,r);"rtk"===u?f.forEach(function(e){return n.addEventListener(e,c)}):n.googletag.pubads().addEventListener(h,c)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=n(1),u=15e3,c=1e3,l="sliding-out",d="sliding-in",p="JITA_AdServed",f=[p,"JITA_NoAdServed"],h="slotRenderEnded"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments[3],r=arguments[4],o=window.googletag.defineSlot(i,r,e);return o.addService(window.googletag.pubads()).setTargeting("channel_id",[n]).setCollapseEmptyDiv(t.collapseEmpty),o}function s(e){var t=document.createElement("div");return t.id=e,t.classList.add("apester-companion"),t}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(3),d=n(15),p=n(1),f=n(8),h=i(f),m=n(31),v=n(24),g=n(0),y=n(5),b=i(y),_="undefined"==typeof Promise?n(2).Promise:Promise,w=h.default.START,I=function(e,t){return e?[10,0]:t?[10,10]:[20,20]},E=function e(t,n,i){if(i<=0)return n("Googletag wasnt ready");if(window.googletag&&window.googletag.apiReady)return t();var r=i-1;return setTimeout(function(){return e(t,n,r)},100)},k=function(e,t){return e&&t.enabledOnStrip&&t.stripAUC},T=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3];o(this,e),this.win=t,this.adSlot=void 0,this.model=i,this.channelId=i.publisher?i.publisher.publisherId:i.channelId||"",this.campaignId=n.campaignId,this.companionModel=n,this.interactionId=i.interactionId,this.id="apester-companion-"+(0,d.s4)(),this.disposeViewabilityTracker=function(){},this.displayWrapper=void 0,this.slotTag=k(r,n)?n.stripAUC:n.settings.slot;var a=this.companionModel.settings;this.bannerSizes=a&&k(r,n)?a.bannerSizesStrip:a.bannerSizes,this.displayElement=void 0,this.apesterCompanionElement=void 0,this.apesterElement=void 0}return c(e,[{key:"init",value:function(){var e=this;this.displayWrapper=s(this.id);var t=this.companionModel.settings,n=Math.max.apply(Math,r(this.bannerSizes.map(function(e){return e[1]})));this.displayWrapper.style.maxHeight=n+"px";var i=I(g.isApesterInapp,g.isMobile),o=u(i,2),c=o[0],d=o[1];this.displayWrapper.style.margin=c+"px auto "+d+"px";var p=function(){return _.resolve()};return(this.win.googletag?p:l.loadScript)(this.win,"https://www.googletagservices.com/tag/js/gpt.js").then(function(){return e.win.googletag=e.win.googletag||{},e.win.googletag.cmd=e.win.googletag.cmd||[],new _(function(e,n){t.slot||n("No slot defined"),E(e,n,20)})}).then(function(){return e.win.googletag.cmd.push(function(){e.adSlot=a(e.id,t.options,e.channelId,e.slotTag,e.bannerSizes)}),e.displayWrapper}).catch(function(e){})}},{key:"load",value:function(){var e=this;this.win.googletag.cmd.push(function(){e.displayElement=e.displayWrapper&&e.displayWrapper.firstElementChild||e.displayWrapper,e.apesterCompanionElement=e.displayElement.closest(".apester-companion-container"),e.apesterElement=e.apesterCompanionElement?e.apesterCompanionElement.previousElementSibling:e.displayElement.closest(".apester-strip"),e.win.googletag.pubads().addEventListener("slotRenderEnded",function(t){if(t.slot===e.adSlot)if(t.isEmpty)(0,p.companionLoadingFailed)("gpt",w,e.channelId,e.campaignId,e.interactionId);else{var n=u(t.size,2),i=n[0],r=n[1],o=I(g.isApesterInapp,g.isMobile),a=u(o,2),s=a[0];a[1];(0,v.syncAdBelowOpen)(i,r+s),(0,p.companionImpression)("gpt",w,e.channelId,e.campaignId,0,e.interactionId,t.advertiserId,e.apesterElement),e.disposeViewabilityTracker(),e.disposeViewabilityTracker=(0,b.default)(e.displayElement,{interactionId:e.interactionId,publisherId:e.channelId,companionCampaignId:e.campaignId,monType:"gpt",monProvider:"co"})}}),e.win.googletag.enableServices(),e.refreshCallback=e.getRefreshCallback(),e.refreshSlot(!0),(0,m.setRefreshListeners)("refresh_companion_ad",e.refreshCallback)}),this.win.googletag.display(this.id)}},{key:"refreshSlot",value:function(e){w=e?h.default.START:h.default.REFRESH,(0,p.companionImpressionPending)("gpt",w,this.channelId,this.campaignId,this.interactionId,this.apesterElement),this.win.googletag.pubads().refresh([this.adSlot])}},{key:"refreshAll",value:function(){(0,p.companionImpressionPending)("gpt",h.default.REFRESH,this.channelId,this.campaignId,this.interactionId,this.apesterElement),this.win.googletag.pubads().refresh()}},{key:"getRefreshCallback",value:function(){var e=this.companionModel.settings,t=void 0;if(e){var n=e.options,i=n.refreshOnClick,r=n.lockTime;"all"===i?t=this.refreshAll.bind(this):"apester"===i&&(t=this.refreshSlot.bind(this)),r&&(t=(0,m.lockedCallbackFactory)(t,r).bind(this))}return t}}]),e}();t.default=T},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n){var i=document.createElement("div");return i.id=e,i.classList.add("apester-companion"),i.style.maxWidth=t+"px",i.style.maxHeight=n+"px",i.style.height="1px",i.style.margin="0",i}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(3),l=n(15),d=n(1),p=n(8),f=i(p),h=n(0),m=n(31),v=n(5),g=i(v),y=n(24),b="undefined"==typeof Promise?n(2).Promise:Promise,_=["JITA_AdServed","JITA_NoAdServed"],w=300,I=728,E=function(e,t){return e?[10,0]:t?[10,10]:[20,20]},k=void 0,T=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3];o(this,e),this.win=t,this.model=i,this.companionModel=n,this.channelId=i.publisherId||i.channelId,this.interactionId=i.interactionId,this.campaignId=n.campaignId,this.elementId="apester-companion-"+(0,l.s4)(),this.auctionCode=n.settings.auctionCode,this.scriptSrc="https://481.hostedprebid.com/"+this.auctionCode+"/jita.js?dfp="+(n.settings.dfp?1:0),this.adUnitCode=r&&n.enabledOnStrip&&n.stripAUC?n.stripAUC:n.settings.adUnitCode,this.refreshCallback=this.getRefreshCallback(),this.maxWidth=I,this.maxHeight=w+15,this.hostname=this.win.location.hostname,this.disposeViewabilityTracker=function(){},this.displayWrapper=void 0,this.displayElement=void 0,this.apesterCompanionElement=void 0,this.apesterElement=void 0}return u(e,[{key:"getRelevantAdUnitCodes",value:function(){var e=this,t=[this.companionModel.settings.adUnitCode];return this.companionModel.stripAUC&&t.push(this.companionModel.stripAUC),this.model.campaignData.playerOptions&&this.model.campaignData.playerOptions.length?(this.model.campaignData.playerOptions.forEach(function(n){var i=n.player.provider;"rtk"===i.type&&i.options.auctionCode===e.auctionCode&&(t.push(i.options.adUnitCode),i.options.adUnitCode_interstitial&&t.push(i.options.adUnitCode_interstitial))}),t):t}},{key:"init",value:function(){var e=this,t=this.getRelevantAdUnitCodes();return window.rtkLazyAdUnitCodes=t.map(function(e){return"RTK_"+e}),window.jitaJS?new b(function(t,n){e.displayWrapper=a(e.elementId,e.maxWidth,e.maxHeight),t(e.displayWrapper)}):(0,c.loadScript)(this.win,this.scriptSrc).then(function(){return new b(function(t,n){try{e.onJitaRdy=e.waitForJitaReadyFactory(t,n),window.top.addEventListener("JITA_Ready",e.onJitaRdy)}catch(e){n()}}).then(function(){return e.displayWrapper=a(e.elementId,e.maxWidth,e.maxHeight),e.displayWrapper})})}},{key:"waitForJitaReadyFactory",value:function(e,t){var n=this;return function(){try{var i={ron_site:n.hostname,sub_id:n.channelId};JITA.setCustomParameters(i),window.top.removeEventListener("JITA_Ready",n.onJitaRdy),e()}catch(e){t()}}}},{key:"adServingCallback",value:function(){var e=this;return function(t){if("JITA_AdServed"===t.type&&t.detail&&t.detail.divId===e.elementId&&t.detail.cpm&&t.detail.adUnitCode==="RTK_"+e.adUnitCode){var n=E(h.isApesterInapp,h.isMobile),i=s(n,2),r=i[0],o=i[1];e.displayWrapper.style.margin=r+"px auto "+o+"px",e.displayWrapper.style.height="auto",(0,d.companionImpression)("rtk",k,e.channelId,e.campaignId,t.detail.cpm,e.interactionId,t.detail.bidder,e.apesterElement),setTimeout(function(){var t=e.displayWrapper.firstElementChild.getBoundingClientRect();(0,y.syncAdBelowOpen)(t.width,t.height+r)},300);e.displayWrapper&&e.displayWrapper.firstElementChild||e.displayWrapper;e.disposeViewabilityTracker(),e.disposeViewabilityTracker=(0,g.default)(e.displayElement,{interactionId:e.interactionId,publisherId:e.channelId,companionCampaignId:e.campaignId,monType:"rtk",monProvider:"co"})}else t.detail&&t.detail.divId===e.elementId&&(e.displayWrapper.parentNode.remove(),(0,d.companionLoadingFailed)("rtk",k,e.channelId,e.campaignId,e.interactionId))}}},{key:"load",value:function(e){try{if(window.jitaJS){if(this.displayElement=this.displayWrapper&&this.displayWrapper.firstElementChild||this.displayWrapper,this.apesterCompanionElement=this.displayElement.closest(".apester-companion-container"),this.apesterElement=this.apesterCompanionElement?this.apesterCompanionElement.previousElementSibling:this.displayElement.closest(".apester-strip"),e){(0,m.setRefreshListeners)("refresh_companion_ad",this.refreshCallback);var t=this.adServingCallback(e);_.forEach(function(e){return window.top.addEventListener(e,t,!1)})}k=e?f.default.START:f.default.REFRESH,(0,d.companionImpressionPending)("rtk",k,this.channelId,this.campaignId,this.interactionId,this.apesterElement),window.jitaJS.rtk.refreshAdUnits(["RTK_"+this.adUnitCode],!0,r({},"RTK_"+this.adUnitCode,this.elementId))}}catch(e){}}},{key:"getRefreshCallback",value:function(){var e=this.companionModel.settings.options.lockTime;return(0,m.lockedCallbackFactory)(this.load.bind(this),e)}}]),e}();t.default=T},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(1),a=n(5),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=n(0),c="undefined"==typeof Promise?n(2).Promise:Promise,l=["JITA_AdServed","JITA_NoAdServed"],d=function(){},p=function(e){if(e.campaignData&&e.campaignData.playerOptions){return(e.campaignData.playerOptions.find(function(e){return e.shouldExtractFromUnit&&"da"===e.player.type})||{}).player}},f=function(e,t){var n=document.createElement("div");n.style.width="1px",n.style.height="1px",n.style.zIndex="2147483646",n.style.background="#000000A0",n.style.display="flex",n.style.justifyContent="center",n.style.alignItems="center",n.style.overflow="hidden",n.style.position="absolute";var i=document.createElement("div");i.id="extracted-display-player-"+t,n.appendChild(i);var r=document.createElement("div");return r.style.width="25px",r.style.height="25px",r.style.color="white",r.style.position="absolute",r.style.top="10px",r.style.right="10px",r.style.textAlign="center",r.style.borderRadius="50%",r.style.background="black",r.style.lineHeight="26px",r.style.fontFamily="sans-serif",r.style.fontWeight="bold",r.style.cursor="pointer",r.innerHTML="X",r.onclick=function(){d(),n.remove()},n.appendChild(r),e.prepend(n),n},h=function e(t,n){JITA.setCustomParameters({ron_site:window.location.hostname,sub_id:t}),window.removeEventListener("JITA_Ready",e),n()},m=function(e,t,n,i){var r=n.interactionId,a=n.publisherId,u=n.campaignData.videoCampaignOptions.videoCampaignId;return function n(c){if("JITA_AdServed"===c.type&&c.detail&&c.detail.cpm){var p=e.width,f=e.height;t.style.width=p+"px",t.style.height=f+"px",(0,o.externalDisplayImpression)("da","rtk",u,a,r,"IDLE",c.detail,i),(0,o.externalDisplayPlaying)("da","rtk",u,a,r,"IDLE",c.detail,i);var h=t.firstElementChild||t;d=(0,s.default)(h,{interactionId:r,publisherId:a,campaignId:u,monType:"rtk",monProvider:"da"})}l.forEach(function(e){return window.removeEventListener(e,n)})}},v=function(e,t){return new c(function(n){window.jitaJS?n():(window.addEventListener("JITA_Ready",function(){h(t,n)}),(0,r.loadScript)(window,"https://481.hostedprebid.com/"+e.provider.options.auctionCode+"/jita.js?dfp="+(e.provider.options.dfp?1:0)))})},g=function(e,t){var n=[];window.rtkLazyAdUnitCodes=[e.provider.adUnitCode],e.provider.options.adUnitCode_interstitial&&n.push(e.provider.options.adUnitCode_interstitial);var i=t.campaignData.companionOptions;i&&"rtk"===i.settings.bannerAdProvider&&n.push(i.settings.adUnitCode),i&&i.stripAUC&&n.push(i.stripAUC),window.rtkLazyAdUnitCodes=n.map(function(e){return"RTK_"+e})},y=function(e,t){var n=e.width,i=e.height;return n>=320&&i>=480?t.provider.options.adUnitCode_interstitial||t.provider.options.adUnitCode:t.provider.options.adUnitCode},b=function(e,t){var n=p(t);n&&(g(n,t),v(n,t.publisherId).then(function(){var r=f(e,t.interactionId),o=u.isMobile?t.data.size.mobile||t.data.size:t.data.size.desktop||t.data.size;l.forEach(function(n){return window.addEventListener(n,m(o,r,t,e))});var a=y(o,n);window.jitaJS.rtk.refreshAdUnits(["RTK_"+a],!0,i({},"RTK_"+a,r.children[0].id))}))};t.default=b},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(77),o=i(r),a=n(76),s=i(a),u=function(e){if(e.campaignData&&e.campaignData.playerOptions)return e.campaignData.playerOptions.find(function(e){return e.shouldExtractFromUnit&&"va"===e.player.type})||void 0},c=function(e){return"sr_blade"===e||"sr_blade_viewability"===e?s.default:"video_now"===e?o.default:void 0},l=function(e,t){var n=u(t);if(n&&n.player){var i=n.player.provider.type,r=c(i);if(r)return r(e,t,n)}};t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(0),s=n(1),u=n(5),c=i(u),l=n(30),d=i(l),p="undefined"==typeof Promise?n(2).Promise:Promise,f=function(e,t,n,i,o){var u=e.interactionId,l=e.publisherId,f=e.data.size,h=void 0===f?{}:f,m=e.campaignData.videoCampaignOptions.videoCampaignId,v=a.isMobile?h.mobile&&h.mobile.height||h.height:h.desktop&&h.desktop.height||h.height,g=a.isMobile?h.mobile&&h.mobile.width||h.width:h.desktop&&h.desktop.width||h.width;return(0,d.default)(e,m,{height:v,width:g}).then(function(e){window.srAsyncInit=function(){var a=function(){},d=n.children[0];window.SR(d.id,{playerId:t,apiKey:"5857d2ee263dc90002000001",version:"1.0",macros:e}).then(function(e){e.on("AdImpression",function(){var t=[].concat(r(n.parentNode.childNodes)).find(function(e){return[].concat(r(e.classList)).find(function(e){return"fullscreen"===e})}),i=t&&t.getBoundingClientRect();n.style.width=i?i.width+"px":"100%",n.style.height=i?i.height+"px":"100%",n.style.position=i?"fixed":"relative",n.style.top=i?0:null,n.style.left=i?0:null,e.resize(),(0,s.externalVideoImpression)("va","sr_external",m,l,u,"IDLE_LOOP",o),(0,s.externalVideoPlaying)("va","sr_external",m,l,u,"IDLE_LOOP",o);var p=d.firstElementChild||d;a=(0,c.default)(p,{interactionId:u,publisherId:l,campaignId:m,monType:"sr_external",monProvider:"va"})}),e.on("AdStopped",function(){n.style.width="1px",n.style.height="1px",a(),e.dispose(),i&&new p(function(e){setTimeout(e,5e3)}).then(function(){window.srAsyncInit()})})})}})},h=function(e,t){var n=document.createElement("div");n.style.width="1px",n.style.height="1px",n.style.zIndex="2147483646",n.style.background="#000000A0",n.style.display="flex",n.style.justifyContent="center",n.style.alignItems="center",n.style.overflow="hidden";var i=document.createElement("div");return i.id="extracted-video-player-"+t,i.style.width="100%",i.style.height="56.25%",n.appendChild(i),e.prepend(n),n},m=function(e,t,n){var i=n.player.provider.options.playerId,r=h(e,t.interactionId);f(t,i,r,n.enableExtractLoop,e).then(function(){window.SR||(0,o.loadScript)(window,"https://sdk.streamrail.com/blade/sr.bladex.js")})};t.default=m},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(3),s=n(0),u=n(1),c=n(5),l=i(c),d=n(6),p=i(d),f="undefined"==typeof Promise?n(2).Promise:Promise,h="videoNow_external",m=function(e,t,n,i,a){var c=e.interactionId,d=e.publisherId,m=e.data.size,v=void 0===m?{}:m,g=e.publisher,y=e.campaignData.videoCampaignOptions.videoCampaignId,b=s.isMobile?v.mobile&&v.mobile.height||v.height:v.desktop&&v.desktop.height||v.height,_=s.isMobile?v.mobile&&v.mobile.width||v.width:v.desktop&&v.desktop.width||v.width;return(0,p.default)(d).then(function(e){var t=e.gdprString,s=e.gdpr,p=e.gdpr_consent,m={width:_,height:b,apester_interactionId:c,apester_channelId:d,apester_campaignId:y};t&&(m.gdprString=t),void 0!==s&&(m.gdpr=s),void 0!==p&&(m.user_consent=p),g&&g.groupId&&(m.groupId="apester.com:"+g.groupId,m.schain="1.0,1!apester.com,"+g.groupId+",1,,,"),window.VNasyncInit=function(){var e=function(){},t=n.children[0],s=window.vnModuleCreate({pass:o({},m)});s.subscribe(function(){var i=[].concat(r(n.parentNode.childNodes)).find(function(e){return[].concat(r(e.classList)).find(function(e){return"fullscreen"===e})}),o=i&&i.getBoundingClientRect();n.style.width=o?o.width+"px":"100%",n.style.height=o?o.height+"px":"100%",n.style.position=o?"fixed":"relative",n.style.top=o?0:null,n.style.left=o?0:null,(0,u.externalVideoImpression)("va",h,y,d,c,"IDLE_LOOP",a),(0,u.externalVideoPlaying)("va",h,y,d,c,"IDLE_LOOP",a);var p=t.firstElementChild||t;s.resizeAd(p.clientWidth,p.clientHeight),e=(0,l.default)(p,{interactionId:c,publisherId:d,campaignId:y,monType:h,monProvider:"va"}),s.startAd({checkVisibility:!0})},"AdLoaded"),s.subscribe(function(){n.style.width="1px",n.style.height="1px",e(),i&&new f(function(e){setTimeout(e,5e3)}).then(function(){window.VNasyncInit()})},"AdStopped"),s.subscribe(function(){n.style.width="1px",n.style.height="1px",e(),i&&new f(function(e){setTimeout(e,5e3)}).then(function(){window.VNasyncInit()})},"AdError")}})},v=function(e,t){var n=document.createElement("div");n.style.width="1px",n.style.height="1px",n.style.zIndex="2147483646",n.style.background="#000000A0",n.style.display="flex",n.style.justifyContent="center",n.style.alignItems="center",n.style.overflow="hidden";var i=document.createElement("div");return i.id="extracted-video-player-"+t,i.style.width="100%",i.style.height="56.25%",n.appendChild(i),e.prepend(n),n},g=function(e,t,n){var i=n.player.provider.options.profileId,r=v(e,t.interactionId),o=r.children[0];m(t,0,r,n.enableExtractLoop,e).then(function(){(0,a.loadScript)(window,"https://static.videonow.ru/dev/debug/vn_init_module.js?initOnly=1&onload=VNasyncInit&profileId="+i,o)})};t.default=g},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=e.getBoundingClientRect(),n=window.innerHeight-t.top,i=t.top>=0?n>=160:t.bottom>=160;return t.bottom>=0&&t.right>=0&&t.top<=(window.innerHeight||document.documentElement.clientHeight)&&t.left<=(window.innerWidth||document.documentElement.clientWidth)&&i}function s(e){(0,l.registerElement)(e,"STRIPPWA",g)}Object.defineProperty(t,"__esModule",{value:!0}),t.StripPWA=t.stripEventsNames=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=s;var c=n(21),l=n(22),d=n(16),p=n(0),f=n(1),h=n(7),m="undefined"==typeof Promise?n(2).Promise:Promise,v=t.stripEventsNames={STRIP_OPEN_UNIT:"strip_open_unit",STRIP_NEXT_UNIT:"strip_next_unit",CLOSE_RENDERER:"fullscreen_off",STRIP_ITEM_LOADED:"strip_item_loaded",CLOSE_STRIP:"close_strip"},g=t.StripPWA=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"buildCallback",value:function(){var e=this;this.stripPWABaseUrl_="https://faststrip.apester.com",this.iframe_=null,this.iframePromise_=null,this.ready_=!1,this.isRemoved=!1,this.initCampaigns=this.options.initCampaigns,this.removeStrip=this.options.removeStrip,this.interactions=this.options.interactions,this.channelId=this.options.channelId,this.channelToken=this.options.channelToken,this.isPWA=this.options.isPWA,this.rendererElement=null,this.rendererDisplays_=!1,this.instanceId=(0,p.createUuid)(),window.__apester_no_player_strip||(this.registerEvent(v.STRIP_OPEN_UNIT,function(t){e.loadInteraction(t)}),this.registerEvent(v.CLOSE_RENDERER,function(t){e.hideRenderer()})),this.registerEvent(v.STRIP_NEXT_UNIT,function(t){e.initalRendering(),window.__apester_no_player_strip||e.showRenderer(),e.iframe_.contentWindow.postMessage(t,"*")}),this.bindedViewabilityCheck=this.checkIfInViewport.bind(this)}},{key:"loadRenderer",value:function(e,t){if(window.postMessage({type:"apester_strip_units",firstInteraction:e,stripItems:this.interactions,instanceId:this.instanceId},"*"),!window.__apester_no_player_strip){this.rendererElement=document.createElement("div"),this.rendererElement.setAttribute("class","apester-media"),this.rendererElement.setAttribute("data-media-id",e),this.rendererElement.setAttribute("data-instance-id",this.instanceId),this.rendererElement.setAttribute("data-auto-fullscreen",!0),this.rendererElement.stripItems=this.interactions,this.rendererElement.style.display="none";var n=this.element&&this.element.parentElement;this.rendererElement.setAttribute("data-manual-top",n&&n.getAttribute("data-manual-top")),t.appendChild(this.rendererElement),window.APESTER.reload()}}},{key:"getCustomStripProps",value:function(e){return{paddingTop:e.hasAttribute("strip-padding-top")&&e.getAttribute("strip-padding-top")||"0",paddingBottom:e.hasAttribute("strip-padding-bottom")&&e.getAttribute("strip-padding-bottom")||"0",itemShape:e.hasAttribute("item-shape")&&e.getAttribute("item-shape")||"square",itemSize:e.hasAttribute("item-size")&&e.getAttribute("item-size")||"medium",itemTextColor:e.hasAttribute("item-text-color")&&e.getAttribute("item-text-color")||"white",itemHasShadow:e.hasAttribute("item-has-shadow")&&e.getAttribute("item-has-shadow")||"true",stripBackground:e.hasAttribute("strip-background")&&e.getAttribute("strip-background")||"transparent",isPreview:e.hasAttribute("preview")&&e.getAttribute("preview")||"false",headerFontFamily:e.hasAttribute("header-font-family")&&e.getAttribute("header-font-family")||"Lato",headerText:e.hasAttribute("header-text")&&e.getAttribute("header-text")||"",headerFontSize:e.hasAttribute("header-font-size")&&e.getAttribute("header-font-size")||"22",headerFontWeight:e.hasAttribute("header-font-weight")&&e.getAttribute("header-font-weight")||"400",headerFontColor:e.hasAttribute("header-font-color")&&e.getAttribute("header-font-color")||"rgba(0,0,0,1)",headerLtr:e.hasAttribute("header-ltr")&&e.getAttribute("header-ltr")||"true",horizontalHeaderPadding:e.hasAttribute("horizontal-header-padding")&&e.getAttribute("horizontal-header-padding")||"0",bottomBorderWidth:e.hasAttribute("bottom-border-width")&&e.getAttribute("bottom-border-width")||"0",bottomBorderColor:e.hasAttribute("bottom-border-color")&&e.getAttribute("bottom-border-color")||"black",topBorderWidth:e.hasAttribute("top-border-width")&&e.getAttribute("top-border-width")||"0",topBorderColor:e.hasAttribute("top-border-color")&&e.getAttribute("top-border-color")||"black"}}},{key:"initalRendering",value:function(){this.rendererElement&&!this.rendererDisplays_&&(this.rendererElement.style.visibility="hidden",this.rendererElement.style.display="block")}},{key:"showRenderer",value:function(){this.rendererElement&&(this.rendererDisplays_=!0,this.rendererElement.style.visibility="unset",this.rendererElement.style.display="block",this.rendererElement.children[0].classList.add("fullscreen"))}},{key:"loadInteraction",value:function(e){this.rendererElement&&this.rendererElement.querySelector("iframe").contentWindow.postMessage(e,"*")}},{key:"hideRenderer",value:function(){this.rendererElement&&(this.rendererDisplays_=!1,this.rendererElement.style.display="none",this.rendererElement.children[0].classList.remove("fullscreen"))}},{key:"createPerformanceLog",value:function(){return{stripId:this.instanceId}}},{key:"constructIframe_",value:function(e){var t=this.element.ownerDocument.createElement("iframe");return t.setAttribute("title","Apester - Interactive content"),t.setAttribute("frameborder","0"),t.setAttribute("allowtransparency","true"),t.src=e,t.name=/wpcomwidgets/.test(document.location.href)?document.referrer:document.location.href,t.classList.add("apester-fill-content"),t}},{key:"getIframePromise_",value:function(){var e=this;return(0,d.sendPerformanceLog)("strip_pwa_pending",this.createPerformanceLog()),new m(function(t){e.iframe_.onload=t})}},{key:"removeStripComponent",value:function(){this.isRemoved=!0,this.removeStrip(),window.postMessage({type:"apester_strip_removed",token:this.token,instanceId:this.instanceId},"*")}},{key:"layoutCallback",value:function(){var e=this,t=this.getCustomStripProps(this.element&&this.element.parentElement),n=(0,h.extractCanonicalUrl)(),i=this.stripPWABaseUrl_+"?token="+this.channelToken+"&itemShape="+t.itemShape+"&itemSize="+t.itemSize+"&itemTextColor="+t.itemTextColor+"&headerFontFamily="+t.headerFontFamily+"&headerText="+t.headerText+"&headerFontSize="+t.headerFontSize+"&headerFontWeight="+t.headerFontWeight+"&headerFontColor="+t.headerFontColor+"&headerLtr="+t.headerLtr+"&itemHasShadow="+t.itemHasShadow+"&stripBackground="+t.stripBackground+"&paddingTop="+t.paddingTop+"&paddingBottom="+t.paddingBottom+"&bottomBorderWidth="+t.bottomBorderWidth+"&bottomBorderColor="+t.bottomBorderColor+"&topBorderWidth="+t.topBorderWidth+"&topBorderColor="+t.topBorderColor+"&instanceId="+this.instanceId+"&sessionId="+(0,p.getSessionId)()+"&canonicalUrl="+encodeURIComponent(n)+"&horizontalHeaderPadding="+t.horizontalHeaderPadding;"true"===t.isPreview&&(i+="&isPreview=true"),this.iframe_=this.constructIframe_(i),"ios"===(0,p.getOS)()&&p.isMobile&&window.performance&&2===window.performance.navigation.type&&window.location.reload();var r=setTimeout(function(){e.isRemoved||(e.removeStripComponent(),(0,f.sendStripTimeout)())},3e4);return this.registerEvent(v.STRIP_ITEM_LOADED,function(t){var n=t.firstInteraction,i=t.stripItems,o=t.payload;clearTimeout(r),o.publisherId=!o.publisherId&&o.channelId?o.channelId:o.publisherId,e.channelId=o.publisherId,e.interactions=i,e.loadRenderer(n,document.body,e.element&&e.element.parentElement),o.stripItems&&o.stripItems.length>0&&(o.interactionId=o.stripItems[0].interactionId),window.__APESTER_DEFFERED_AD_LOAD&&"complete"===!document.readyState?window.onload=function(){e.initCampaigns(o)}:e.initCampaigns(o),(0,d.sendPerformanceLog)("strip_pwa_loaded",e.createPerformanceLog()),(0,f.sendPositionLog)(e.element,e.options.channelToken);for(var a=["DOMContentLoaded","load","scroll","resize"],s=0;s<a.length;s++)window.addEventListener(a[s],e.bindedViewabilityCheck);e.bindedViewabilityCheck()}),this.registerEvent(v.CLOSE_STRIP,function(t){t.reason;e.isRemoved||e.removeStripComponent()}),this.iframePromise_=this.getIframePromise_(),this.element.appendChild(this.iframe_),this.iframePromise_.then(function(){return e.ready_=!0,e.iframe_})}},{key:"registerEvent",value:function(e,t){var n=this;window.addEventListener("message",function(i){i.data.type!==e||i.data.instanceId!==n.instanceId&&!window.__apester_no_player_strip||t(i.data)})}},{key:"removeEvent",value:function(e,t){window.removeEventListener(e,t)}},{key:"checkIfInViewport",value:function(){var e=this;requestAnimationFrame(function(){if(a(e.element)){e.iframe_.contentWindow.postMessage({type:"viewablity",isInView:!0},"*");for(var t=["DOMContentLoaded","load","scroll","resize"],n=0;n<t.length;n++)window.removeEventListener(t[n],e.bindedViewabilityCheck)}})}}]),t}(c.BaseElement)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(62),o=i(r),a=n(63),s=i(a),u=n(68),c=i(u),l=n(69),d=i(l),p=n(67),f=i(p),h=n(66),m=i(h),v=void 0;t.default=function(e,t){if(t.campaignData&&t.campaignData.companionOptions&&t.campaignData.companionOptions.settings){var n=t.campaignData.companionOptions.video,i=void 0===n?{}:n,r=i.videoTag,a=i.floating,u=i.companion,l=i.companion_below,p=i.enabled,h=i.provider,g=void 0===h?"cedato":h,y=a||{},b=y.enabled,_=u||{},w=_.enabled,I=l||{},E=I.enabled;if("gallery"===t.layout&&!b)return;if(p&&r&&(b||w||E)&&(!b||!v))switch(v=v||b,g.toUpperCase()){case"CEDATO":(0,o.default)(e,t);break;case"HIRO":(0,s.default)(e,t);break;case"SR":(0,c.default)(e,t);break;case"VIDAZOO":(0,d.default)(e,t);break;case"RUMBLE":(0,f.default)(e,t);break;case"PLAYBUZZ":(0,m.default)(e,t);break;default:(0,o.default)(e,t)}}}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.Observable=function(){function e(){i(this,e),this.listeners_=[]}return r(e,[{key:"add",value:function(e){var t=this;return this.listeners_.push(e),function(){t.remove(e)}}},{key:"remove",value:function(e){var t=this.listeners_.indexOf(e);-1!=t&&this.listeners_.splice(t,1)}},{key:"fire",value:function(e){for(var t=0;t<this.listeners_.length;t++){this.listeners_[t].call(this,e)}}}]),e}()},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Resource=t.ResourceState=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(34),a="undefined"==typeof Promise?n(2).Promise:Promise,s=t.ResourceState={NOT_BUILT:0,NOT_LAID_OUT:1,READY_FOR_LAYOUT:2,LAYOUT_SCHEDULED:3,LAYOUT_COMPLETE:4,LAYOUT_FAILED:5};t.Resource=function(){function e(t,n,r,u){var c=this;i(this,e),this.id_=t,this.element=new n,this.parent=r,this.hostWin=this.element.element.ownerDocument.defaultView,this.resources_=u,this.owner_=void 0,this.state_=this.element.isBuilt()?s.NOT_LAID_OUT:s.NOT_BUILT,this.layoutCount_=0,this.layoutBox_=(0,o.layoutRectLtwh)(-1e4,-1e4,0,0),this.initialLayoutBox_=null,this.isMeasureRequested_=!1,this.isInViewport_=!1,this.layoutPromise_=null,this.loadedOnce_=!1,this.loadPromiseResolve_=null,this.loadPromise_=new a(function(e){c.loadPromiseResolve_=e}),this.paused_=!1,this.parent.appendChild(this.element.element),this.element.connectedCallback()}return r(e,[{key:"getId",value:function(){return this.id_}},{key:"getElementForResource",value:function(){return this.element}},{key:"getDOMElementForResource",value:function(){return this.element.element}},{key:"updateOwner",value:function(e){this.owner_=e}},{key:"getOwner",value:function(){return this.owner_}},{key:"hasOwner",value:function(){return!!this.getOwner()}},{key:"getState",value:function(){return this.state_}},{key:"build",value:function(){try{this.element.build()}catch(e){return}this.hasBeenMeasured()?this.state_=s.READY_FOR_LAYOUT:this.state_=s.NOT_LAID_OUT}},{key:"measure",value:function(){this.isMeasureRequested_=!1;var e=this.resources_.getLayoutRect(this.element.element);this.layoutBox_=e,this.state_!=s.NOT_BUILT&&this.state_==s.NOT_LAID_OUT&&(this.state_=s.READY_FOR_LAYOUT),this.hasBeenMeasured()||(this.initialLayoutBox_=e),this.element.updateLayoutBox(e)}},{key:"isMeasureRequested",value:function(){return this.isMeasureRequested_}},{key:"hasBeenMeasured",value:function(){return!!this.initialLayoutBox_}},{key:"requestMeasure",value:function(){this.state_!=s.NOT_BUILT&&(this.isMeasureRequested_=!0)}},{key:"getLayoutBox",value:function(){if(!this.isFixed_)return this.layoutBox_;var e=this.resources_.getViewport();return moveLayoutRect(this.layoutBox_,e.getScrollLeft(),e.getScrollTop())}},{key:"getInitialLayoutBox",value:function(){return this.initialLayoutBox_||this.layoutBox_}},{key:"isDisplayed",value:function(){return this.layoutBox_.height>0&&this.layoutBox_.width>0}},{key:"layoutScheduled",value:function(){this.state_=s.LAYOUT_SCHEDULED}},{key:"startLayout",value:function(){var e=this;if(this.layoutPromise_)return this.layoutPromise_;this.measure(),this.layoutCount_++,this.state_=s.LAYOUT_SCHEDULED;var t=void 0;try{t=this.element.layoutCallback()}catch(e){return a.reject(e)}return this.layoutPromise_=t.then(function(){return e.layoutComplete_(!0)},function(t){return e.layoutComplete_(!1,t)}),this.layoutPromise_}},{key:"layoutComplete_",value:function(e,t){if(this.loadPromiseResolve_&&(this.loadPromiseResolve_(),this.loadPromiseResolve_=null),this.layoutPromise_=null,this.loadedOnce_=!0,this.state_=e?s.LAYOUT_COMPLETE:s.LAYOUT_FAILED,!e)return a.reject(t)}},{key:"isLayoutPending",value:function(){return this.state_!=s.LAYOUT_COMPLETE&&this.state_!=s.LAYOUT_FAILED}},{key:"loadedOnce",value:function(){return this.loadPromise_}},{key:"hasLoadedOnce",value:function(){return this.loadedOnce_}},{key:"isInViewport",value:function(){return this.isInViewport_}},{key:"setInViewport",value:function(e){e!=this.isInViewport_&&(this.isInViewport_=e,this.element.viewportCallback(e))}},{key:"unlayout",value:function(){this.state_!=s.NOT_BUILT&&this.state_!=s.NOT_LAID_OUT&&(this.setInViewport(!1),this.element.unlayoutCallback()&&(this.element.togglePlaceholder(!0),this.state_=s.NOT_LAID_OUT,this.layoutCount_=0,this.layoutPromise_=null))}},{key:"pause",value:function(){this.state_==s.NOT_BUILT||this.paused_||(this.paused_=!0,this.setInViewport(!1),this.element.pauseCallback(),this.element.unlayoutOnPause()&&this.unlayout())}},{key:"pauseOnRemove",value:function(){this.state_!=s.NOT_BUILT&&(this.setInViewport(!1),this.paused_||(this.paused_=!0,this.element.pauseCallback()))}},{key:"resume",value:function(){this.state_!=s.NOT_BUILT&&this.paused_&&(this.paused_=!1,this.element.resumeCallback())}},{key:"play",value:function(){var e=void 0;try{e=this.element.playCallback()}catch(e){return a.reject(e)}return e}},{key:"engage",value:function(){var e=void 0;try{e=this.element.engagementCallback()}catch(e){return a.reject(e)}return e}},{key:"stop",value:function(){this.element.stopCallback()}},{key:"unload",value:function(){this.pause(),this.unlayout()}},{key:"registerEvent",value:function(e,t){this.element.registerEvent(e,t)}},{key:"closeUnit",value:function(){this.element.closeUnit&&this.element.closeUnit()}},{key:"remove",value:function(){this.element.remove&&this.element.remove()}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t=this,n=arguments,i=!1,r=new O(function(r,o){e.then(function(){i||r.apply(t,n)},function(){i||o.apply(t,n)})});return r.cancel=function(){return i=!0},r}function a(e,t,n,i){return{left:e,top:t,width:n,height:i,bottom:t+i,right:e+n}}function s(e,t,n){var i={desktop:{default:{small:190,medium:250,large:365},round:{small:150,medium:235,large:365}},mobile:{default:{small:160,medium:205,large:250},round:{small:105,medium:155,large:200}}};if("strip"===t){if(n.hasAttribute("item-size")){var r=C.isMobile?"mobile":"desktop",o=C.isMobile?150:230,a=n.getAttribute("item-size"),s=n.getAttribute("item-shape");return i[r][C.isMobile&&"round"===s?"round":"default"][a]||o}return C.isMobile?200:230}var u=!!e.data.preResult,c=!!e.data.videoId;return(e.data.size||{}).height>0?u||c||e.data.updatedVersion>=7?(e.data.size||{}).height||338:(e.data.size||{}).height-40:338}function u(e){var t=e.getBoundingClientRect(),n=window.innerHeight-t.top,i=t.top>=0?n>=160:t.bottom>=160;return t.bottom>=0&&t.right>=0&&t.top<=(window.innerHeight||document.documentElement.clientHeight)&&t.left<=(window.innerWidth||document.documentElement.clientWidth)&&i}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return JSON.stringify(e.map(function(e){return{tag:e}}))}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter(function(e){return t.some(function(t){return t.toLowerCase()===e.toLowerCase()})})}Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceManager=void 0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=o,t.layoutRectLtwh=a;var f=n(81),h=n(84),m=i(h),v=n(61),g=i(v),y=n(79),b=i(y),_=n(75),w=i(_),I=n(74),E=i(I),k=n(1),T=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(k),A=n(32),C=n(0),O="undefined"==typeof Promise?n(2).Promise:Promise,S=function(e,t){e.style.height=t+"px"},P=function(e,t){e.style["max-width"]=t+"px"};t.ResourceManager=function(){function e(t,n,i){var o=this;r(this,e),this.type=i,this.element=t,"strip"===i&&C.isApesterInapp||(this.element.style.height=s(n,i,t)+"px"),this.model_=n,this.companions_=[],this.element.classList.add("apester-element"),this.resources_=[],this.pass_=null,this.toggled_=!1,this.resourceIdCounter_=0,this.addCount_=0,this.shouldToggle_=!1,this.master_=null,this.masterActive_=!0,this.slave_=null,this.seen_=!1,this.trigger_={},this.trigger_.options={};var a=void 0;this.model_.publisher&&(a=this.model_.publisher.trigger),this.trigger_=this.model_.trigger||a||this.trigger_,window.addEventListener("message",this.receiveMessage.bind(this)),this.dispatchInView=function(){var e=window.document.createEvent("Event");e.data={seen:o.seen_},e.initEvent("mediaInView",!0,!0),o.element.dispatchEvent(e)},this.predicate_=function(){if(o.trigger_){var e=o.trigger_.options.duration||"4000",t=parseInt(e);return new O(function(e,n){setTimeout(function(){e()},t)})}return O.reject()},this.trigger_&&window.addEventListener("message",function(e){e&&("unit_engaged"===e.data.type&&setTimeout(function(){o.activePredicate_={triggerType:"unitEngaged",triggerFunction:"timer",triggerOptionDuration:"3000",triggerOptionForceViewability:""+(o.trigger_.options.forceViewability||!1)},o.updateView_()},3e3),"unit_complete"===e.data.type&&setTimeout(function(){o.activePredicate_={triggerType:"unitComplete",triggerFunction:"timer",triggerOptionDuration:"5000",triggerOptionForceViewability:""+(o.trigger_.options.forceViewability||!1)},o.updateView_()},5e3))}),this.viewport_=new m.default(window),this.isInViewport_=u(this.element),this.isInViewport_&&(this.seen_=!0,T.sendMediaSeen(d({},this.model_,{iframeType:this.master_&&this.master_.element.implementation_.isFriendly_?"friendlyIframe":"iframe"}))),this.viewport_.onChanged(function(){return requestAnimationFrame(function(){var e=u(o.element);o.isInViewport_=e;for(var t=0;t<o.resources_.length;t++){o.resources_[t].setInViewport(o.isInViewport_)}o.isInViewport_&&!o.seen_&&(o.seen_=!0,T.sendMediaSeen(d({},o.model_,{iframeType:o.master_&&o.master_.element.implementation_.isFriendly_?"friendlyIframe":"iframe"})),o.dispatchInView()),e&&o.master_&&o.master_.getState()===f.ResourceState.LAYOUT_COMPLETE&&o.updateView_()})})}return p(e,[{key:"handleStripResize",value:function(e){this.element.attributes["data-channel-tokens"].value===e.token&&(this.element.style.height=this.resizeStrip(e.data)+"px",window.removeEventListener("message",this.receiveMessage))}},{key:"receiveMessage",value:function(e){"RESIZE_STRIP"===e.data.type&&this.element.classList.contains("apester-strip")&&this.handleStripResize(e.data)}},{key:"resizeStrip",value:function(e){return e||(C.isMobile?220:250)}},{key:"initializeCompanionAds",value:function(){var e="strip"===this.type;(0,b.default)(this.element,this.model_);var t=(0,g.default)(this.element,this.model_,e);e||((0,w.default)(this.element,this.model_),(0,E.default)(this.element,this.model_)),this.companions_.push(t)}},{key:"initializeRenderer",value:function(){this.element.stripItems&&this.element.stripItems.length||this.initializeCompanionAds();var e=void 0;this.model_.publisher&&(e=this.model_.publisher.extensions||[]),this.model_.publisherId=this.element.getAttribute("data-channel-id")||this.model_.publisherId;var t=this.model_.extensions||e||[],n=!!this.element.getAttribute("data-channel-id"),i=!!this.element.getAttribute("data-context")&&"true"===this.element.getAttribute("data-context");t.unshift({type:"interaction",provider:{type:"renderer",version:"0.1.0",options:{monetized:n},content:this.model_.renderer}});for(var r=0;r<t.length;r++){var o=t[r];o.provider.options.mediaId=this.model_.interactionId,o.provider.options.interactionId=this.model_.interactionId,o.provider.options.channelId=this.model_.publisherId,o.provider.options.type=this.getInteractionType(i),o.provider.options.campaignData=this.model_.campaignData,o.provider.options.isContextualMatch=this.model_.isContextualMatch,o.provider.options.evergreen=this.model_.evergreen,o.provider.options.instanceId=this.getInstanceId(),o.provider.options.stripItems=this.getStripItems(),o.provider.options.autoFullscreen=this.getAutoFullscreen(),o.provider.options.newPlayer=this.model_.usePlayer||this.isNewPlayer(),o.provider.options.isResultsScreen=this.isResultsScreen(),o.provider.options.featureFlags=this.model_.featureFlags,o.provider.options.publisher=this.model_.publisher,o.provider.options.matchedTags=c(l(this.model_.tags,this.model_.pageTags)),o.provider.options.consent=this.model_.consent,o.provider.options.clickMacro=this.getPowerlinkMacroFromTag(),o.provider.options.iosDeviceInfo=(0,C.getMobileParams)(),this.add(o)}}},{key:"initilaizeCompanionAdsFromComponent",value:function(e){var t="strip"===this.type;(0,b.default)(this.element,e,t);var n=(0,g.default)(this.element,e,t);this.companions_.push(n)}},{key:"initializeStrip",value:function(){this.model_.campaignData&&this.model_.campaignData.companionOptions&&this.model_.campaignData.companionOptions.enabledOnStrip&&this.initializeCompanionAds(),this.add({type:"strip",provider:{type:"strip",version:"0.1.0",options:{interactions:this.model_.interactions,channelId:this.model_.channelId,channelToken:this.model_.channelToken}}})}},{key:"initializePWAStrip",value:function(){this.model_.isPWA||this.model_.campaignData.companionOptions&&this.model_.campaignData.companionOptions.enabledOnStrip&&this.initializeCompanionAds(),this.add({type:"strip",provider:{type:"stripPWA",version:"0.1.0",options:{channelToken:this.model_.channelToken,isPWA:this.model_.isPWA,initCampaigns:this.initilaizeCompanionAdsFromComponent.bind(this),removeStrip:this.remove.bind(this)}}})}},{key:"Initialize",value:function(){switch(this.type){case"strip":this.model_.isPWA?this.initializePWAStrip():this.initializeStrip();break;case"renderer":default:this.initializeRenderer()}}},{key:"getInteractionType",value:function(e){var t="editorial";return this.isNonEditorialTag_(this.element)&&(t="playlist"),e&&(t="contextual playlist"),t}},{key:"getInstanceId",value:function(){return!!this.element.getAttribute("data-instance-id")&&this.element.getAttribute("data-instance-id")}},{key:"getStripItems",value:function(){return!!this.element.stripItems&&this.element.stripItems}},{key:"getAutoFullscreen",value:function(){return!!this.element.getAttribute("data-auto-fullscreen")&&this.element.getAttribute("data-auto-fullscreen")}},{key:"isNewPlayer",value:function(){return!!this.element.getAttribute("data-player")&&"true"===this.element.getAttribute("data-player")}},{key:"isResultsScreen",value:function(){return this.element.hasAttribute("results")}},{key:"getPowerlinkMacroFromTag",value:function(){return this.element.getAttribute("click-macro")}},{key:"isNonEditorialTag_",value:function(e){return!!(e.getAttribute("data-channel-token")||e.getAttribute("data-random")||e.getAttribute("data-token"))}},{key:"cycle_",value:function(){for(var e=(Date.now(),0);e<this.resources_.length;e++){var t=this.resources_[e];t&&t.getState()==f.ResourceState.NOT_BUILT&&this.build_(t)}for(var n=0;n<this.resources_.length;n++){var i=this.resources_[n];i&&i.getState()==f.ResourceState.NOT_BUILT||i.hasOwner()||(i&&i.getState()==f.ResourceState.NOT_LAID_OUT||i.isMeasureRequested())&&i.measure()}for(var r=0;r<this.resources_.length;r++){var o=this.resources_[r];o&&o.getState()!=f.ResourceState.READY_FOR_LAYOUT||o.hasOwner()||this.layout_(o)}}},{key:"add",value:function(e){var t=function(){return new(APESTER[e.provider.type.toUpperCase()])(e)};++this.addCount_;var n=new f.Resource(++this.resourceIdCounter_,t,this.element,this);n.getDOMElementForResource();if(1===this.resourceIdCounter_){this.master_=n,this.setActiveResource_(n);this.master_.getElementForResource()}else this.slave_=n,this.predicateToggle_(),this.setInactiveResource_(n);this.updateView_(),n.getDOMElementForResource().id||(n.getDOMElementForResource().id="APESTER_"+n.getId()),this.resources_.push(n);n.getElementForResource();this.cycle_()}},{key:"build_",value:function(e){var t=this;e.registerEvent(A.rendererEventsNames.RESIZE_UNIT,function(e){t.model_.interactionId===e.id&&e.height&&S(t.element,e.height),t.model_.interactionId===e.id&&e.width&&P(t.element,e.width)}),e.build()}},{key:"layout_",value:function(e){var t=this;e.startLayout().then(function(){e.setInViewport(t.isInViewport_),t.updateView_();e.getElementForResource()}).catch(function(n){var i=e.getElementForResource();t.hideApesterElement(i)})}},{key:"updateView_",value:function(){this.slave_&&this.master_&&this.master_.getState()===f.ResourceState.LAYOUT_COMPLETE&&this.scheduleToggle_()}},{key:"setActiveResource_",value:function(e){var t=e.getDOMElementForResource();t.classList.add("apester-active"),t.classList.remove("apester-ready")}},{key:"setInactiveResource_",value:function(e){var t=e.getDOMElementForResource();t.classList.remove("apester-active"),t.classList.add("apester-ready")}},{key:"tryToggle",value:function(e){var t=this,n=setInterval(function(){if(!t.toggled_&&t.slave_){if(t.slave_&&t.slave_.getState()===f.ResourceState.LAYOUT_COMPLETE){t.toggled_=!0,clearInterval(n),t.setActiveResource_(t.slave_),t.setInactiveResource_(t.master_);t.slave_.getElementForResource();return t.slave_.play().then(function(){t.setActiveResource_(t.master_),t.setInactiveResource_(t.slave_);t.slave_.getElementForResource()})}}else clearInterval(n)},200)}},{key:"predicateToggle_",value:function(){var e=this,t=o(this.predicate_()),n=o(this.master_.engage());t.then(function(){e.activePredicate_={triggerType:e.trigger_.type,triggerFunction:e.trigger_.function,triggerOptionDuration:""+e.trigger_.options.duration,triggerOptionForceViewability:""+(e.trigger_.options.forceViewability||!1),iframeType:e.master_&&e.master_.element.implementation_.isFriendly_?"friendlyIframe":"iframe"},e.updateView_()}),n.then(function(){t.cancel()})}},{key:"scheduleToggle_",value:function(){var e=this.activePredicate_;if(!this.toggling_&&e){var t=this.trigger_.options.forceViewability;!this.isInViewport_&&t||(this.toggling_=!0,this.tryToggle(e))}}},{key:"getLayoutRect",value:function(e){var t=e.getBoundingClientRect();return a(Math.round(t.left),Math.round(t.top),Math.round(t.width),Math.round(t.height))}},{key:"registerEvent",value:function(e,t){this.resources_.forEach(function(n){return n.registerEvent(e,t)})}},{key:"remove",value:function(){this.resources_.forEach(function(e){return e.remove&&e.remove()}),this.element.remove()}},{key:"closeUnits",value:function(){this.resources_.forEach(function(e){return e.closeUnit&&e.closeUnit()})}},{key:"hideApesterElement",value:function(e){e.element&&e.element.parentNode&&e.element.parentNode.classList&&e.element.parentNode.classList.contains&&(e.element.parentNode.classList.contains("apester-media")||e.element.parentNode.classList.contains("apester-element"))&&(e.element.parentNode.style.display="none")}}]),e}()},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){return Array.isArray(e)?e:Array.from(e)}function o(e){var t=document.head.querySelector('meta[name~="'+e+'"]');return t?t.content:null}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"og",n=document.head.querySelector('[property~="'+t+":"+e+'"][content]');return n?n.content:null}function s(){var e=document.head.querySelectorAll('[property~="article:tag"][content]');return e&&e.length?Array.prototype.slice.call(e).map(function(e){return e.content}):null}function u(){var e=document.head.querySelectorAll('[property~="article:published_time"][content]');return e?Array.prototype.slice.call(e).map(function(e){return e.content}):null}function c(e){var t=o(e);return t?t.replace(" ","").split(","):null}function l(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0,o=e.length;n<o;n++){var a=r(e[n]),s=a[0],u=a.slice(1),c=s.apply(void 0,i(u));if(c)return c}return t}function d(){return l([[a,"type"]])}function p(){var e=d(),t=u();return"article"===e||!(!t||!t.length)}function f(){return l([[a,"title","engageya"],[a,"title"],[o,"title"]])}function h(){return l([[a,"description","engageya"],[a,"description"],[o,"description"]])}function m(){return l([[a,"image","engageya"],[a,"image"],[o,"image"]])}function v(){return l([[s],[c,"keywords"],[c,"news_keywords"],[c,"NEWS_KEYWORDS"]])}function g(){return a("published_time","article")}function y(){return a("modified_time","article")}Object.defineProperty(t,"__esModule",{value:!0}),t.extractPageType=d,t.isArticlePage=p,t.extractTitle=f,t.extractDescription=h,t.extractImage=m,t.extractTags=v,t.extractPublishedTime=g,t.extractModifiedTime=y},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(80),a=function(){function e(t){var n=this;i(this,e),this.win=t,this.changeObservable_=new o.Observable,this.changeEventListener=function(){return n.changeObservable_.fire()},this.connect_()}return r(e,[{key:"onChanged",value:function(e){return this.changeObservable_.add(e)}},{key:"connect_",value:function(){for(var e=["DOMContentLoaded","load","scroll","resize"],t=0;t<e.length;t++)this.win.addEventListener(e[t],this.changeEventListener.bind(this),!1)}},{key:"disconnect_",value:function(e){for(var t=["DOMContentLoaded","load","scroll","resize"],n=0;n<t.length;n++)this.win.removeEventListener(t[n],this.changeEventListener.bind(this),!1)}}]),e}();t.default=a},function(e,t,n){t=e.exports=n(55)(),t.push([e.i,".apester-hidden {\n  pointer-events: none;\n  animation: apester-hide 1s ease-out forwards; }\n\n@keyframes apester-hide {\n  from {\n    visibility: visible;\n    opacity: 1; }\n  to {\n    visibility: hidden;\n    opacity: 0; } }\n\n.apester-loading-container-mobile {\n  background: #ffffff; }\n\n.apester-loading-container {\n  position: absolute !important;\n  top: 0 !important;\n  left: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  z-index: 1 !important;\n  display: block;\n  width: 100%;\n  height: 100%;\n  background: #f5f5f5; }\n\n.apester-element {\n  display: block;\n  position: relative;\n  max-width: 600px;\n  width: 100%;\n  margin: 5px auto;\n  overflow: hidden; }\n  .apester-element.apester-strip {\n    max-width: none; }\n    .apester-element.apester-strip[round-shape] .strip-loader {\n      display: none; }\n    .apester-element.apester-strip.apester-in-app {\n      margin: 0; }\n\n.apester-video-component {\n  width: 100%;\n  margin: 0 auto; }\n\n.apester-layer-fill {\n  width: 100% !important;\n  height: 100% !important;\n  margin: 0 auto;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0; }\n\n.apester-active {\n  opacity: 1; }\n\n.apester-ready {\n  display: none !important;\n  opacity: 0;\n  pointer-events: none; }\n\n.apester-done {\n  opacity: 0;\n  pointer-events: none; }\n\n.apester-layer {\n  height: 100%;\n  display: block;\n  overflow: hidden !important;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  transition: opacity 1s ease-out; }\n  .apester-layer.fullscreen {\n    background: rgba(34, 36, 38, 0.97) !important;\n    position: fixed !important;\n    width: 100vw;\n    height: 100%;\n    z-index: 2147483645 !important;\n    zoom: 1;\n    -webkit-overflow-scrolling: touch !important;\n    overflow-y: auto !important; }\n\n.apester-video-component {\n  background: black; }\n\n.apester-video-component .video-js {\n  top: 50%;\n  transform: translateY(-50%); }\n\n.apester-fill-content {\n  display: block;\n  width: 1px;\n  min-width: 100%;\n  height: 100%;\n  margin: auto; }\n\n.interaction-loader {\n  position: absolute;\n  height: 100px !important;\n  width: 100px !important;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  margin-top: -22px; }\n\n.strip-loader {\n  position: absolute;\n  height: 251px;\n  top: 30px;\n  margin-top: -22px;\n  width: 100%;\n  background: #f5f5f5; }\n\n.strip-loader-mobile {\n  height: 204px;\n  background: transparent; }\n\n.streamrail {\n  height: 100%;\n  background: black; }\n\n.blobs {\n  filter: url(\"#goo\");\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0; }\n\n.blob {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  margin: auto;\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background-color: #ee2e3d; }\n\n.blob:nth-child(1) {\n  animation: blob-left-anim cubic-bezier(0.77, 0, 0.175, 1) 2s infinite; }\n\n.blob:nth-child(2) {\n  animation: blob-right-anim cubic-bezier(0.77, 0, 0.175, 1) 2s infinite; }\n\n@keyframes blob-left-anim {\n  0% {\n    transform: scale(1) translate(0, 0); }\n  33% {\n    transform: scale(0.55, 0.5) translate(80px, 0); }\n  66% {\n    transform: scale(0.8) translate(0, 0); }\n  100% {\n    transform: scale(1) translate(0, 0); } }\n\n@keyframes blob-right-anim {\n  0% {\n    transform: scale(1) translate(0, 0); }\n  33% {\n    transform: scale(0.55, 0.5) translate(-80px, 0); }\n  66% {\n    transform: scale(0.8) translate(0, 0); }\n  100% {\n    transform: scale(1) translate(0, 0); } }\n\n@keyframes apester {\n  0% {\n    transform: scale(1);\n    opacity: 1; }\n  20% {\n    transform: scale(1);\n    opacity: 0; }\n  40% {\n    transform: scale(0.5);\n    opacity: 0; }\n  66% {\n    transform: scale(0.8);\n    opacity: 1; }\n  100% {\n    transform: scale(1);\n    opacity: 1; } }\n\n.apester {\n  position: absolute;\n  height: 28px;\n  width: 28px;\n  left: calc(50% - 14px);\n  top: calc(50% - 14px); }\n\n.apester svg {\n  height: 100%;\n  width: 100%; }\n\n.apester-companion-container {\n  display: block;\n  position: relative;\n  max-width: 728px;\n  width: 100%;\n  margin: 0 auto;\n  overflow: hidden; }\n\n.sliding-container {\n  position: absolute;\n  display: block;\n  margin: 0 auto;\n  overflow: hidden;\n  right: -300px;\n  z-index: 1000; }\n  .sliding-container.sliding-out {\n    -webkit-animation: slide-out 0.5s backwards;\n    -webkit-animation-delay: 0s;\n    animation: slide-out 0.5s backwards;\n    animation-delay: 0s; }\n  .sliding-container.sliding-in {\n    -webkit-animation: slide-in 0.5s forwards;\n    -webkit-animation-delay: 1s;\n    animation: slide-in 0.5s forwards;\n    animation-delay: 1s; }\n\n@keyframes slide-in {\n  100% {\n    right: 0; } }\n\n@keyframes slide-out {\n  0% {\n    right: 0; }\n  100% {\n    right: -300; } }\n  .sliding-container .apester-companion {\n    margin: 0 !important; }\n  .sliding-container .close-btn {\n    width: 25px;\n    height: 25px;\n    color: white;\n    position: absolute;\n    top: 2px;\n    right: 2px;\n    text-align: center;\n    border-radius: 50%;\n    background: rgba(0, 0, 0, 0.5); }\n    .sliding-container .close-btn:before {\n      content: 'x';\n      font-size: 15px;\n      vertical-align: middle;\n      font-family: Arial, Helvetica, sans-serif; }\n\n.apester-companion {\n  text-align: center;\n  margin: 10px auto; }\n  @media (max-width: 480px) {\n    .apester-companion {\n      margin: 20px auto; } }\n\n.strip-animation {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  position: fixed;\n  background: #d8d8d8;\n  width: 100vw;\n  height: 100%;\n  animation: grow 0.75s ease-in-out; }\n  .strip-animation.shrink {\n    animation: shrink 0.75s ease-in-out forwards; }\n\n@keyframes grow {\n  from {\n    transform: scale(0.25); }\n  to {\n    transform: scale(1);\n    transform-origin: 50% 50%; } }\n\n@keyframes shrink {\n  from {\n    transform: scale(1);\n    transform-origin: 50% 50%; }\n  to {\n    transform: scale(0); } }\n\n#apester-floating-video .__cedato_corner {\n  width: auto;\n  height: auto;\n  top: auto;\n  left: auto;\n  bottom: 0;\n  right: 0;\n  margin: 20px; }\n\n#apester-floating-video-mobile .__cedato_corner {\n  width: auto;\n  height: auto;\n  top: auto;\n  left: auto;\n  bottom: 0;\n  right: 0;\n  margin: 0; }\n\n.apester-companion-video {\n  margin: 0 auto -5px auto; }\n  .apester-companion-video .__cedato_ad_unit_placeholder {\n    margin: 0 auto; }\n",""])},function(e,t,n){t=e.exports=n(55)(),t.push([e.i,"interaction.apester-element {\n  padding-top: 0 !important;\n  margin-top: 0 !important; }\n  interaction.apester-element::before {\n    content: '' !important; }\n\n#apester-companion-video.apester-element {\n  margin-bottom: 0 !important;\n  padding-bottom: 0 !important; }\n\n.apester-layer.apester-layout {\n  padding-top: 0 !important; }\n",""])},function(e,t,n){e.exports=n.p+"./js/assets/loader_100x100.gif"},function(e,t,n){e.exports=n.p+"./js/assets/strip_loader.png"},function(e,t,n){var i=n(85);"string"==typeof i&&(i=[[e.i,i,""]]);n(57)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(86);"string"==typeof i&&(i=[[e.i,i,""]]);n(57)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){(function(e,i){var r;!function(o){var a="object"==typeof t&&t,s=("object"==typeof e&&e&&e.exports,"object"==typeof i&&i);var u=function(e){this.message=e};u.prototype=new Error,u.prototype.name="InvalidCharacterError";var c=function(e){throw new u(e)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=/[\t\n\f\r ]/g,p=function(e){e=String(e).replace(d,"");var t=e.length;t%4==0&&(e=e.replace(/==?$/,""),t=e.length),(t%4==1||/[^+a-zA-Z0-9\/]/.test(e))&&c("Invalid character: the string to be decoded is not correctly encoded.");for(var n,i,r=0,o="",a=-1;++a<t;)i=l.indexOf(e.charAt(a)),n=r%4?64*n+i:i,r++%4&&(o+=String.fromCharCode(255&n>>(-2*r&6)));return o},f=function(e){e=String(e),/[^\0-\xFF]/.test(e)&&c("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,i,r,o=e.length%3,a="",s=-1,u=e.length-o;++s<u;)t=e.charCodeAt(s)<<16,n=e.charCodeAt(++s)<<8,i=e.charCodeAt(++s),r=t+n+i,a+=l.charAt(r>>18&63)+l.charAt(r>>12&63)+l.charAt(r>>6&63)+l.charAt(63&r);return 2==o?(t=e.charCodeAt(s)<<8,n=e.charCodeAt(++s),r=t+n,a+=l.charAt(r>>10)+l.charAt(r>>4&63)+l.charAt(r<<2&63)+"="):1==o&&(r=e.charCodeAt(s),a+=l.charAt(r>>2)+l.charAt(r<<4&63)+"=="),a},h={encode:f,decode:p,version:"0.1.0"};void 0!==(r=function(){return h}.call(t,n,t,e))&&(e.exports=r)}()}).call(t,n(127)(e),n(20))},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(36),s=a.encodeConsentString,u=a.getMaxVendorId,c=a.encodeVendorIdsToBits,l=a.encodePurposeIdsToBits,d=n(35),p=d.decodeConsentString,f=n(38),h=f.vendorVersionMap,m=/^[a-z]{2}$/,v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;i(this,e),this.created=new Date,this.lastUpdated=new Date,this.version=1,this.vendorList=null,this.vendorListVersion=null,this.cmpId=null,this.cmpVersion=null,this.consentScreen=null,this.consentLanguage=null,this.allowedPurposeIds=[],this.allowedVendorIds=[],t&&Object.assign(this,p(t))}return o(e,[{key:"getConsentString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.vendorList)throw new Error("ConsentString - A vendor list is required to encode a consent string");return!0===e&&(this.lastUpdated=new Date),s({version:this.getVersion(),vendorList:this.vendorList,allowedPurposeIds:this.allowedPurposeIds,allowedVendorIds:this.allowedVendorIds,created:this.created,lastUpdated:this.lastUpdated,cmpId:this.cmpId,cmpVersion:this.cmpVersion,consentScreen:this.consentScreen,consentLanguage:this.consentLanguage,vendorListVersion:this.vendorListVersion})}},{key:"getLastUpdated",value:function(){return this.lastUpdated}},{key:"setLastUpdated",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.lastUpdated=e?new Date(e):new Date}},{key:"getCreated",value:function(){return this.created}},{key:"setCreated",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.created=e?new Date(e):new Date}},{key:"getMaxVendorId",value:function(){return u(this.vendorList.vendors)}},{key:"getParsedVendorConsents",value:function(){return c(u(this.vendorList.vendors),this.allowedVendorIds)}},{key:"getParsedPurposeConsents",value:function(){return l(this.vendorList.purposes,this.allowedPurposeIds)}},{key:"getMetadataString",value:function(){return s({version:this.getVersion(),created:this.created,lastUpdated:this.lastUpdated,cmpId:this.cmpId,cmpVersion:this.cmpVersion,consentScreen:this.consentScreen,vendorListVersion:this.vendorListVersion})}},{key:"getVersion",value:function(){return this.version}},{key:"getVendorListVersion",value:function(){return this.vendorListVersion}},{key:"setGlobalVendorList",value:function(e){if("object"!==(void 0===e?"undefined":r(e)))throw new Error("ConsentString - You must provide an object when setting the global vendor list");if(!e.vendorListVersion||!Array.isArray(e.purposes)||!Array.isArray(e.vendors))throw new Error("ConsentString - The provided vendor list does not respect the schema from the IAB EUâs GDPR Consent and Transparency Framework");this.vendorList={vendorListVersion:e.vendorListVersion,lastUpdated:e.lastUpdated,purposes:e.purposes,features:e.features,vendors:e.vendors.slice(0).sort(function(e,t){return e.id<t.id?-1:1})},this.vendorListVersion=e.vendorListVersion}},{key:"getGlobalVendorList",value:function(){return this.vendorList}},{key:"setCmpId",value:function(e){this.cmpId=e}},{key:"getCmpId",value:function(){return this.cmpId}},{key:"setCmpVersion",value:function(e){this.cmpVersion=e}},{key:"getCmpVersion",value:function(){return this.cmpVersion}},{key:"setConsentScreen",value:function(e){this.consentScreen=e}},{key:"getConsentScreen",value:function(){return this.consentScreen}},{key:"setConsentLanguage",value:function(e){if(!1===m.test(e))throw new Error("ConsentString - The consent language must be a two-letter ISO639-1 code (en, fr, de, etc.)");this.consentLanguage=e}},{key:"getConsentLanguage",value:function(){return this.consentLanguage}},{key:"setPurposesAllowed",value:function(e){this.allowedPurposeIds=e}},{key:"getPurposesAllowed",value:function(){return this.allowedPurposeIds}},{key:"setPurposeAllowed",value:function(e,t){var n=this.allowedPurposeIds.indexOf(e);!0===t?-1===n&&this.allowedPurposeIds.push(e):!1===t&&-1!==n&&this.allowedPurposeIds.splice(n,1)}},{key:"isPurposeAllowed",value:function(e){return-1!==this.allowedPurposeIds.indexOf(e)}},{key:"setVendorsAllowed",value:function(e){this.allowedVendorIds=e}},{key:"getVendorsAllowed",value:function(){return this.allowedVendorIds}},{key:"setVendorAllowed",value:function(e,t){var n=this.allowedVendorIds.indexOf(e);!0===t?-1===n&&this.allowedVendorIds.push(e):!1===t&&-1!==n&&this.allowedVendorIds.splice(n,1)}},{key:"isVendorAllowed",value:function(e){return-1!==this.allowedVendorIds.indexOf(e)}}],[{key:"decodeMetadataString",value:function(e){var t=p(e),n={};return h[t.version].metadataFields.forEach(function(e){n[e]=t[e]}),n}}]),e}();e.exports={ConsentString:v}},function(e,t,n){"use strict";var i=n(92),r=i.ConsentString,o=n(35),a=o.decodeConsentString,s=n(36),u=s.encodeConsentString;e.exports={ConsentString:r,decodeConsentString:a,encodeConsentString:u}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var i=n(54),r=n(109),o=n(13),a=i("unscopables"),s=Array.prototype;void 0==s[a]&&o(s,a,r(null)),e.exports=function(e){s[a][e]=!0}},function(e,t,n){var i=n(29),r=n(51),o=n(118),a=function(e){return function(t,n,a){var s,u=i(t),c=r(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var i=n(99),r=n(45),o=n(119),a=n(51),s=n(98),u=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,l=4==e,d=6==e,p=5==e||d;return function(f,h,m,v){for(var g,y,b=o(f),_=r(b),w=i(h,m,3),I=a(_.length),E=0,k=v||s,T=t?k(f,I):n?k(f,0):void 0;I>E;E++)if((p||E in _)&&(g=_[E],y=w(g,E,b),e))if(t)T[E]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return E;case 2:u.call(T,g)}else if(l)return!1;return d?-1:c||l?l:T}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(e,t,n){var i=n(14),r=n(104),o=n(54),a=o("species");e.exports=function(e,t){var n;return r(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var i=n(94);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var i=n(12),r=n(115),o=n(46),a=n(27);e.exports=function(e,t){for(var n=r(t),s=a.f,u=o.f,c=0;c<n.length;c++){var l=n[c];i(e,l)||s(e,l,u(t,l))}}},function(e,t,n){var i=n(4),r=n(46).f,o=n(13),a=n(117),s=n(28),u=n(100),c=n(105);e.exports=function(e,t){var n,l,d,p,f,h=e.target,m=e.global,v=e.stat;if(n=m?i:v?i[h]||s(h,{}):(i[h]||{}).prototype)for(l in t){if(p=t[l],e.noTargetGet?(f=r(n,l),d=f&&f.value):d=n[l],!c(m?l:h+(v?".":"#")+l,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;u(p,d)}(e.sham||d&&d.sham)&&o(p,"sham",!0),a(n,l,p,e)}}},function(e,t,n){var i=n(43);e.exports=i("document","documentElement")},function(e,t,n){var i,r,o,a=n(108),s=n(4),u=n(14),c=n(13),l=n(12),d=n(49),p=n(26),f=s.WeakMap,h=function(e){return o(e)?r(e):i(e,{})},m=function(e){return function(t){var n;if(!u(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(a){var v=new f,g=v.get,y=v.has,b=v.set;i=function(e,t){return b.call(v,e,t),t},r=function(e){return g.call(v,e)||{}},o=function(e){return y.call(v,e)}}else{var _=d("state");p[_]=!0,i=function(e,t){return c(e,_,t),t},r=function(e){return l(e,_)?e[_]:{}},o=function(e){return l(e,_)}}e.exports={set:i,get:r,has:o,enforce:h,getterFor:m}},function(e,t,n){var i=n(39);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(11),r=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==c||n!=u&&("function"==typeof t?i(t):!!t)},a=o.normalize=function(e){return String(e).replace(r,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},function(e,t){e.exports=!1},function(e,t,n){var i=n(11);e.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},function(e,t,n){var i=n(4),r=n(42),o=i.WeakMap;e.exports="function"==typeof o&&/native code/.test(r.call(o))},function(e,t,n){var i=n(18),r=n(110),o=n(25),a=n(26),s=n(102),u=n(41),c=n(49),l=c("IE_PROTO"),d=function(){},p=function(){var e,t=u("iframe"),n=o.length;for(t.style.display="none",s.appendChild(t),t.src=String("javascript:"),e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),p=e.F;n--;)delete p.prototype[o[n]];return p()};e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[l]=e):n=p(),void 0===t?n:r(n,t)},a[l]=!0},function(e,t,n){var i=n(10),r=n(27),o=n(18),a=n(113);e.exports=i?Object.defineProperties:function(e,t){o(e);for(var n,i=a(t),s=i.length,u=0;s>u;)r.f(e,n=i[u++],t[n]);return e}},function(e,t,n){var i=n(47),r=n(25),o=r.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,o)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(47),r=n(25);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},function(e,t,n){var i=n(43),r=n(111),o=n(112),a=n(18);e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){e.exports=n(4)},function(e,t,n){var i=n(4),r=n(19),o=n(13),a=n(12),s=n(28),u=n(42),c=n(103),l=c.get,d=c.enforce,p=String(u).split("toString");r("inspectSource",function(e){return u.call(e)}),(e.exports=function(e,t,n,r){var u=!!r&&!!r.unsafe,c=!!r&&!!r.enumerable,l=!!r&&!!r.noTargetGet;if("function"==typeof n&&("string"!=typeof t||a(n,"name")||o(n,"name",t),d(n).source=p.join("string"==typeof t?t:"")),e===i)return void(c?e[t]=n:s(t,n));u?!l&&e[t]&&(c=!0):delete e[t],c?e[t]=n:o(e,t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&l(this).source||u.call(this)})},function(e,t,n){var i=n(50),r=Math.max,o=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):o(n,t)}},function(e,t,n){var i=n(48);e.exports=function(e){return Object(i(e))}},function(e,t,n){"use strict";var i=n(101),r=n(97).find,o=n(95),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),i({target:"Array",proto:!0,forced:a},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(e,t){!function(e){e.forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype].filter(Boolean))},function(e,t,n){var i,r;!function(o){var a=!1;if(i=o,void 0!==(r="function"==typeof i?i.call(t,n,t,e):i)&&(e.exports=r),a=!0,e.exports=o(),a=!0,!a){var s=window.Cookies,u=window.Cookies=o();u.noConflict=function(){return window.Cookies=s,u}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(n){function i(t,r,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if(o=e({path:"/"},i.defaults,o),"number"==typeof o.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}o.expires=o.expires?o.expires.toUTCString():"";try{a=JSON.stringify(r),/^[\{\[]/.test(a)&&(r=a)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var u="";for(var c in o)o[c]&&(u+="; "+c,!0!==o[c]&&(u+="="+o[c]));return document.cookie=t+"="+r+u}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,p=0;p<l.length;p++){var f=l[p].split("="),h=f.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var m=f[0].replace(d,decodeURIComponent);if(h=n.read?n.read(h,m):n(h,m)||h.replace(d,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===m){a=h;break}t||(a[m]=h)}catch(e){}}return a}}return i.set=i,i.get=function(e){return i.call(i,e)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(t,n){i(t,"",e(n,{expires:-1}))},i.withConverter=t,i}return t(function(){})})},function(e,t,n){var i,i;!function(t){e.exports=t()}(function(){return function e(t,n,r){function o(s,u){if(!n[s]){if(!t[s]){var c="function"==typeof i&&i;if(!u&&c)return i(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return o(n||e)},d,d.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof i&&i,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){"use strict";function i(e,t,n){if("function"==typeof Array.prototype.find)return e.find(t,n);n=n||this;var i,r=e.length;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(i=0;i<r;i++)if(t.call(n,e[i],i,e))return e[i]}t.exports=i},{}],2:[function(e,t,n){!function(e,t){"use strict";function n(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||l(),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,i=this.intersectionRect,r=i.width*i.height;this.intersectionRatio=n?r/n:this.isIntersecting?1:0}function i(e,t){var n=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=o(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function r(){return e.performance&&performance.now&&performance.now()}function o(e,t){var n=null;return function(){n||(n=setTimeout(function(){e(),n=null},t))}}function a(e,t,n,i){"function"==typeof e.addEventListener?e.addEventListener(t,n,i||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function s(e,t,n,i){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,i||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function u(e,t){var n=Math.max(e.top,t.top),i=Math.min(e.bottom,t.bottom),r=Math.max(e.left,t.left),o=Math.min(e.right,t.right),a=o-r,s=i-n;return a>=0&&s>=0&&{top:n,bottom:i,left:r,right:o,width:a,height:s}}function c(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):l()}function l(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function d(e,t){for(var n=t;n;){if(n==e)return!0;n=p(n)}return!1}function p(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t}if(!("IntersectionObserver"in e&&"IntersectionObserverEntry"in e&&"intersectionRatio"in e.IntersectionObserverEntry.prototype)){var f=[];i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections()}},i.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},i.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]})},i.prototype._parseRootMargin=function(e){var t=e||"0px",n=t.split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return n[1]=n[1]||n[0],n[2]=n[2]||n[0],n[3]=n[3]||n[1],n},i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this._checkForIntersections(),this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(a(e,"resize",this._checkForIntersections,!0),a(t,"scroll",this._checkForIntersections,!0),"MutationObserver"in e&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,s(e,"resize",this._checkForIntersections,!0),s(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),t=e?this._getRootRect():l();this._observationTargets.forEach(function(i){var o=i.element,a=c(o),s=this._rootContainsTarget(o),u=i.entry,l=e&&s&&this._computeTargetAndRootIntersection(o,t),d=i.entry=new n({time:r(),target:o,boundingClientRect:a,rootBounds:t,intersectionRect:l});u?e&&s?this._hasCrossedThreshold(u,d)&&this._queuedEntries.push(d):u&&u.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(n,i){if("none"!=e.getComputedStyle(n).display){for(var r=c(n),o=r,a=p(n),s=!1;!s;){var l=null,d=1==a.nodeType?e.getComputedStyle(a):{};if("none"==d.display)return;if(a==this.root||a==t?(s=!0,l=i):a!=t.body&&a!=t.documentElement&&"visible"!=d.overflow&&(l=c(a)),l&&!(o=u(l,o)))break;a=p(a)}return o}},i.prototype._getRootRect=function(){var e;if(this.root)e=c(this.root);else{var n=t.documentElement,i=t.body;e={top:0,left:0,right:n.clientWidth||i.clientWidth,width:n.clientWidth||i.clientWidth,bottom:n.clientHeight||i.clientHeight,height:n.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(e)},i.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map(function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100}),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},i.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,i=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==i)for(var r=0;r<this.thresholds.length;r++){var o=this.thresholds[r];if(o==n||o==i||o<n!=o<i)return!0}},i.prototype._rootIsInDom=function(){return!this.root||d(t,this.root)},i.prototype._rootContainsTarget=function(e){return d(this.root||t,e)},i.prototype._registerInstance=function(){f.indexOf(this)<0&&f.push(this)},i.prototype._unregisterInstance=function(){var e=f.indexOf(this);-1!=e&&f.splice(e,1)},e.IntersectionObserver=i,e.IntersectionObserverEntry=n}}(window,document)},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=(n.getDetails=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{viewportWidth:Math.max(document.body.clientWidth,window.innerWidth)||-1,viewportHeight:Math.max(document.body.clientHeight,window.innerHeight)||-1,elementWidth:e.clientWidth||-1,elementHeight:e.clientHeight||-1,iframeContext:r(),focus:i()}},n.isInFocus=function(){return("undefined"===document.hidden||!0!==document.hidden)&&(r()===o.CROSS_DOMAIN_IFRAME||(!window.document.hasFocus||window.top.document.hasFocus()))}),r=n.iFrameContext=function(){try{if(window.top===window)return o.ON_PAGE;for(var e=window;e.parent!==e;){if(e.parent.document.domain!==e.document.domain)return o.CROSS_DOMAIN_IFRAME;e=e.parent}o.SAME_DOMAIN_IFRAME}catch(e){return o.CROSS_DOMAIN_IFRAME}},o=n.iFrameServingScenarios={ON_PAGE:"on page",SAME_DOMAIN_IFRAME:"same domain iframe",CROSS_DOMAIN_IFRAME:"cross domain iframe"}},{}],4:[function(e,t,n){"use strict";e("array-find")},{"array-find":1}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.validateStrategy=n.validateCriteria=n.validElement=n.validTechnique=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=e("../Measurement/MeasurementTechniques/BaseTechnique"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=(n.validTechnique=function(e){return"function"==typeof e&&Object.getOwnPropertyNames(o.default).reduce(function(t,n){return n&&i(e[t])===i(o.default[t])},!0)},n.validElement=function(e){return e&&e.toString().indexOf("Element")>-1},n.validateCriteria=function(e){var t=e.inViewThreshold,n=e.timeInView,i=!1,r=[];return("number"!=typeof t||t>1)&&(i=!0,r.push("inViewThreshold must be a number equal to or less than 1")),("number"!=typeof n||n<0)&&(i=!0,r.push("timeInView must be a number greater to or equal 0")),{invalid:i,reasons:r.join(" | ")}});n.validateStrategy=function(e){var t=e.autostart,n=e.techniques,i=e.criteria,r=!1,o=[];"boolean"!=typeof t&&(r=!0,o.push("autostart must be boolean")),Array.isArray(n)&&0!==n.length||(r=!0,o.push("techniques must be an array containing atleast on measurement techniques"));var s=a(i);return s.invalid&&(r=!0,o.push(s.reasons)),{invalid:r,reasons:o.join(" | ")}}},{"../Measurement/MeasurementTechniques/BaseTechnique":8}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.START="start",n.STOP="stop",n.CHANGE="change",n.COMPLETE="complete",n.UNMEASUREABLE="unmeasureable",n.INVIEW="inview",n.OUTVIEW="outview"},{}],7:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("../Timing/InViewTimer"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=e("./Strategies/"),l=e("../Helpers/Validators"),d=e("../Environment/Environment"),p=i(d),f=e("./Events"),h=i(f),m=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this._listeners={start:[],stop:[],change:[],complete:[],unmeasureable:[]},this._element=t,this._strategy=o({},c.DEFAULT_STRATEGY,i),this._criteriaMet=!1;var a=(0,l.validateStrategy)(this._strategy);if(a.invalid)throw a.reasons;this._technique=this._selectTechnique(this._strategy.techniques),this._technique&&this._addSubscriptions(this._technique),this.unmeasureable?setTimeout(function(){return n._publish(h.UNMEASUREABLE,p.getDetails(n._element))},0):this._strategy.autostart&&this._technique.start()}return a(e,[{key:"start",value:function(){this._technique.start()}},{key:"dispose",value:function(){this._technique&&this._technique.dispose(),this.timer&&this.timer.dispose()}},{key:"onViewableStart",value:function(e){return this._addCallback(e,h.START)}},{key:"onViewableStop",value:function(e){return this._addCallback(e,h.STOP)}},{key:"onViewableChange",value:function(e){return this._addCallback(e,h.CHANGE)}},{key:"onViewableComplete",value:function(e){return this._addCallback(e,h.COMPLETE),this.criteriaMet&&this._techniqueChange(h.COMPLETE,this._technique),this}},{key:"onUnmeasureable",value:function(e){return this._addCallback(e,h.UNMEASUREABLE),this.unmeasureable&&this._techniqueChange(h.UNMEASUREABLE),this}},{key:"_selectTechnique",value:function(e){return e.filter(l.validTechnique).map(this._instantiateTechnique.bind(this)).find(function(e){return!e.unmeasureable})}},{key:"_instantiateTechnique",value:function(e){return new e(this._element,this._strategy.criteria)}},{key:"_addSubscriptions",value:function(e){e&&(e.onInView(this._techniqueChange.bind(this,h.INVIEW,e)),e.onChangeView(this._techniqueChange.bind(this,h.CHANGE,e)),e.onOutView(this._techniqueChange.bind(this,h.OUTVIEW,e)))}},{key:"_techniqueChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0,i=this._appendEnvironment(t);switch(e){case h.INVIEW:this._criteriaMet||(this.timer=new u.default(this._strategy.criteria.timeInView),this.timer.elapsed(this._timerElapsed.bind(this,t)),this.timer.start(),n=h.START);break;case h.CHANGE:n=e;break;case h.COMPLETE:this._criteriaMet||(this._criteriaMet=!0,n=e);break;case h.OUTVIEW:this._criteriaMet||(this.timer&&(this.timer.stop(),delete this.timer),n=h.STOP);break;case h.UNMEASUREABLE:n=h.UNMEASUREABLE}n&&this._publish(n,i)}},{key:"_publish",value:function(e,t){Array.isArray(this._listeners[e])&&this._listeners[e].forEach(function(e){return e(t)})}},{key:"_timerElapsed",value:function(e){this._techniqueChange(h.COMPLETE,e)}},{key:"_addCallback",value:function(e,t){if(this._listeners[t]&&"function"==typeof e)this._listeners[t].push(e);else if("function"!=typeof e)throw"Callback must be a function";return this}},{key:"_appendEnvironment",value:function(e){return o({},{percentViewable:void 0===e.percentViewable?-1:e.percentViewable,technique:e.techniqueName||-1,viewable:void 0===e.viewable?-1:e.viewable},p.getDetails(this._element))}},{key:"unmeasureable",get:function(){return!this._technique||this._technique.unmeasureable}}]),e}();n.default=m,t.exports=n.default},{"../Environment/Environment":3,"../Helpers/Validators":5,"../Timing/InViewTimer":15,"./Events":6,"./Strategies/":12}],8:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e),this.listeners={inView:[],outView:[],changeView:[]},this.percentViewable=0}return r(e,[{key:"onInView",value:function(e){return this.addCallback(e,"inView")}},{key:"onChangeView",value:function(e){return this.addCallback(e,"changeView")}},{key:"onOutView",value:function(e){return this.addCallback(e,"outView")}},{key:"addCallback",value:function(e,t){if("function"==typeof e&&this.listeners[t])this.listeners[t].push(e);else if("function"!=typeof e)throw"callback must be function";return this}},{key:"start",value:function(){}},{key:"dispose",value:function(){}},{key:"unmeasureable",get:function(){return!1}},{key:"viewable",get:function(){return!1}},{key:"techniqueName",get:function(){return"BaseTechnique"}}]),e}();n.default=o,t.exports=n.default},{}],9:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./BaseTechnique"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=e("../../Helpers/Validators"),l=e("../Strategies/"),d=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.DEFAULT_STRATEGY.criteria;i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(void 0!==n&&e)o.element=e,o.criteria=n,o.inView=!1,o.started=!1,o.notificationLevels=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],-1===o.notificationLevels.indexOf(o.criteria.inViewThreshold)&&o.notificationLevels.push(o.criteria.inViewThreshold);else if(!e)throw"element not provided";return o}return o(t,e),a(t,[{key:"start",value:function(){this.observer=new window.IntersectionObserver(this.viewableChange.bind(this),{threshold:this.notificationLevels}),this.observer.observe(this.element)}},{key:"dispose",value:function(){this.observer&&(this.observer.unobserve(element),this.observer.disconnect(element))}},{key:"viewableChange",value:function(e){e&&e.length&&void 0!==e[0].intersectionRatio&&(this.percentViewable=e[0].intersectionRatio,e[0].intersectionRatio<this.criteria.inViewThreshold&&this.started&&this.inView&&(this.inView=!1,this.listeners.outView.forEach(function(e){return e()})),e[0].intersectionRatio>=this.criteria.inViewThreshold&&!this.inView&&(this.started=!0,this.inView=!0,this.listeners.inView.forEach(function(e){return e()})),this.listeners.changeView.forEach(function(e){return e()}))}},{key:"unmeasureable",get:function(){return!window.IntersectionObserver||this.usesPolyfill||!(0,c.validElement)(this.element)}},{key:"viewable",get:function(){return this.inView}},{key:"techniqueName",get:function(){return"IntersectionObserver"}},{key:"usesPolyfill",get:function(){return"number"==typeof window.IntersectionObserver.prototype.THROTTLE_TIMEOUT}}]),t}(u.default);n.default=d,t.exports=n.default},{"../../Helpers/Validators":5,"../Strategies/":12,"./BaseTechnique":8}],10:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=e("./IntersectionObserver"),c=i(u),l=e("intersection-observer"),d=(i(l),e("../../Environment/Environment")),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(d),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"unmeasureable",get:function(){return p.iFrameContext()===p.iFrameServingScenarios.CROSS_DOMAIN_IFRAME}},{key:"techniqueName",get:function(){return"IntersectionObserverPolyFill"}}]),t}(c.default);n.default=f,t.exports=n.default},{"../../Environment/Environment":3,"./IntersectionObserver":9,"intersection-observer":2}],11:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./IntersectionObserver");Object.defineProperty(n,"IntersectionObserver",{enumerable:!0,get:function(){return i(r).default}});var o=e("./IntersectionObserverPolyfill");Object.defineProperty(n,"IntersectionObserverPolyfill",{enumerable:!0,get:function(){return i(o).default}});var a=e("./BaseTechnique");Object.defineProperty(n,"BaseTechnique",{enumerable:!0,get:function(){return i(a).default}})},{"./BaseTechnique":8,"./IntersectionObserver":9,"./IntersectionObserverPolyfill":10}],12:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(n,"__esModule",{value:!0}),n.StrategyFactory=n.DEFAULT_STRATEGY=void 0;var r=e("../../Helpers/Validators"),o=i(r),a=e("../MeasurementTechniques/"),s=i(a),u=e("../../Options/ViewabilityCriteria"),c=i(u),l=n.DEFAULT_STRATEGY={autostart:!0,techniques:[s.IntersectionObserver,s.IntersectionObserverPolyfill],criteria:c.MRC_VIDEO};n.StrategyFactory=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.autostart,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.techniques,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.criteria,i={autostart:e,techniques:t,criteria:n},r=o.validateStrategy(i);if(r.invalid)throw r.reasons;return i}},{"../../Helpers/Validators":5,"../../Options/ViewabilityCriteria":14,"../MeasurementTechniques/":11}],13:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();e("./Helpers/Polyfills.js");var s=e("./Measurement/Events"),u=r(s),c=e("./Timing/InViewTimer"),l=i(c),d=e("./Measurement/Strategies/"),p=r(d),f=e("./Environment/Environment"),h=(r(f),e("./Measurement/MeasurementExecutor")),m=i(h),v=e("./Options/ViewabilityCriteria"),g=r(v),y=e("./Measurement/MeasurementTechniques/"),b=r(y),_=function(){function e(){o(this,e),this.executors=[]}return a(e,[{key:"measureElement",value:function(e,t){var n=new m.default(e,t);return this.executors.push(n),n}},{key:"dispose",value:function(){this.executors.forEach(function(e){return e.dispose()})}}]),e}();n.default=_,_.ViewabilityCriteria=g,_.MeasurementExecutor=m.default,_.MeasurementTechniques=b,_.InViewTimer=l.default,_.Strategies=p,_.Events=u,t.exports=n.default},{"./Environment/Environment":3,"./Helpers/Polyfills.js":4,"./Measurement/Events":6,"./Measurement/MeasurementExecutor":7,"./Measurement/MeasurementTechniques/":11,"./Measurement/Strategies/":12,"./Options/ViewabilityCriteria":14,"./Timing/InViewTimer":15}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.MRC_VIDEO={inViewThreshold:.5,timeInView:2e3},n.MRC_DISPLAY={inViewThreshold:.5,timeInView:1e3},n.customCriteria=function(){return{inViewThreshold:arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,timeInView:arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3}}},{}],15:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.duration=t,this.listeners=[],this.completed=!1}return r(e,[{key:"timerComplete",value:function(){this.completed=!0,this.listeners.forEach(function(e){return e()})}},{key:"elapsed",value:function(e){"function"==typeof e&&this.listeners.push(e)}},{key:"start",value:function(){this.endTimer(),this.timer=setTimeout(this.timerComplete.bind(this),this.duration)}},{key:"stop",value:function(){this.endTimer()}},{key:"endTimer",value:function(){this.timer&&(clearTimeout(this.timer),this.listeners.length=0)}},{key:"dispose",value:function(){this.endTimer()}}]),e}();n.default=o,t.exports=n.default},{}]},{},[13])(13)})},function(e,t,n){(function(t){(function(){var n,i,r,o,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},i=t.hrtime,n=function(){var e;return e=i(),1e9*e[0]+e[1]},o=n(),s=1e9*t.uptime(),a=o-s):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,n(56))},function(e,t,n){(function(t){for(var i=n(124),r="undefined"==typeof window?t:window,o=["moz","webkit"],a="AnimationFrame",s=r["request"+a],u=r["cancel"+a]||r["cancelRequest"+a],c=0;!s&&c<o.length;c++)s=r[o[c]+"Request"+a],u=r[o[c]+"Cancel"+a]||r[o[c]+"CancelRequest"+a];if(!s||!u){var l=0,d=0,p=[];s=function(e){if(0===p.length){var t=i(),n=Math.max(0,1e3/60-(t-l));l=n+t,setTimeout(function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return p.push({handle:++d,callback:e,cancelled:!1}),d},u=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return s.call(r,e)},e.exports.cancel=function(){u.apply(r,arguments)},e.exports.polyfill=function(e){e||(e=r),e.requestAnimationFrame=s,e.cancelAnimationFrame=u}}).call(t,n(20))},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r))return e;var o;return o=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){e.exports=n(58)}]);
})(); 
}
 catch(e) {  var xmlHttp = new XMLHttpRequest();xmlHttp.open("POST", "https://events.apester.com/event", true);xmlHttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");xmlHttp.send(JSON.stringify({event: "apester-sdk-error",properties: {referrer: encodeURIComponent(document.location.href)},metadata: {}}));console.error("ApesterSDK had critical error, please contact us with the following error message: ", e)}